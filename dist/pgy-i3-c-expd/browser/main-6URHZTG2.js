import{$ as _t,$a as Rb,$b as Ab,A as Cc,Aa as is,Ab as Oh,Ac as fo,B as ro,Ba as re,Bb as f,Bc as Vh,C as ob,Ca as pb,Cb as g,Cc as li,D as Ut,Da as M,Db as ee,Dc as zb,E as st,Ea as ns,Eb as Ks,Ec as jb,F as Eh,Fa as fb,Fb as qs,Fc as Gh,G as ao,Ga as fa,Gb as tt,Gc as $b,H as Zo,Ha as mb,Hb as Mi,I as lo,Ia as os,Ib as Y,J as Dh,Ja as ft,Jb as X,Jc as Rn,K as Lt,Ka as ma,Kb as it,Kc as Ai,L as sb,La as Us,Lb as Ne,M as co,Ma as zs,Mb as bt,Mc as Gt,N as Jo,Na as gb,Nb as Qe,Nc as fn,O as es,Oa as vb,Ob as xe,Oc as gi,P as uo,Pa as Cb,Pb as Ee,Pc as Kb,Q as Th,Qa as bb,Qb as Mb,Qc as qb,R as rb,Ra as yb,Rb as Pb,S as ab,Sa as wb,Sb as Ot,T as lb,Ta as _b,Tb as _,U as cb,Ua as Ii,Ub as ze,V as Ih,Va as Sb,Vb as wc,W as Ws,Wa as ga,Wb as Te,X as Ft,Xa as x,Xb as Ie,Y as Et,Ya as b,Yb as ke,Z as Ue,Za as js,Zb as $e,_ as db,_a as $t,_b as K,a as D,aa as pt,ab as ss,ac as Fb,b as _e,ba as mi,bb as bc,bc as Ob,c as Rh,ca as q,cb as rs,cc as Nh,d as eb,da as ge,db as xb,dc as _c,e as tE,ea as ub,eb as pe,ec as Sc,f as Ye,fa as ie,fb as yc,fc as Nb,g as gt,ga as kh,gb as ki,gc as Xs,h as tb,ha as F,hb as Bt,hc as Lh,i as ai,ia as j,ib as Ph,ic as Lb,j as xh,ja as ha,jb as $s,jc as lt,k as fc,ka as $,kb as Eb,kc as Bb,l as he,la as ve,lb as Je,lc as Vb,m as xt,ma as ue,mb as Db,mc as ye,n as mc,na as Hs,nb as et,nc as Pi,o as ji,oa as pa,ob as Tb,oc as Gn,p as Zt,pa as hb,pb as Ib,pc as pn,q as we,qa as ts,qb as de,qc as Gb,r as Qo,ra as Bn,rb as Ge,rc as Ys,s as gc,sa as Ct,sb as G,sc as Wb,t as ib,ta as ne,tb as ho,tc as Hb,u as nb,ua as oe,ub as Se,uc as Me,v as Be,va as Vn,vb as Vt,vc as Bh,w as ua,wa as Mh,wb as kb,wc as po,x as $i,xa as jt,xb as dt,xc as Ub,y as vc,ya as Ti,yb as Ah,yc as Rc,z as Ln,za as vt,zb as Fh,zc as Ki}from"./chunk-EWSLD455.js";var V0=eb(Qt=>{"use strict";var kg=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},Rs=typeof window<"u"&&window===Qt?Qt:typeof global<"u"&&global!=null?global:Qt;function AP(t,e){if(e){var i=Rs;t=t.split(".");for(var n=0;n<t.length-1;n++){var o=t[n];o in i||(i[o]={}),i=i[o]}t=t[t.length-1],n=i[t],e=e(n),e!=n&&e!=null&&kg(i,t,{configurable:!0,writable:!0,value:e})}}function FP(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function d0(){d0=function(){},Rs.Symbol||(Rs.Symbol=OP)}function u0(t,e){this.a=t,kg(this,"description",{configurable:!0,writable:!0,value:e})}u0.prototype.toString=function(){return this.a};var OP=function(){function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new u0("jscomp_symbol_"+(i||"")+"_"+e++,i)}var e=0;return t}();function Mg(){d0();var t=Rs.Symbol.iterator;t||(t=Rs.Symbol.iterator=Rs.Symbol("Symbol.iterator")),typeof Array.prototype[t]!="function"&&kg(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return NP(FP(this))}}),Mg=function(){}}function NP(t){return Mg(),t={next:t},t[Rs.Symbol.iterator]=function(){return this},t}function LP(t,e){Mg(),t instanceof String&&(t+="");var i=0,n={next:function(){if(i<t.length){var o=i++;return{value:e(o,t[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n}AP("Array.prototype.entries",function(t){return t||function(){return LP(this,function(e,i){return[e,i]})}});var BP=Qt||self;function me(t,e,i){t=t.split("."),i=i||BP,t[0]in i||typeof i.execScript>"u"||i.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||e===void 0?i[n]&&i[n]!==Object.prototype[n]?i=i[n]:i=i[n]={}:i[n]=e}function Qn(t){var e=typeof t;if(e=="object")if(t){if(t instanceof Array)return"array";if(t instanceof Object)return e;var i=Object.prototype.toString.call(t);if(i=="[object Window]")return"object";if(i=="[object Array]"||typeof t.length=="number"&&typeof t.splice<"u"&&typeof t.propertyIsEnumerable<"u"&&!t.propertyIsEnumerable("splice"))return"array";if(i=="[object Function]"||typeof t.call<"u"&&typeof t.propertyIsEnumerable<"u"&&!t.propertyIsEnumerable("call"))return"function"}else return"null";else if(e=="function"&&typeof t.call>"u")return"object";return e}function s0(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VP(t,e,i){me(t,e,i)}function GP(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}var r0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WP(t,e){for(var i,n,o=1;o<arguments.length;o++){n=arguments[o];for(i in n)t[i]=n[i];for(var s=0;s<r0.length;s++)i=r0[s],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}var HP=Array.prototype.forEach?function(t,e){Array.prototype.forEach.call(t,e,void 0)}:function(t,e){for(var i=t.length,n=typeof t=="string"?t.split(""):t,o=0;o<i;o++)o in n&&e.call(void 0,n[o],o,t)},Al=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var i=t.length,n=Array(i),o=typeof t=="string"?t.split(""):t,s=0;s<i;s++)s in o&&(n[s]=e.call(void 0,o[s],s,t));return n};function UP(t,e,i){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,i)}function au(t,e,i,n){var o="Assertion failed";if(i){o+=": "+i;var s=n}else t&&(o+=": "+t,s=e);throw Error(o,s||[])}function O(t,e,i){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return t||au("",null,e,n),t}function zP(t,e,i){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];typeof t!="string"&&au("Expected string but got %s: %s.",[Qn(t),t],e,n)}function jP(t,e,i){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];Array.isArray(t)||au("Expected array but got %s: %s.",[Qn(t),t],e,n)}function Ht(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];throw Error("Failure"+(t?": "+t:""),i)}function Cn(t,e,i,n){for(var o=[],s=3;s<arguments.length;++s)o[s-3]=arguments[s];t instanceof e||au("Expected instanceof %s but got %s.",[a0(e),a0(t)],i,o)}function a0(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):t===null?"null":typeof t}function Ve(t,e){if(this.c=t,this.b=e,this.a={},this.arrClean=!0,0<this.c.length){for(t=0;t<this.c.length;t++){e=this.c[t];var i=e[0];this.a[i.toString()]=new h0(i,e[1])}this.arrClean=!0}}me("jspb.Map",Ve,void 0);Ve.prototype.g=function(){if(this.arrClean){if(this.b){var t=this.a,e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var i=t[e].a;i&&i.g()}}}else{for(this.c.length=0,t=Wo(this),t.sort(),e=0;e<t.length;e++){var n=this.a[t[e]];(i=n.a)&&i.g(),this.c.push([n.key,n.value])}this.arrClean=!0}return this.c};Ve.prototype.toArray=Ve.prototype.g;Ve.prototype.Mc=function(t,e){for(var i=this.g(),n=[],o=0;o<i.length;o++){var s=this.a[i[o][0].toString()];Or(this,s);var r=s.a;r?(O(e),n.push([s.key,e(t,r)])):n.push([s.key,s.value])}return n};Ve.prototype.toObject=Ve.prototype.Mc;Ve.fromObject=function(t,e,i){e=new Ve([],e);for(var n=0;n<t.length;n++){var o=t[n][0],s=i(t[n][1]);e.set(o,s)}return e};function Fl(t){this.a=0,this.b=t}Fl.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}};typeof Symbol<"u"&&(Fl.prototype[Symbol.iterator]=function(){return this});Ve.prototype.Jb=function(){return Wo(this).length};Ve.prototype.getLength=Ve.prototype.Jb;Ve.prototype.clear=function(){this.a={},this.arrClean=!1};Ve.prototype.clear=Ve.prototype.clear;Ve.prototype.Cb=function(t){t=t.toString();var e=this.a.hasOwnProperty(t);return delete this.a[t],this.arrClean=!1,e};Ve.prototype.del=Ve.prototype.Cb;Ve.prototype.Eb=function(){var t=[],e=Wo(this);e.sort();for(var i=0;i<e.length;i++){var n=this.a[e[i]];t.push([n.key,n.value])}return t};Ve.prototype.getEntryList=Ve.prototype.Eb;Ve.prototype.entries=function(){var t=[],e=Wo(this);e.sort();for(var i=0;i<e.length;i++){var n=this.a[e[i]];t.push([n.key,Or(this,n)])}return new Fl(t)};Ve.prototype.entries=Ve.prototype.entries;Ve.prototype.keys=function(){var t=[],e=Wo(this);e.sort();for(var i=0;i<e.length;i++)t.push(this.a[e[i]].key);return new Fl(t)};Ve.prototype.keys=Ve.prototype.keys;Ve.prototype.values=function(){var t=[],e=Wo(this);e.sort();for(var i=0;i<e.length;i++)t.push(Or(this,this.a[e[i]]));return new Fl(t)};Ve.prototype.values=Ve.prototype.values;Ve.prototype.forEach=function(t,e){var i=Wo(this);i.sort();for(var n=0;n<i.length;n++){var o=this.a[i[n]];t.call(e,Or(this,o),o.key,this)}};Ve.prototype.forEach=Ve.prototype.forEach;Ve.prototype.set=function(t,e){var i=new h0(t);return this.b?(i.a=e,i.value=e.g()):i.value=e,this.a[t.toString()]=i,this.arrClean=!1,this};Ve.prototype.set=Ve.prototype.set;function Or(t,e){return t.b?(e.a||(e.a=new t.b(e.value)),e.a):e.value}Ve.prototype.get=function(t){if(t=this.a[t.toString()])return Or(this,t)};Ve.prototype.get=Ve.prototype.get;Ve.prototype.has=function(t){return t.toString()in this.a};Ve.prototype.has=Ve.prototype.has;Ve.prototype.Jc=function(t,e,i,n,o){var s=Wo(this);s.sort();for(var r=0;r<s.length;r++){var a=this.a[s[r]];e.Va(t),i.call(e,1,a.key),this.b?n.call(e,2,Or(this,a),o):n.call(e,2,a.value),e.Ya()}};Ve.prototype.serializeBinary=Ve.prototype.Jc;Ve.deserializeBinary=function(t,e,i,n,o,s,r){for(;e.oa()&&!e.bb();){var a=e.c;a==1?s=i.call(e):a==2&&(t.b?(O(o),r||(r=new t.b),n.call(e,r,o)):r=n.call(e))}O(s!=null),O(r!=null),t.set(s,r)};function Wo(t){t=t.a;var e=[],i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}function h0(t,e){this.key=t,this.value=e,this.a=void 0}function p0(t){if(8192>=t.length)return String.fromCharCode.apply(null,t);for(var e="",i=0;i<t.length;i+=8192)e+=String.fromCharCode.apply(null,UP(t,i,i+8192));return e}var Eg={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},ru={"'":"\\'"},f0={},Il=null;function m0(t,e){e===void 0&&(e=0),v0(),e=f0[e];for(var i=[],n=0;n<t.length;n+=3){var o=t[n],s=n+1<t.length,r=s?t[n+1]:0,a=n+2<t.length,l=a?t[n+2]:0,c=o>>2;o=(o&3)<<4|r>>4,r=(r&15)<<2|l>>6,l&=63,a||(l=64,s||(r=64)),i.push(e[c],e[o],e[r]||"",e[l]||"")}return i.join("")}function g0(t){var e=t.length,i=3*e/4;i%3?i=Math.floor(i):"=.".indexOf(t[e-1])!=-1&&(i="=.".indexOf(t[e-2])!=-1?i-2:i-1);var n=new Uint8Array(i),o=0;return $P(t,function(s){n[o++]=s}),n.subarray(0,o)}function $P(t,e){function i(l){for(;n<t.length;){var c=t.charAt(n++),d=Il[c];if(d!=null)return d;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return l}v0();for(var n=0;;){var o=i(-1),s=i(0),r=i(64),a=i(64);if(a===64&&o===-1)break;e(o<<2|s>>4),r!=64&&(e(s<<4&240|r>>2),a!=64&&e(r<<6&192|a))}}function v0(){if(!Il){Il={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],i=0;5>i;i++){var n=t.concat(e[i].split(""));f0[i]=n;for(var o=0;o<n.length;o++){var s=n[o];Il[s]===void 0&&(Il[s]=o)}}}}me("jspb.ConstBinaryMessage",function(){},void 0);me("jspb.BinaryMessage",function(){},void 0);me("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0);me("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0);me("jspb.BinaryConstants.FieldTypeToWireType",function(t){switch(t){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0);me("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0);me("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0);me("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0);me("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0);me("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0);me("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0);me("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0);me("jspb.BinaryConstants.TWO_TO_20",1048576,void 0);me("jspb.BinaryConstants.TWO_TO_23",8388608,void 0);me("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0);me("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0);me("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0);me("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0);me("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0);me("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var ct=0,ht=0;me("jspb.utils.getSplit64Low",function(){return ct},void 0);me("jspb.utils.getSplit64High",function(){return ht},void 0);function Pg(t){var e=t>>>0;t=Math.floor((t-e)/4294967296)>>>0,ct=e,ht=t}me("jspb.utils.splitUint64",Pg,void 0);function Ol(t){var e=0>t;t=Math.abs(t);var i=t>>>0;t=Math.floor((t-i)/4294967296),t>>>=0,e&&(t=~t>>>0,i=(~i>>>0)+1,4294967295<i&&(i=0,t++,4294967295<t&&(t=0))),ct=i,ht=t}me("jspb.utils.splitInt64",Ol,void 0);function C0(t){var e=0>t;t=2*Math.abs(t),Pg(t),t=ct;var i=ht;e&&(t==0?i==0?i=t=4294967295:(i--,t=4294967295):t--),ct=t,ht=i}me("jspb.utils.splitZigzag64",C0,void 0);function b0(t){var e=0>t?1:0;if(t=e?-t:t,t===0)0<1/t?ct=ht=0:(ht=0,ct=2147483648);else if(isNaN(t))ht=0,ct=2147483647;else if(34028234663852886e22<t)ht=0,ct=(e<<31|2139095040)>>>0;else if(11754943508222875e-54>t)t=Math.round(t/Math.pow(2,-149)),ht=0,ct=(e<<31|t)>>>0;else{var i=Math.floor(Math.log(t)/Math.LN2);t*=Math.pow(2,-i),t=Math.round(8388608*t),16777216<=t&&++i,ht=0,ct=(e<<31|i+127<<23|t&8388607)>>>0}}me("jspb.utils.splitFloat32",b0,void 0);function y0(t){var e=0>t?1:0;if(t=e?-t:t,t===0)ht=0<1/t?0:2147483648,ct=0;else if(isNaN(t))ht=2147483647,ct=4294967295;else if(17976931348623157e292<t)ht=(e<<31|2146435072)>>>0,ct=0;else if(22250738585072014e-324>t)t/=Math.pow(2,-1074),ht=(e<<31|t/4294967296)>>>0,ct=t>>>0;else{var i=t,n=0;if(2<=i)for(;2<=i&&1023>n;)n++,i/=2;else for(;1>i&&-1022<n;)i*=2,n--;t*=Math.pow(2,-n),ht=(e<<31|n+1023<<20|1048576*t&1048575)>>>0,ct=4503599627370496*t>>>0}}me("jspb.utils.splitFloat64",y0,void 0);function Ho(t){var e=t.charCodeAt(4),i=t.charCodeAt(5),n=t.charCodeAt(6),o=t.charCodeAt(7);ct=t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)>>>0,ht=e+(i<<8)+(n<<16)+(o<<24)>>>0}me("jspb.utils.splitHash64",Ho,void 0);function Nr(t,e){return 4294967296*e+(t>>>0)}me("jspb.utils.joinUint64",Nr,void 0);function Nl(t,e){var i=e&2147483648;return i&&(t=~t+1>>>0,e=~e>>>0,t==0&&(e=e+1>>>0)),t=Nr(t,e),i?-t:t}me("jspb.utils.joinInt64",Nl,void 0);function lu(t,e,i){var n=e>>31;return i(t<<1^n,(e<<1|t>>>31)^n)}me("jspb.utils.toZigzag64",lu,void 0);function w0(t,e){return cu(t,e,Nl)}me("jspb.utils.joinZigzag64",w0,void 0);function cu(t,e,i){var n=-(t&1);return i((t>>>1|e<<31)^n,e>>>1^n)}me("jspb.utils.fromZigzag64",cu,void 0);function _0(t){var e=2*(t>>31)+1,i=t>>>23&255;return t&=8388607,i==255?t?NaN:1/0*e:i==0?e*Math.pow(2,-149)*t:e*Math.pow(2,i-150)*(t+Math.pow(2,23))}me("jspb.utils.joinFloat32",_0,void 0);function S0(t,e){var i=2*(e>>31)+1,n=e>>>20&2047;return t=4294967296*(e&1048575)+t,n==2047?t?NaN:1/0*i:n==0?i*Math.pow(2,-1074)*t:i*Math.pow(2,n-1075)*(t+4503599627370496)}me("jspb.utils.joinFloat64",S0,void 0);function du(t,e){return String.fromCharCode(t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)}me("jspb.utils.joinHash64",du,void 0);me("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function Ll(t,e){function i(o,s){return o=o?String(o):"",s?"0000000".slice(o.length)+o:o}if(2097151>=e)return""+Nr(t,e);var n=(t>>>24|e<<8)>>>0&16777215;return e=e>>16&65535,t=(t&16777215)+6777216*n+6710656*e,n+=8147497*e,e*=2,1e7<=t&&(n+=Math.floor(t/1e7),t%=1e7),1e7<=n&&(e+=Math.floor(n/1e7),n%=1e7),i(e,0)+i(n,e)+i(t,1)}me("jspb.utils.joinUnsignedDecimalString",Ll,void 0);function Bl(t,e){var i=e&2147483648;return i&&(t=~t+1>>>0,e=~e+(t==0?1:0)>>>0),t=Ll(t,e),i?"-"+t:t}me("jspb.utils.joinSignedDecimalString",Bl,void 0);function R0(t,e){Ho(t),t=ct;var i=ht;return e?Bl(t,i):Ll(t,i)}me("jspb.utils.hash64ToDecimalString",R0,void 0);me("jspb.utils.hash64ArrayToDecimalStrings",function(t,e){for(var i=Array(t.length),n=0;n<t.length;n++)i[n]=R0(t[n],e);return i},void 0);function Vl(t){function e(r,a){for(var l=0;8>l&&(r!==1||0<a);l++)a=r*o[l]+a,o[l]=a&255,a>>>=8}function i(){for(var r=0;8>r;r++)o[r]=~o[r]&255}O(0<t.length);var n=!1;t[0]==="-"&&(n=!0,t=t.slice(1));for(var o=[0,0,0,0,0,0,0,0],s=0;s<t.length;s++)e(10,t.charCodeAt(s)-48);return n&&(i(),e(1,1)),p0(o)}me("jspb.utils.decimalStringToHash64",Vl,void 0);me("jspb.utils.splitDecimalString",function(t){Ho(Vl(t))},void 0);function l0(t){return String.fromCharCode(10>t?48+t:87+t)}function c0(t){return 97<=t?t-97+10:t-48}me("jspb.utils.hash64ToHexString",function(t){var e=Array(18);e[0]="0",e[1]="x";for(var i=0;8>i;i++){var n=t.charCodeAt(7-i);e[2*i+2]=l0(n>>4),e[2*i+3]=l0(n&15)}return e.join("")},void 0);me("jspb.utils.hexStringToHash64",function(t){t=t.toLowerCase(),O(t.length==18),O(t[0]=="0"),O(t[1]=="x");for(var e="",i=0;8>i;i++)e=String.fromCharCode(16*c0(t.charCodeAt(2*i+2))+c0(t.charCodeAt(2*i+3)))+e;return e},void 0);me("jspb.utils.hash64ToNumber",function(t,e){Ho(t),t=ct;var i=ht;return e?Nl(t,i):Nr(t,i)},void 0);me("jspb.utils.numberToHash64",function(t){return Ol(t),du(ct,ht)},void 0);me("jspb.utils.countVarints",function(t,e,i){for(var n=0,o=e;o<i;o++)n+=t[o]>>7;return i-e-n},void 0);me("jspb.utils.countVarintFields",function(t,e,i,n){var o=0;if(n*=8,128>n)for(;e<i&&t[e++]==n;)for(o++;;){var s=t[e++];if(!(s&128))break}else for(;e<i;){for(s=n;128<s;){if(t[e]!=(s&127|128))return o;e++,s>>=7}if(t[e++]!=s)break;for(o++;s=t[e++],(s&128)!=0;);}return o},void 0);function x0(t,e,i,n,o){var s=0;if(128>n)for(;e<i&&t[e++]==n;)s++,e+=o;else for(;e<i;){for(var r=n;128<r;){if(t[e++]!=(r&127|128))return s;r>>=7}if(t[e++]!=r)break;s++,e+=o}return s}me("jspb.utils.countFixed32Fields",function(t,e,i,n){return x0(t,e,i,8*n+5,4)},void 0);me("jspb.utils.countFixed64Fields",function(t,e,i,n){return x0(t,e,i,8*n+1,8)},void 0);me("jspb.utils.countDelimitedFields",function(t,e,i,n){var o=0;for(n=8*n+2;e<i;){for(var s=n;128<s;){if(t[e++]!=(s&127|128))return o;s>>=7}if(t[e++]!=s)break;o++;for(var r=0,a=1;s=t[e++],r+=(s&127)*a,a*=128,(s&128)!=0;);e+=r}return o},void 0);me("jspb.utils.debugBytesToTextFormat",function(t){var e='"';if(t){t=uu(t);for(var i=0;i<t.length;i++)e+="\\x",16>t[i]&&(e+="0"),e+=t[i].toString(16)}return e+'"'},void 0);me("jspb.utils.debugScalarToTextFormat",function(t){if(typeof t=="string"){t=String(t);for(var e=['"'],i=0;i<t.length;i++){var n=t.charAt(i),o=n.charCodeAt(0),s=i+1,r;(r=Eg[n])||(31<o&&127>o||(o=n,o in ru?n=ru[o]:o in Eg?n=ru[o]=Eg[o]:(r=o.charCodeAt(0),31<r&&127>r?n=o:(256>r?(n="\\x",(16>r||256<r)&&(n+="0")):(n="\\u",4096>r&&(n+="0")),n+=r.toString(16).toUpperCase()),n=ru[o]=n)),r=n),e[s]=r}e.push('"'),t=e.join("")}else t=t.toString();return t},void 0);me("jspb.utils.stringToByteArray",function(t){for(var e=new Uint8Array(t.length),i=0;i<t.length;i++){var n=t.charCodeAt(i);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");e[i]=n}return e},void 0);function uu(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer?new Uint8Array(t):t.constructor===Array?new Uint8Array(t):t.constructor===String?g0(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):(Ht("Type not convertible to Uint8Array."),new Uint8Array(0))}me("jspb.utils.byteSourceToUint8Array",uu,void 0);function I(t,e,i){this.b=null,this.a=this.c=this.h=0,this.v=!1,t&&this.H(t,e,i)}me("jspb.BinaryDecoder",I,void 0);var kl=[];I.getInstanceCacheLength=function(){return kl.length};function hu(t,e,i){if(kl.length){var n=kl.pop();return t&&n.H(t,e,i),n}return new I(t,e,i)}I.alloc=hu;I.prototype.Ca=function(){this.clear(),100>kl.length&&kl.push(this)};I.prototype.free=I.prototype.Ca;I.prototype.clone=function(){return hu(this.b,this.h,this.c-this.h)};I.prototype.clone=I.prototype.clone;I.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1};I.prototype.clear=I.prototype.clear;I.prototype.Y=function(){return this.b};I.prototype.getBuffer=I.prototype.Y;I.prototype.H=function(t,e,i){this.b=uu(t),this.h=e!==void 0?e:0,this.c=i!==void 0?this.h+i:this.b.length,this.a=this.h};I.prototype.setBlock=I.prototype.H;I.prototype.Db=function(){return this.c};I.prototype.getEnd=I.prototype.Db;I.prototype.setEnd=function(t){this.c=t};I.prototype.setEnd=I.prototype.setEnd;I.prototype.reset=function(){this.a=this.h};I.prototype.reset=I.prototype.reset;I.prototype.B=function(){return this.a};I.prototype.getCursor=I.prototype.B;I.prototype.Ma=function(t){this.a=t};I.prototype.setCursor=I.prototype.Ma;I.prototype.advance=function(t){this.a+=t,O(this.a<=this.c)};I.prototype.advance=I.prototype.advance;I.prototype.ya=function(){return this.a==this.c};I.prototype.atEnd=I.prototype.ya;I.prototype.Qb=function(){return this.a>this.c};I.prototype.pastEnd=I.prototype.Qb;I.prototype.getError=function(){return this.v||0>this.a||this.a>this.c};I.prototype.getError=I.prototype.getError;I.prototype.w=function(t){for(var e=128,i=0,n=0,o=0;4>o&&128<=e;o++)e=this.b[this.a++],i|=(e&127)<<7*o;if(128<=e&&(e=this.b[this.a++],i|=(e&127)<<28,n|=(e&127)>>4),128<=e)for(o=0;5>o&&128<=e;o++)e=this.b[this.a++],n|=(e&127)<<7*o+3;if(128>e)return t(i>>>0,n>>>0);Ht("Failed to read varint, encoding is invalid."),this.v=!0};I.prototype.readSplitVarint64=I.prototype.w;I.prototype.ea=function(t){return this.w(function(e,i){return cu(e,i,t)})};I.prototype.readSplitZigzagVarint64=I.prototype.ea;I.prototype.ta=function(t){var e=this.b,i=this.a;this.a+=8;for(var n=0,o=0,s=i+7;s>=i;s--)n=n<<8|e[s],o=o<<8|e[s+4];return t(n,o)};I.prototype.readSplitFixed64=I.prototype.ta;I.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++};I.prototype.skipVarint=I.prototype.kb;I.prototype.mb=function(t){for(;128<t;)this.a--,t>>>=7;this.a--};I.prototype.unskipVarint=I.prototype.mb;I.prototype.o=function(){var t=this.b,e=t[this.a],i=e&127;return 128>e?(this.a+=1,O(this.a<=this.c),i):(e=t[this.a+1],i|=(e&127)<<7,128>e?(this.a+=2,O(this.a<=this.c),i):(e=t[this.a+2],i|=(e&127)<<14,128>e?(this.a+=3,O(this.a<=this.c),i):(e=t[this.a+3],i|=(e&127)<<21,128>e?(this.a+=4,O(this.a<=this.c),i):(e=t[this.a+4],i|=(e&15)<<28,128>e?(this.a+=5,O(this.a<=this.c),i>>>0):(this.a+=5,128<=t[this.a++]&&128<=t[this.a++]&&128<=t[this.a++]&&128<=t[this.a++]&&128<=t[this.a++]&&O(!1),O(this.a<=this.c),i)))))};I.prototype.readUnsignedVarint32=I.prototype.o;I.prototype.da=function(){return~~this.o()};I.prototype.readSignedVarint32=I.prototype.da;I.prototype.O=function(){return this.o().toString()};I.prototype.Ea=function(){return this.da().toString()};I.prototype.readSignedVarint32String=I.prototype.Ea;I.prototype.Ia=function(){var t=this.o();return t>>>1^-(t&1)};I.prototype.readZigzagVarint32=I.prototype.Ia;I.prototype.Ga=function(){return this.w(Nr)};I.prototype.readUnsignedVarint64=I.prototype.Ga;I.prototype.Ha=function(){return this.w(Ll)};I.prototype.readUnsignedVarint64String=I.prototype.Ha;I.prototype.sa=function(){return this.w(Nl)};I.prototype.readSignedVarint64=I.prototype.sa;I.prototype.Fa=function(){return this.w(Bl)};I.prototype.readSignedVarint64String=I.prototype.Fa;I.prototype.Ja=function(){return this.w(w0)};I.prototype.readZigzagVarint64=I.prototype.Ja;I.prototype.fb=function(){return this.ea(du)};I.prototype.readZigzagVarintHash64=I.prototype.fb;I.prototype.Ka=function(){return this.ea(Bl)};I.prototype.readZigzagVarint64String=I.prototype.Ka;I.prototype.Gc=function(){var t=this.b[this.a];return this.a+=1,O(this.a<=this.c),t};I.prototype.readUint8=I.prototype.Gc;I.prototype.Ec=function(){var t=this.b[this.a],e=this.b[this.a+1];return this.a+=2,O(this.a<=this.c),t<<0|e<<8};I.prototype.readUint16=I.prototype.Ec;I.prototype.m=function(){var t=this.b[this.a],e=this.b[this.a+1],i=this.b[this.a+2],n=this.b[this.a+3];return this.a+=4,O(this.a<=this.c),(t<<0|e<<8|i<<16|n<<24)>>>0};I.prototype.readUint32=I.prototype.m;I.prototype.ga=function(){var t=this.m(),e=this.m();return Nr(t,e)};I.prototype.readUint64=I.prototype.ga;I.prototype.ha=function(){var t=this.m(),e=this.m();return Ll(t,e)};I.prototype.readUint64String=I.prototype.ha;I.prototype.Xb=function(){var t=this.b[this.a];return this.a+=1,O(this.a<=this.c),t<<24>>24};I.prototype.readInt8=I.prototype.Xb;I.prototype.Vb=function(){var t=this.b[this.a],e=this.b[this.a+1];return this.a+=2,O(this.a<=this.c),(t<<0|e<<8)<<16>>16};I.prototype.readInt16=I.prototype.Vb;I.prototype.P=function(){var t=this.b[this.a],e=this.b[this.a+1],i=this.b[this.a+2],n=this.b[this.a+3];return this.a+=4,O(this.a<=this.c),t<<0|e<<8|i<<16|n<<24};I.prototype.readInt32=I.prototype.P;I.prototype.ba=function(){var t=this.m(),e=this.m();return Nl(t,e)};I.prototype.readInt64=I.prototype.ba;I.prototype.ca=function(){var t=this.m(),e=this.m();return Bl(t,e)};I.prototype.readInt64String=I.prototype.ca;I.prototype.aa=function(){var t=this.m();return _0(t,0)};I.prototype.readFloat=I.prototype.aa;I.prototype.Z=function(){var t=this.m(),e=this.m();return S0(t,e)};I.prototype.readDouble=I.prototype.Z;I.prototype.pa=function(){return!!this.b[this.a++]};I.prototype.readBool=I.prototype.pa;I.prototype.ra=function(){return this.da()};I.prototype.readEnum=I.prototype.ra;I.prototype.fa=function(t){var e=this.b,i=this.a;t=i+t;for(var n=[],o="";i<t;){var s=e[i++];if(128>s)n.push(s);else{if(192>s)continue;if(224>s){var r=e[i++];n.push((s&31)<<6|r&63)}else if(240>s){r=e[i++];var a=e[i++];n.push((s&15)<<12|(r&63)<<6|a&63)}else if(248>s){r=e[i++],a=e[i++];var l=e[i++];s=(s&7)<<18|(r&63)<<12|(a&63)<<6|l&63,s-=65536,n.push((s>>10&1023)+55296,(s&1023)+56320)}}8192<=n.length&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+=p0(n),this.a=i,o};I.prototype.readString=I.prototype.fa;I.prototype.Dc=function(){var t=this.o();return this.fa(t)};I.prototype.readStringWithLength=I.prototype.Dc;I.prototype.qa=function(t){if(0>t||this.a+t>this.b.length)return this.v=!0,Ht("Invalid byte length!"),new Uint8Array(0);var e=this.b.subarray(this.a,this.a+t);return this.a+=t,O(this.a<=this.c),e};I.prototype.readBytes=I.prototype.qa;I.prototype.ia=function(){return this.w(du)};I.prototype.readVarintHash64=I.prototype.ia;I.prototype.$=function(){var t=this.b,e=this.a,i=t[e],n=t[e+1],o=t[e+2],s=t[e+3],r=t[e+4],a=t[e+5],l=t[e+6];return t=t[e+7],this.a+=8,String.fromCharCode(i,n,o,s,r,a,l,t)};I.prototype.readFixedHash64=I.prototype.$;function w(t,e,i){this.a=hu(t,e,i),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}me("jspb.BinaryReader",w,void 0);var Fr=[];w.clearInstanceCache=function(){Fr=[]};w.getInstanceCacheLength=function(){return Fr.length};function E0(t,e,i){if(Fr.length){var n=Fr.pop();return t&&n.a.H(t,e,i),n}return new w(t,e,i)}w.alloc=E0;w.prototype.zb=E0;w.prototype.alloc=w.prototype.zb;w.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>Fr.length&&Fr.push(this)};w.prototype.free=w.prototype.Ca;w.prototype.Fb=function(){return this.O};w.prototype.getFieldCursor=w.prototype.Fb;w.prototype.B=function(){return this.a.B()};w.prototype.getCursor=w.prototype.B;w.prototype.Y=function(){return this.a.Y()};w.prototype.getBuffer=w.prototype.Y;w.prototype.Hb=function(){return this.c};w.prototype.getFieldNumber=w.prototype.Hb;w.prototype.Lb=function(){return this.b};w.prototype.getWireType=w.prototype.Lb;w.prototype.Mb=function(){return this.b==2};w.prototype.isDelimited=w.prototype.Mb;w.prototype.bb=function(){return this.b==4};w.prototype.isEndGroup=w.prototype.bb;w.prototype.getError=function(){return this.h||this.a.getError()};w.prototype.getError=w.prototype.getError;w.prototype.H=function(t,e,i){this.a.H(t,e,i),this.b=this.c=-1};w.prototype.setBlock=w.prototype.H;w.prototype.reset=function(){this.a.reset(),this.b=this.c=-1};w.prototype.reset=w.prototype.reset;w.prototype.advance=function(t){this.a.advance(t)};w.prototype.advance=w.prototype.advance;w.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return Ht("Decoder hit an error"),!1;this.O=this.a.B();var t=this.a.o(),e=t>>>3;return t&=7,t!=0&&t!=5&&t!=1&&t!=2&&t!=3&&t!=4?(Ht("Invalid wire type: %s (at position %s)",t,this.O),this.h=!0,!1):(this.c=e,this.b=t,!0)};w.prototype.nextField=w.prototype.oa;w.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)};w.prototype.unskipHeader=w.prototype.Oa;w.prototype.Lc=function(){var t=this.c;for(this.Oa();this.oa()&&this.c==t;)this.C();this.a.ya()||this.Oa()};w.prototype.skipMatchingFields=w.prototype.Lc;w.prototype.lb=function(){this.b!=0?(Ht("Invalid wire type for skipVarintField"),this.C()):this.a.kb()};w.prototype.skipVarintField=w.prototype.lb;w.prototype.gb=function(){if(this.b!=2)Ht("Invalid wire type for skipDelimitedField"),this.C();else{var t=this.a.o();this.a.advance(t)}};w.prototype.skipDelimitedField=w.prototype.gb;w.prototype.hb=function(){this.b!=5?(Ht("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)};w.prototype.skipFixed32Field=w.prototype.hb;w.prototype.ib=function(){this.b!=1?(Ht("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)};w.prototype.skipFixed64Field=w.prototype.ib;w.prototype.jb=function(){var t=this.c;do{if(!this.oa()){Ht("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=t&&(Ht("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)};w.prototype.skipGroup=w.prototype.jb;w.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:Ht("Invalid wire encoding for field.")}};w.prototype.skipField=w.prototype.C;w.prototype.Hc=function(t,e){this.v===null&&(this.v={}),O(!this.v[t]),this.v[t]=e};w.prototype.registerReadCallback=w.prototype.Hc;w.prototype.Ic=function(t){return O(this.v!==null),t=this.v[t],O(t),t(this)};w.prototype.runReadCallback=w.prototype.Ic;w.prototype.Yb=function(t,e){O(this.b==2);var i=this.a.c,n=this.a.o();n=this.a.B()+n,this.a.setEnd(n),e(t,this),this.a.Ma(n),this.a.setEnd(i)};w.prototype.readMessage=w.prototype.Yb;w.prototype.Ub=function(t,e,i){O(this.b==3),O(this.c==t),i(e,this),this.h||this.b==4||(Ht("Group submessage did not end with an END_GROUP tag"),this.h=!0)};w.prototype.readGroup=w.prototype.Ub;w.prototype.Gb=function(){O(this.b==2);var t=this.a.o(),e=this.a.B(),i=e+t;return t=hu(this.a.Y(),e,t),this.a.Ma(i),t};w.prototype.getFieldDecoder=w.prototype.Gb;w.prototype.P=function(){return O(this.b==0),this.a.da()};w.prototype.readInt32=w.prototype.P;w.prototype.Wb=function(){return O(this.b==0),this.a.Ea()};w.prototype.readInt32String=w.prototype.Wb;w.prototype.ba=function(){return O(this.b==0),this.a.sa()};w.prototype.readInt64=w.prototype.ba;w.prototype.ca=function(){return O(this.b==0),this.a.Fa()};w.prototype.readInt64String=w.prototype.ca;w.prototype.m=function(){return O(this.b==0),this.a.o()};w.prototype.readUint32=w.prototype.m;w.prototype.Fc=function(){return O(this.b==0),this.a.O()};w.prototype.readUint32String=w.prototype.Fc;w.prototype.ga=function(){return O(this.b==0),this.a.Ga()};w.prototype.readUint64=w.prototype.ga;w.prototype.ha=function(){return O(this.b==0),this.a.Ha()};w.prototype.readUint64String=w.prototype.ha;w.prototype.zc=function(){return O(this.b==0),this.a.Ia()};w.prototype.readSint32=w.prototype.zc;w.prototype.Ac=function(){return O(this.b==0),this.a.Ja()};w.prototype.readSint64=w.prototype.Ac;w.prototype.Bc=function(){return O(this.b==0),this.a.Ka()};w.prototype.readSint64String=w.prototype.Bc;w.prototype.Rb=function(){return O(this.b==5),this.a.m()};w.prototype.readFixed32=w.prototype.Rb;w.prototype.Sb=function(){return O(this.b==1),this.a.ga()};w.prototype.readFixed64=w.prototype.Sb;w.prototype.Tb=function(){return O(this.b==1),this.a.ha()};w.prototype.readFixed64String=w.prototype.Tb;w.prototype.vc=function(){return O(this.b==5),this.a.P()};w.prototype.readSfixed32=w.prototype.vc;w.prototype.wc=function(){return O(this.b==5),this.a.P().toString()};w.prototype.readSfixed32String=w.prototype.wc;w.prototype.xc=function(){return O(this.b==1),this.a.ba()};w.prototype.readSfixed64=w.prototype.xc;w.prototype.yc=function(){return O(this.b==1),this.a.ca()};w.prototype.readSfixed64String=w.prototype.yc;w.prototype.aa=function(){return O(this.b==5),this.a.aa()};w.prototype.readFloat=w.prototype.aa;w.prototype.Z=function(){return O(this.b==1),this.a.Z()};w.prototype.readDouble=w.prototype.Z;w.prototype.pa=function(){return O(this.b==0),!!this.a.o()};w.prototype.readBool=w.prototype.pa;w.prototype.ra=function(){return O(this.b==0),this.a.sa()};w.prototype.readEnum=w.prototype.ra;w.prototype.fa=function(){O(this.b==2);var t=this.a.o();return this.a.fa(t)};w.prototype.readString=w.prototype.fa;w.prototype.qa=function(){O(this.b==2);var t=this.a.o();return this.a.qa(t)};w.prototype.readBytes=w.prototype.qa;w.prototype.ia=function(){return O(this.b==0),this.a.ia()};w.prototype.readVarintHash64=w.prototype.ia;w.prototype.Cc=function(){return O(this.b==0),this.a.fb()};w.prototype.readSintHash64=w.prototype.Cc;w.prototype.w=function(t){return O(this.b==0),this.a.w(t)};w.prototype.readSplitVarint64=w.prototype.w;w.prototype.ea=function(t){return O(this.b==0),this.a.w(function(e,i){return cu(e,i,t)})};w.prototype.readSplitZigzagVarint64=w.prototype.ea;w.prototype.$=function(){return O(this.b==1),this.a.$()};w.prototype.readFixedHash64=w.prototype.$;w.prototype.ta=function(t){return O(this.b==1),this.a.ta(t)};w.prototype.readSplitFixed64=w.prototype.ta;function Rt(t,e){O(t.b==2);var i=t.a.o();i=t.a.B()+i;for(var n=[];t.a.B()<i;)n.push(e.call(t.a));return n}w.prototype.gc=function(){return Rt(this,this.a.da)};w.prototype.readPackedInt32=w.prototype.gc;w.prototype.hc=function(){return Rt(this,this.a.Ea)};w.prototype.readPackedInt32String=w.prototype.hc;w.prototype.ic=function(){return Rt(this,this.a.sa)};w.prototype.readPackedInt64=w.prototype.ic;w.prototype.jc=function(){return Rt(this,this.a.Fa)};w.prototype.readPackedInt64String=w.prototype.jc;w.prototype.qc=function(){return Rt(this,this.a.o)};w.prototype.readPackedUint32=w.prototype.qc;w.prototype.rc=function(){return Rt(this,this.a.O)};w.prototype.readPackedUint32String=w.prototype.rc;w.prototype.sc=function(){return Rt(this,this.a.Ga)};w.prototype.readPackedUint64=w.prototype.sc;w.prototype.tc=function(){return Rt(this,this.a.Ha)};w.prototype.readPackedUint64String=w.prototype.tc;w.prototype.nc=function(){return Rt(this,this.a.Ia)};w.prototype.readPackedSint32=w.prototype.nc;w.prototype.oc=function(){return Rt(this,this.a.Ja)};w.prototype.readPackedSint64=w.prototype.oc;w.prototype.pc=function(){return Rt(this,this.a.Ka)};w.prototype.readPackedSint64String=w.prototype.pc;w.prototype.bc=function(){return Rt(this,this.a.m)};w.prototype.readPackedFixed32=w.prototype.bc;w.prototype.cc=function(){return Rt(this,this.a.ga)};w.prototype.readPackedFixed64=w.prototype.cc;w.prototype.dc=function(){return Rt(this,this.a.ha)};w.prototype.readPackedFixed64String=w.prototype.dc;w.prototype.kc=function(){return Rt(this,this.a.P)};w.prototype.readPackedSfixed32=w.prototype.kc;w.prototype.lc=function(){return Rt(this,this.a.ba)};w.prototype.readPackedSfixed64=w.prototype.lc;w.prototype.mc=function(){return Rt(this,this.a.ca)};w.prototype.readPackedSfixed64String=w.prototype.mc;w.prototype.fc=function(){return Rt(this,this.a.aa)};w.prototype.readPackedFloat=w.prototype.fc;w.prototype.$b=function(){return Rt(this,this.a.Z)};w.prototype.readPackedDouble=w.prototype.$b;w.prototype.Zb=function(){return Rt(this,this.a.pa)};w.prototype.readPackedBool=w.prototype.Zb;w.prototype.ac=function(){return Rt(this,this.a.ra)};w.prototype.readPackedEnum=w.prototype.ac;w.prototype.uc=function(){return Rt(this,this.a.ia)};w.prototype.readPackedVarintHash64=w.prototype.uc;w.prototype.ec=function(){return Rt(this,this.a.$)};w.prototype.readPackedFixedHash64=w.prototype.ec;function Ml(t,e,i,n,o){this.ma=t,this.Ba=e,this.la=i,this.Na=n,this.na=o}me("jspb.ExtensionFieldInfo",Ml,void 0);function D0(t,e,i,n,o,s){this.Za=t,this.za=e,this.Aa=i,this.Wa=n,this.Ab=o,this.Nb=s}me("jspb.ExtensionFieldBinaryInfo",D0,void 0);Ml.prototype.F=function(){return!!this.la};Ml.prototype.isMessageType=Ml.prototype.F;function se(){}me("jspb.Message",se,void 0);se.GENERATE_TO_OBJECT=!0;se.GENERATE_FROM_OBJECT=!0;var pu=typeof Uint8Array=="function";se.prototype.Ib=function(){return this.b};se.prototype.getJsPbMessageId=se.prototype.Ib;se.initialize=function(t,e,i,n,o,s){t.f=null,e||(e=i?[i]:[]),t.b=i?String(i):void 0,t.D=i===0?-1:0,t.u=e;e:{if(i=t.u.length,e=-1,i&&(e=i-1,i=t.u[e],!(i===null||typeof i!="object"||Array.isArray(i)||pu&&i instanceof Uint8Array))){t.G=e-t.D,t.i=i;break e}-1<n?(t.G=Math.max(n,e+1-t.D),t.i=null):t.G=Number.MAX_VALUE}if(t.a={},o)for(n=0;n<o.length;n++)e=o[n],e<t.G?(e+=t.D,t.u[e]=t.u[e]||Pl):(fu(t),t.i[e]=t.i[e]||Pl);if(s&&s.length)for(n=0;n<s.length;n++)Ag(t,s[n])};var Pl=Object.freeze?Object.freeze([]):[];function fu(t){var e=t.G+t.D;t.u[e]||(t.i=t.u[e]={})}function T0(t,e,i){for(var n=[],o=0;o<t.length;o++)n[o]=e.call(t[o],i,t[o]);return n}se.toObjectList=T0;se.toObjectExtension=function(t,e,i,n,o){for(var s in i){var r=i[s],a=n.call(t,r);if(a!=null){for(var l in r.Ba)if(r.Ba.hasOwnProperty(l))break;e[l]=r.Na?r.na?T0(a,r.Na,o):r.Na(o,a):a}}};se.serializeBinaryExtensions=function(t,e,i,n){for(var o in i){var s=i[o],r=s.Za;if(!s.Aa)throw Error("Message extension present that was generated without binary serialization support");var a=n.call(t,r);if(a!=null)if(r.F())if(s.Wa)s.Aa.call(e,r.ma,a,s.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else s.Aa.call(e,r.ma,a)}};se.readBinaryExtension=function(t,e,i,n,o){var s=i[e.c];if(s){if(i=s.Za,!s.za)throw Error("Deserializing extension whose generated code does not support binary format");if(i.F()){var r=new i.la;s.za.call(e,r,s.Ab)}else r=s.za.call(e);i.na&&!s.Nb?(e=n.call(t,i))?e.push(r):o.call(t,i,[r]):o.call(t,i,r)}else e.C()};function Gi(t,e){if(e<t.G){e+=t.D;var i=t.u[e];return i===Pl?t.u[e]=[]:i}if(t.i)return i=t.i[e],i===Pl?t.i[e]=[]:i}se.getField=Gi;se.getRepeatedField=function(t,e){return Gi(t,e)};function I0(t,e){return t=Gi(t,e),t==null?t:+t}se.getOptionalFloatingPointField=I0;function k0(t,e){return t=Gi(t,e),t==null?t:!!t}se.getBooleanField=k0;se.getRepeatedFloatingPointField=function(t,e){var i=Gi(t,e);if(t.a||(t.a={}),!t.a[e]){for(var n=0;n<i.length;n++)i[n]=+i[n];t.a[e]=!0}return i};se.getRepeatedBooleanField=function(t,e){var i=Gi(t,e);if(t.a||(t.a={}),!t.a[e]){for(var n=0;n<i.length;n++)i[n]=!!i[n];t.a[e]=!0}return i};function M0(t){return t==null||typeof t=="string"?t:pu&&t instanceof Uint8Array?m0(t):(Ht("Cannot coerce to b64 string: "+Qn(t)),null)}se.bytesAsB64=M0;function P0(t){return t==null||t instanceof Uint8Array?t:typeof t=="string"?g0(t):(Ht("Cannot coerce to Uint8Array: "+Qn(t)),null)}se.bytesAsU8=P0;se.bytesListAsB64=function(t){return A0(t),t.length&&typeof t[0]!="string"?Al(t,M0):t};se.bytesListAsU8=function(t){return A0(t),!t.length||t[0]instanceof Uint8Array?t:Al(t,P0)};function A0(t){if(t&&1<t.length){var e=Qn(t[0]);HP(t,function(i){Qn(i)!=e&&Ht("Inconsistent type in JSPB repeated field array. Got "+Qn(i)+" expected "+e)})}}function F0(t,e,i){return t=Gi(t,e),t??i}se.getFieldWithDefault=F0;se.getBooleanFieldWithDefault=function(t,e,i){return t=k0(t,e),t??i};se.getFloatingPointFieldWithDefault=function(t,e,i){return t=I0(t,e),t??i};se.getFieldProto3=F0;se.getMapField=function(t,e,i,n){if(t.f||(t.f={}),e in t.f)return t.f[e];var o=Gi(t,e);if(!o){if(i)return;o=[],Zn(t,e,o)}return t.f[e]=new Ve(o,n)};function Zn(t,e,i){return Cn(t,se),e<t.G?t.u[e+t.D]=i:(fu(t),t.i[e]=i),t}se.setField=Zn;se.setProto3IntField=function(t,e,i){return xs(t,e,i,0)};se.setProto3FloatField=function(t,e,i){return xs(t,e,i,0)};se.setProto3BooleanField=function(t,e,i){return xs(t,e,i,!1)};se.setProto3StringField=function(t,e,i){return xs(t,e,i,"")};se.setProto3BytesField=function(t,e,i){return xs(t,e,i,"")};se.setProto3EnumField=function(t,e,i){return xs(t,e,i,0)};se.setProto3StringIntField=function(t,e,i){return xs(t,e,i,"0")};function xs(t,e,i,n){return Cn(t,se),i!==n?Zn(t,e,i):e<t.G?t.u[e+t.D]=null:(fu(t),delete t.i[e]),t}se.addToRepeatedField=function(t,e,i,n){return Cn(t,se),e=Gi(t,e),n!=null?e.splice(n,0,i):e.push(i),t};function O0(t,e,i,n){return Cn(t,se),(i=Ag(t,i))&&i!==e&&n!==void 0&&(t.f&&i in t.f&&(t.f[i]=void 0),Zn(t,i,void 0)),Zn(t,e,n)}se.setOneofField=O0;function Ag(t,e){for(var i,n,o=0;o<e.length;o++){var s=e[o],r=Gi(t,s);r!=null&&(i=s,n=r,Zn(t,s,void 0))}return i?(Zn(t,i,n),i):0}se.computeOneofCase=Ag;se.getWrapperField=function(t,e,i,n){if(t.f||(t.f={}),!t.f[i]){var o=Gi(t,i);(n||o)&&(t.f[i]=new e(o))}return t.f[i]};se.getRepeatedWrapperField=function(t,e,i){return N0(t,e,i),e=t.f[i],e==Pl&&(e=t.f[i]=[]),e};function N0(t,e,i){if(t.f||(t.f={}),!t.f[i]){for(var n=Gi(t,i),o=[],s=0;s<n.length;s++)o[s]=new e(n[s]);t.f[i]=o}}se.setWrapperField=function(t,e,i){Cn(t,se),t.f||(t.f={});var n=i&&i.g();return t.f[e]=i,Zn(t,e,n)};se.setOneofWrapperField=function(t,e,i,n){Cn(t,se),t.f||(t.f={});var o=n&&n.g();return t.f[e]=n,O0(t,e,i,o)};se.setRepeatedWrapperField=function(t,e,i){Cn(t,se),t.f||(t.f={}),i=i||[];for(var n=[],o=0;o<i.length;o++)n[o]=i[o].g();return t.f[e]=i,Zn(t,e,n)};se.addToRepeatedWrapperField=function(t,e,i,n,o){N0(t,n,e);var s=t.f[e];return s||(s=t.f[e]=[]),i=i||new n,t=Gi(t,e),o!=null?(s.splice(o,0,i),t.splice(o,0,i.g())):(s.push(i),t.push(i.g())),i};se.toMap=function(t,e,i,n){for(var o={},s=0;s<t.length;s++)o[e.call(t[s])]=i?i.call(t[s],n,t[s]):t[s];return o};function L0(t){if(t.f)for(var e in t.f){var i=t.f[e];if(Array.isArray(i))for(var n=0;n<i.length;n++)i[n]&&i[n].g();else i&&i.g()}}se.prototype.g=function(){return L0(this),this.u};se.prototype.toArray=se.prototype.g;se.prototype.toString=function(){return L0(this),this.u.toString()};se.prototype.getExtension=function(t){if(this.i){this.f||(this.f={});var e=t.ma;if(t.na){if(t.F())return this.f[e]||(this.f[e]=Al(this.i[e]||[],function(i){return new t.la(i)})),this.f[e]}else if(t.F())return!this.f[e]&&this.i[e]&&(this.f[e]=new t.la(this.i[e])),this.f[e];return this.i[e]}};se.prototype.getExtension=se.prototype.getExtension;se.prototype.Kc=function(t,e){this.f||(this.f={}),fu(this);var i=t.ma;return t.na?(e=e||[],t.F()?(this.f[i]=e,this.i[i]=Al(e,function(n){return n.g()})):this.i[i]=e):t.F()?(this.f[i]=e,this.i[i]=e&&e.g()):this.i[i]=e,this};se.prototype.setExtension=se.prototype.Kc;se.difference=function(t,e){if(!(t instanceof e.constructor))throw Error("Messages have different types.");var i=t.g();e=e.g();var n=[],o=0,s=i.length>e.length?i.length:e.length;for(t.b&&(n[0]=t.b,o=1);o<s;o++)Gl(i[o],e[o])||(n[o]=e[o]);return new t.constructor(n)};se.equals=function(t,e){return t==e||!(!t||!e)&&t instanceof e.constructor&&Gl(t.g(),e.g())};function Dg(t,e){t=t||{},e=e||{};var i={},n;for(n in t)i[n]=0;for(n in e)i[n]=0;for(n in i)if(!Gl(t[n],e[n]))return!1;return!0}se.compareExtensions=Dg;function Gl(t,e){if(t==e)return!0;if(!s0(t)||!s0(e))return typeof t=="number"&&isNaN(t)||typeof e=="number"&&isNaN(e)?String(t)==String(e):!1;if(t.constructor!=e.constructor)return!1;if(pu&&t.constructor===Uint8Array){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!=e[i])return!1;return!0}if(t.constructor===Array){var n=void 0,o=void 0,s=Math.max(t.length,e.length);for(i=0;i<s;i++){var r=t[i],a=e[i];if(r&&r.constructor==Object&&(O(n===void 0),O(i===t.length-1),n=r,r=void 0),a&&a.constructor==Object&&(O(o===void 0),O(i===e.length-1),o=a,a=void 0),!Gl(r,a))return!1}return n||o?(n=n||{},o=o||{},Dg(n,o)):!0}if(t.constructor===Object)return Dg(t,e);throw Error("Invalid type in JSPB array")}se.compareFields=Gl;se.prototype.Bb=function(){return mu(this)};se.prototype.cloneMessage=se.prototype.Bb;se.prototype.clone=function(){return mu(this)};se.prototype.clone=se.prototype.clone;se.clone=function(t){return mu(t)};function mu(t){return new t.constructor(Tg(t.g()))}se.copyInto=function(t,e){Cn(t,se),Cn(e,se),O(t.constructor==e.constructor,"Copy source and target message should have the same type."),t=mu(t);for(var i=e.g(),n=t.g(),o=i.length=0;o<n.length;o++)i[o]=n[o];e.f=t.f,e.i=t.i};function Tg(t){if(Array.isArray(t)){for(var e=Array(t.length),i=0;i<t.length;i++){var n=t[i];n!=null&&(e[i]=typeof n=="object"?Tg(O(n)):n)}return e}if(pu&&t instanceof Uint8Array)return new Uint8Array(t);e={};for(i in t)n=t[i],n!=null&&(e[i]=typeof n=="object"?Tg(O(n)):n);return e}se.registerMessageType=function(t,e){e.we=t};var vn={dump:function(t){return Cn(t,se,"jspb.Message instance expected"),O(t.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),vn.X(t)}};me("jspb.debug.dump",vn.dump,void 0);vn.X=function(t){var e=Qn(t);if(e=="number"||e=="string"||e=="boolean"||e=="null"||e=="undefined"||typeof Uint8Array<"u"&&t instanceof Uint8Array)return t;if(e=="array")return jP(t),Al(t,vn.X);if(t instanceof Ve){var i={};t=t.entries();for(var n=t.next();!n.done;n=t.next())i[n.value[0]]=vn.X(n.value[1]);return i}Cn(t,se,"Only messages expected: "+t),e=t.constructor;var o={$name:e.name||e.displayName};for(a in e.prototype){var s=/^get([A-Z]\w*)/.exec(a);if(s&&a!="getExtension"&&a!="getJsPbMessageId"){var r="has"+s[1];(!t[r]||t[r]())&&(r=t[a](),o[vn.$a(s[1])]=vn.X(r))}}if(t.extensionObject_)return o.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",o;for(n in e.extensions)if(/^\d+$/.test(n)){r=e.extensions[n];var a=t.getExtension(r);s=void 0,r=r.Ba;var l=[],c=0;for(s in r)l[c++]=s;s=l[0],a!=null&&(i||(i=o.$extensions={}),i[vn.$a(s)]=vn.X(a))}return o};vn.$a=function(t){return t.replace(/^[A-Z]/,function(e){return e.toLowerCase()})};function J(){this.a=[]}me("jspb.BinaryEncoder",J,void 0);J.prototype.length=function(){return this.a.length};J.prototype.length=J.prototype.length;J.prototype.end=function(){var t=this.a;return this.a=[],t};J.prototype.end=J.prototype.end;J.prototype.l=function(t,e){for(O(t==Math.floor(t)),O(e==Math.floor(e)),O(0<=t&&4294967296>t),O(0<=e&&4294967296>e);0<e||127<t;)this.a.push(t&127|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.a.push(t)};J.prototype.writeSplitVarint64=J.prototype.l;J.prototype.A=function(t,e){O(t==Math.floor(t)),O(e==Math.floor(e)),O(0<=t&&4294967296>t),O(0<=e&&4294967296>e),this.s(t),this.s(e)};J.prototype.writeSplitFixed64=J.prototype.A;J.prototype.j=function(t){for(O(t==Math.floor(t)),O(0<=t&&4294967296>t);127<t;)this.a.push(t&127|128),t>>>=7;this.a.push(t)};J.prototype.writeUnsignedVarint32=J.prototype.j;J.prototype.M=function(t){if(O(t==Math.floor(t)),O(-2147483648<=t&&2147483648>t),0<=t)this.j(t);else{for(var e=0;9>e;e++)this.a.push(t&127|128),t>>=7;this.a.push(1)}};J.prototype.writeSignedVarint32=J.prototype.M;J.prototype.va=function(t){O(t==Math.floor(t)),O(0<=t&&18446744073709552e3>t),Ol(t),this.l(ct,ht)};J.prototype.writeUnsignedVarint64=J.prototype.va;J.prototype.ua=function(t){O(t==Math.floor(t)),O(-9223372036854776e3<=t&&9223372036854776e3>t),Ol(t),this.l(ct,ht)};J.prototype.writeSignedVarint64=J.prototype.ua;J.prototype.wa=function(t){O(t==Math.floor(t)),O(-2147483648<=t&&2147483648>t),this.j((t<<1^t>>31)>>>0)};J.prototype.writeZigzagVarint32=J.prototype.wa;J.prototype.xa=function(t){O(t==Math.floor(t)),O(-9223372036854776e3<=t&&9223372036854776e3>t),C0(t),this.l(ct,ht)};J.prototype.writeZigzagVarint64=J.prototype.xa;J.prototype.Ta=function(t){this.W(Vl(t))};J.prototype.writeZigzagVarint64String=J.prototype.Ta;J.prototype.W=function(t){var e=this;Ho(t),lu(ct,ht,function(i,n){e.l(i>>>0,n>>>0)})};J.prototype.writeZigzagVarintHash64=J.prototype.W;J.prototype.be=function(t){O(t==Math.floor(t)),O(0<=t&&256>t),this.a.push(t>>>0&255)};J.prototype.writeUint8=J.prototype.be;J.prototype.ae=function(t){O(t==Math.floor(t)),O(0<=t&&65536>t),this.a.push(t>>>0&255),this.a.push(t>>>8&255)};J.prototype.writeUint16=J.prototype.ae;J.prototype.s=function(t){O(t==Math.floor(t)),O(0<=t&&4294967296>t),this.a.push(t>>>0&255),this.a.push(t>>>8&255),this.a.push(t>>>16&255),this.a.push(t>>>24&255)};J.prototype.writeUint32=J.prototype.s;J.prototype.V=function(t){O(t==Math.floor(t)),O(0<=t&&18446744073709552e3>t),Pg(t),this.s(ct),this.s(ht)};J.prototype.writeUint64=J.prototype.V;J.prototype.Qc=function(t){O(t==Math.floor(t)),O(-128<=t&&128>t),this.a.push(t>>>0&255)};J.prototype.writeInt8=J.prototype.Qc;J.prototype.Pc=function(t){O(t==Math.floor(t)),O(-32768<=t&&32768>t),this.a.push(t>>>0&255),this.a.push(t>>>8&255)};J.prototype.writeInt16=J.prototype.Pc;J.prototype.S=function(t){O(t==Math.floor(t)),O(-2147483648<=t&&2147483648>t),this.a.push(t>>>0&255),this.a.push(t>>>8&255),this.a.push(t>>>16&255),this.a.push(t>>>24&255)};J.prototype.writeInt32=J.prototype.S;J.prototype.T=function(t){O(t==Math.floor(t)),O(-9223372036854776e3<=t&&9223372036854776e3>t),Ol(t),this.A(ct,ht)};J.prototype.writeInt64=J.prototype.T;J.prototype.ka=function(t){O(t==Math.floor(t)),O(-9223372036854776e3<=+t&&9223372036854776e3>+t),Ho(Vl(t)),this.A(ct,ht)};J.prototype.writeInt64String=J.prototype.ka;J.prototype.L=function(t){O(t===1/0||t===-1/0||isNaN(t)||-34028234663852886e22<=t&&34028234663852886e22>=t),b0(t),this.s(ct)};J.prototype.writeFloat=J.prototype.L;J.prototype.J=function(t){O(t===1/0||t===-1/0||isNaN(t)||-17976931348623157e292<=t&&17976931348623157e292>=t),y0(t),this.s(ct),this.s(ht)};J.prototype.writeDouble=J.prototype.J;J.prototype.I=function(t){O(typeof t=="boolean"||typeof t=="number"),this.a.push(t?1:0)};J.prototype.writeBool=J.prototype.I;J.prototype.R=function(t){O(t==Math.floor(t)),O(-2147483648<=t&&2147483648>t),this.M(t)};J.prototype.writeEnum=J.prototype.R;J.prototype.ja=function(t){this.a.push.apply(this.a,t)};J.prototype.writeBytes=J.prototype.ja;J.prototype.N=function(t){Ho(t),this.l(ct,ht)};J.prototype.writeVarintHash64=J.prototype.N;J.prototype.K=function(t){Ho(t),this.s(ct),this.s(ht)};J.prototype.writeFixedHash64=J.prototype.K;J.prototype.U=function(t){var e=this.a.length;zP(t);for(var i=0;i<t.length;i++){var n=t.charCodeAt(i);if(128>n)this.a.push(n);else if(2048>n)this.a.push(n>>6|192),this.a.push(n&63|128);else if(65536>n)if(55296<=n&&56319>=n&&i+1<t.length){var o=t.charCodeAt(i+1);56320<=o&&57343>=o&&(n=1024*(n-55296)+o-56320+65536,this.a.push(n>>18|240),this.a.push(n>>12&63|128),this.a.push(n>>6&63|128),this.a.push(n&63|128),i++)}else this.a.push(n>>12|224),this.a.push(n>>6&63|128),this.a.push(n&63|128)}return this.a.length-e};J.prototype.writeString=J.prototype.U;function Ae(t,e){this.lo=t,this.hi=e}me("jspb.arith.UInt64",Ae,void 0);Ae.prototype.cmp=function(t){return this.hi<t.hi||this.hi==t.hi&&this.lo<t.lo?-1:this.hi==t.hi&&this.lo==t.lo?0:1};Ae.prototype.cmp=Ae.prototype.cmp;Ae.prototype.La=function(){return new Ae((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};Ae.prototype.rightShift=Ae.prototype.La;Ae.prototype.Da=function(){return new Ae(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};Ae.prototype.leftShift=Ae.prototype.Da;Ae.prototype.cb=function(){return!!(this.hi&2147483648)};Ae.prototype.msb=Ae.prototype.cb;Ae.prototype.Ob=function(){return!!(this.lo&1)};Ae.prototype.lsb=Ae.prototype.Ob;Ae.prototype.Ua=function(){return this.lo==0&&this.hi==0};Ae.prototype.zero=Ae.prototype.Ua;Ae.prototype.add=function(t){return new Ae((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)};Ae.prototype.add=Ae.prototype.add;Ae.prototype.sub=function(t){return new Ae((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)};Ae.prototype.sub=Ae.prototype.sub;function Ig(t,e){var i=t&65535;t>>>=16;var n=e&65535,o=e>>>16;for(e=i*n+65536*(i*o&65535)+65536*(t*n&65535),i=t*o+(i*o>>>16)+(t*n>>>16);4294967296<=e;)e-=4294967296,i+=1;return new Ae(e>>>0,i>>>0)}Ae.mul32x32=Ig;Ae.prototype.eb=function(t){var e=Ig(this.lo,t);return t=Ig(this.hi,t),t.hi=t.lo,t.lo=0,e.add(t)};Ae.prototype.mul=Ae.prototype.eb;Ae.prototype.Xa=function(t){if(t==0)return[];var e=new Ae(0,0),i=new Ae(this.lo,this.hi);t=new Ae(t,0);for(var n=new Ae(1,0);!t.cb();)t=t.Da(),n=n.Da();for(;!n.Ua();)0>=t.cmp(i)&&(e=e.add(n),i=i.sub(t)),t=t.La(),n=n.La();return[e,i]};Ae.prototype.div=Ae.prototype.Xa;Ae.prototype.toString=function(){for(var t="",e=this;!e.Ua();){e=e.Xa(10);var i=e[0];t=e[1].lo+t,e=i}return t==""&&(t="0"),t};Ae.prototype.toString=Ae.prototype.toString;function Lr(t){for(var e=new Ae(0,0),i=new Ae(0,0),n=0;n<t.length;n++){if("0">t[n]||"9"<t[n])return null;i.lo=parseInt(t[n],10),e=e.eb(10).add(i)}return e}Ae.fromString=Lr;Ae.prototype.clone=function(){return new Ae(this.lo,this.hi)};Ae.prototype.clone=Ae.prototype.clone;function zt(t,e){this.lo=t,this.hi=e}me("jspb.arith.Int64",zt,void 0);zt.prototype.add=function(t){return new zt((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)};zt.prototype.add=zt.prototype.add;zt.prototype.sub=function(t){return new zt((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)};zt.prototype.sub=zt.prototype.sub;zt.prototype.clone=function(){return new zt(this.lo,this.hi)};zt.prototype.clone=zt.prototype.clone;zt.prototype.toString=function(){var t=(this.hi&2147483648)!=0,e=new Ae(this.lo,this.hi);return t&&(e=new Ae(0,0).sub(e)),(t?"-":"")+e.toString()};zt.prototype.toString=zt.prototype.toString;function gu(t){var e=0<t.length&&t[0]=="-";return e&&(t=t.substring(1)),t=Lr(t),t===null?null:(e&&(t=new Ae(0,0).sub(t)),new zt(t.lo,t.hi))}zt.fromString=gu;function v(){this.c=[],this.b=0,this.a=new J,this.h=[]}me("jspb.BinaryWriter",v,void 0);function B0(t,e){var i=t.a.end();t.c.push(i),t.c.push(e),t.b+=i.length+e.length}function Tt(t,e){return Le(t,e,2),e=t.a.end(),t.c.push(e),t.b+=e.length,e.push(t.b),e}function It(t,e){var i=e.pop();for(i=t.b+t.a.length()-i,O(0<=i);127<i;)e.push(i&127|128),i>>>=7,t.b++;e.push(i),t.b++}v.prototype.pb=function(t,e,i){B0(this,t.subarray(e,i))};v.prototype.writeSerializedMessage=v.prototype.pb;v.prototype.Pb=function(t,e,i){t!=null&&e!=null&&i!=null&&this.pb(t,e,i)};v.prototype.maybeWriteSerializedMessage=v.prototype.Pb;v.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]};v.prototype.reset=v.prototype.reset;v.prototype.ab=function(){O(this.h.length==0);for(var t=new Uint8Array(this.b+this.a.length()),e=this.c,i=e.length,n=0,o=0;o<i;o++){var s=e[o];t.set(s,n),n+=s.length}return e=this.a.end(),t.set(e,n),n+=e.length,O(n==t.length),this.c=[t],t};v.prototype.getResultBuffer=v.prototype.ab;v.prototype.Kb=function(t){return m0(this.ab(),t)};v.prototype.getResultBase64String=v.prototype.Kb;v.prototype.Va=function(t){this.h.push(Tt(this,t))};v.prototype.beginSubMessage=v.prototype.Va;v.prototype.Ya=function(){O(0<=this.h.length),It(this,this.h.pop())};v.prototype.endSubMessage=v.prototype.Ya;function Le(t,e,i){O(1<=e&&e==Math.floor(e)),t.a.j(8*e+i)}v.prototype.Nc=function(t,e,i){switch(t){case 1:this.J(e,i);break;case 2:this.L(e,i);break;case 3:this.T(e,i);break;case 4:this.V(e,i);break;case 5:this.S(e,i);break;case 6:this.Qa(e,i);break;case 7:this.Pa(e,i);break;case 8:this.I(e,i);break;case 9:this.U(e,i);break;case 10:Ht("Group field type not supported in writeAny()");break;case 11:Ht("Message field type not supported in writeAny()");break;case 12:this.ja(e,i);break;case 13:this.s(e,i);break;case 14:this.R(e,i);break;case 15:this.Ra(e,i);break;case 16:this.Sa(e,i);break;case 17:this.rb(e,i);break;case 18:this.sb(e,i);break;case 30:this.K(e,i);break;case 31:this.N(e,i);break;default:Ht("Invalid field type in writeAny()")}};v.prototype.writeAny=v.prototype.Nc;function Fg(t,e,i){i!=null&&(Le(t,e,0),t.a.j(i))}function Og(t,e,i){i!=null&&(Le(t,e,0),t.a.M(i))}v.prototype.S=function(t,e){e!=null&&(O(-2147483648<=e&&2147483648>e),Og(this,t,e))};v.prototype.writeInt32=v.prototype.S;v.prototype.ob=function(t,e){e!=null&&(e=parseInt(e,10),O(-2147483648<=e&&2147483648>e),Og(this,t,e))};v.prototype.writeInt32String=v.prototype.ob;v.prototype.T=function(t,e){e!=null&&(O(-9223372036854776e3<=e&&9223372036854776e3>e),e!=null&&(Le(this,t,0),this.a.ua(e)))};v.prototype.writeInt64=v.prototype.T;v.prototype.ka=function(t,e){e!=null&&(e=gu(e),Le(this,t,0),this.a.l(e.lo,e.hi))};v.prototype.writeInt64String=v.prototype.ka;v.prototype.s=function(t,e){e!=null&&(O(0<=e&&4294967296>e),Fg(this,t,e))};v.prototype.writeUint32=v.prototype.s;v.prototype.ub=function(t,e){e!=null&&(e=parseInt(e,10),O(0<=e&&4294967296>e),Fg(this,t,e))};v.prototype.writeUint32String=v.prototype.ub;v.prototype.V=function(t,e){e!=null&&(O(0<=e&&18446744073709552e3>e),e!=null&&(Le(this,t,0),this.a.va(e)))};v.prototype.writeUint64=v.prototype.V;v.prototype.vb=function(t,e){e!=null&&(e=Lr(e),Le(this,t,0),this.a.l(e.lo,e.hi))};v.prototype.writeUint64String=v.prototype.vb;v.prototype.rb=function(t,e){e!=null&&(O(-2147483648<=e&&2147483648>e),e!=null&&(Le(this,t,0),this.a.wa(e)))};v.prototype.writeSint32=v.prototype.rb;v.prototype.sb=function(t,e){e!=null&&(O(-9223372036854776e3<=e&&9223372036854776e3>e),e!=null&&(Le(this,t,0),this.a.xa(e)))};v.prototype.writeSint64=v.prototype.sb;v.prototype.$d=function(t,e){e!=null&&e!=null&&(Le(this,t,0),this.a.W(e))};v.prototype.writeSintHash64=v.prototype.$d;v.prototype.Zd=function(t,e){e!=null&&e!=null&&(Le(this,t,0),this.a.Ta(e))};v.prototype.writeSint64String=v.prototype.Zd;v.prototype.Pa=function(t,e){e!=null&&(O(0<=e&&4294967296>e),Le(this,t,5),this.a.s(e))};v.prototype.writeFixed32=v.prototype.Pa;v.prototype.Qa=function(t,e){e!=null&&(O(0<=e&&18446744073709552e3>e),Le(this,t,1),this.a.V(e))};v.prototype.writeFixed64=v.prototype.Qa;v.prototype.nb=function(t,e){e!=null&&(e=Lr(e),Le(this,t,1),this.a.A(e.lo,e.hi))};v.prototype.writeFixed64String=v.prototype.nb;v.prototype.Ra=function(t,e){e!=null&&(O(-2147483648<=e&&2147483648>e),Le(this,t,5),this.a.S(e))};v.prototype.writeSfixed32=v.prototype.Ra;v.prototype.Sa=function(t,e){e!=null&&(O(-9223372036854776e3<=e&&9223372036854776e3>e),Le(this,t,1),this.a.T(e))};v.prototype.writeSfixed64=v.prototype.Sa;v.prototype.qb=function(t,e){e!=null&&(e=gu(e),Le(this,t,1),this.a.A(e.lo,e.hi))};v.prototype.writeSfixed64String=v.prototype.qb;v.prototype.L=function(t,e){e!=null&&(Le(this,t,5),this.a.L(e))};v.prototype.writeFloat=v.prototype.L;v.prototype.J=function(t,e){e!=null&&(Le(this,t,1),this.a.J(e))};v.prototype.writeDouble=v.prototype.J;v.prototype.I=function(t,e){e!=null&&(O(typeof e=="boolean"||typeof e=="number"),Le(this,t,0),this.a.I(e))};v.prototype.writeBool=v.prototype.I;v.prototype.R=function(t,e){e!=null&&(O(-2147483648<=e&&2147483648>e),Le(this,t,0),this.a.M(e))};v.prototype.writeEnum=v.prototype.R;v.prototype.U=function(t,e){e!=null&&(t=Tt(this,t),this.a.U(e),It(this,t))};v.prototype.writeString=v.prototype.U;v.prototype.ja=function(t,e){e!=null&&(e=uu(e),Le(this,t,2),this.a.j(e.length),B0(this,e))};v.prototype.writeBytes=v.prototype.ja;v.prototype.Rc=function(t,e,i){e!=null&&(t=Tt(this,t),i(e,this),It(this,t))};v.prototype.writeMessage=v.prototype.Rc;v.prototype.Sc=function(t,e,i){e!=null&&(Le(this,1,3),Le(this,2,0),this.a.M(t),t=Tt(this,3),i(e,this),It(this,t),Le(this,1,4))};v.prototype.writeMessageSet=v.prototype.Sc;v.prototype.Oc=function(t,e,i){e!=null&&(Le(this,t,3),i(e,this),Le(this,t,4))};v.prototype.writeGroup=v.prototype.Oc;v.prototype.K=function(t,e){e!=null&&(O(e.length==8),Le(this,t,1),this.a.K(e))};v.prototype.writeFixedHash64=v.prototype.K;v.prototype.N=function(t,e){e!=null&&(O(e.length==8),Le(this,t,0),this.a.N(e))};v.prototype.writeVarintHash64=v.prototype.N;v.prototype.A=function(t,e,i){Le(this,t,1),this.a.A(e,i)};v.prototype.writeSplitFixed64=v.prototype.A;v.prototype.l=function(t,e,i){Le(this,t,0),this.a.l(e,i)};v.prototype.writeSplitVarint64=v.prototype.l;v.prototype.tb=function(t,e,i){Le(this,t,0);var n=this.a;lu(e,i,function(o,s){n.l(o>>>0,s>>>0)})};v.prototype.writeSplitZigzagVarint64=v.prototype.tb;v.prototype.Ed=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)Og(this,t,e[i])};v.prototype.writeRepeatedInt32=v.prototype.Ed;v.prototype.Fd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.ob(t,e[i])};v.prototype.writeRepeatedInt32String=v.prototype.Fd;v.prototype.Gd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++){var n=e[i];n!=null&&(Le(this,t,0),this.a.ua(n))}};v.prototype.writeRepeatedInt64=v.prototype.Gd;v.prototype.Qd=function(t,e,i,n){if(e!=null)for(var o=0;o<e.length;o++)this.A(t,i(e[o]),n(e[o]))};v.prototype.writeRepeatedSplitFixed64=v.prototype.Qd;v.prototype.Rd=function(t,e,i,n){if(e!=null)for(var o=0;o<e.length;o++)this.l(t,i(e[o]),n(e[o]))};v.prototype.writeRepeatedSplitVarint64=v.prototype.Rd;v.prototype.Sd=function(t,e,i,n){if(e!=null)for(var o=0;o<e.length;o++)this.tb(t,i(e[o]),n(e[o]))};v.prototype.writeRepeatedSplitZigzagVarint64=v.prototype.Sd;v.prototype.Hd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.ka(t,e[i])};v.prototype.writeRepeatedInt64String=v.prototype.Hd;v.prototype.Ud=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)Fg(this,t,e[i])};v.prototype.writeRepeatedUint32=v.prototype.Ud;v.prototype.Vd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.ub(t,e[i])};v.prototype.writeRepeatedUint32String=v.prototype.Vd;v.prototype.Wd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++){var n=e[i];n!=null&&(Le(this,t,0),this.a.va(n))}};v.prototype.writeRepeatedUint64=v.prototype.Wd;v.prototype.Xd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.vb(t,e[i])};v.prototype.writeRepeatedUint64String=v.prototype.Xd;v.prototype.Md=function(t,e){if(e!=null)for(var i=0;i<e.length;i++){var n=e[i];n!=null&&(Le(this,t,0),this.a.wa(n))}};v.prototype.writeRepeatedSint32=v.prototype.Md;v.prototype.Nd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++){var n=e[i];n!=null&&(Le(this,t,0),this.a.xa(n))}};v.prototype.writeRepeatedSint64=v.prototype.Nd;v.prototype.Od=function(t,e){if(e!=null)for(var i=0;i<e.length;i++){var n=e[i];n!=null&&(Le(this,t,0),this.a.Ta(n))}};v.prototype.writeRepeatedSint64String=v.prototype.Od;v.prototype.Pd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++){var n=e[i];n!=null&&(Le(this,t,0),this.a.W(n))}};v.prototype.writeRepeatedSintHash64=v.prototype.Pd;v.prototype.yd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.Pa(t,e[i])};v.prototype.writeRepeatedFixed32=v.prototype.yd;v.prototype.zd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.Qa(t,e[i])};v.prototype.writeRepeatedFixed64=v.prototype.zd;v.prototype.Ad=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.nb(t,e[i])};v.prototype.writeRepeatedFixed64String=v.prototype.Ad;v.prototype.Jd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.Ra(t,e[i])};v.prototype.writeRepeatedSfixed32=v.prototype.Jd;v.prototype.Kd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.Sa(t,e[i])};v.prototype.writeRepeatedSfixed64=v.prototype.Kd;v.prototype.Ld=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.qb(t,e[i])};v.prototype.writeRepeatedSfixed64String=v.prototype.Ld;v.prototype.Cd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.L(t,e[i])};v.prototype.writeRepeatedFloat=v.prototype.Cd;v.prototype.wd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.J(t,e[i])};v.prototype.writeRepeatedDouble=v.prototype.wd;v.prototype.ud=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.I(t,e[i])};v.prototype.writeRepeatedBool=v.prototype.ud;v.prototype.xd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.R(t,e[i])};v.prototype.writeRepeatedEnum=v.prototype.xd;v.prototype.Td=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.U(t,e[i])};v.prototype.writeRepeatedString=v.prototype.Td;v.prototype.vd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.ja(t,e[i])};v.prototype.writeRepeatedBytes=v.prototype.vd;v.prototype.Id=function(t,e,i){if(e!=null)for(var n=0;n<e.length;n++){var o=Tt(this,t);i(e[n],this),It(this,o)}};v.prototype.writeRepeatedMessage=v.prototype.Id;v.prototype.Dd=function(t,e,i){if(e!=null)for(var n=0;n<e.length;n++)Le(this,t,3),i(e[n],this),Le(this,t,4)};v.prototype.writeRepeatedGroup=v.prototype.Dd;v.prototype.Bd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.K(t,e[i])};v.prototype.writeRepeatedFixedHash64=v.prototype.Bd;v.prototype.Yd=function(t,e){if(e!=null)for(var i=0;i<e.length;i++)this.N(t,e[i])};v.prototype.writeRepeatedVarintHash64=v.prototype.Yd;v.prototype.ad=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.M(e[i]);It(this,t)}};v.prototype.writePackedInt32=v.prototype.ad;v.prototype.bd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.M(parseInt(e[i],10));It(this,t)}};v.prototype.writePackedInt32String=v.prototype.bd;v.prototype.cd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.ua(e[i]);It(this,t)}};v.prototype.writePackedInt64=v.prototype.cd;v.prototype.md=function(t,e,i,n){if(e!=null){t=Tt(this,t);for(var o=0;o<e.length;o++)this.a.A(i(e[o]),n(e[o]));It(this,t)}};v.prototype.writePackedSplitFixed64=v.prototype.md;v.prototype.nd=function(t,e,i,n){if(e!=null){t=Tt(this,t);for(var o=0;o<e.length;o++)this.a.l(i(e[o]),n(e[o]));It(this,t)}};v.prototype.writePackedSplitVarint64=v.prototype.nd;v.prototype.od=function(t,e,i,n){if(e!=null){t=Tt(this,t);for(var o=this.a,s=0;s<e.length;s++)lu(i(e[s]),n(e[s]),function(r,a){o.l(r>>>0,a>>>0)});It(this,t)}};v.prototype.writePackedSplitZigzagVarint64=v.prototype.od;v.prototype.dd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++){var n=gu(e[i]);this.a.l(n.lo,n.hi)}It(this,t)}};v.prototype.writePackedInt64String=v.prototype.dd;v.prototype.pd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.j(e[i]);It(this,t)}};v.prototype.writePackedUint32=v.prototype.pd;v.prototype.qd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.j(parseInt(e[i],10));It(this,t)}};v.prototype.writePackedUint32String=v.prototype.qd;v.prototype.rd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.va(e[i]);It(this,t)}};v.prototype.writePackedUint64=v.prototype.rd;v.prototype.sd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++){var n=Lr(e[i]);this.a.l(n.lo,n.hi)}It(this,t)}};v.prototype.writePackedUint64String=v.prototype.sd;v.prototype.hd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.wa(e[i]);It(this,t)}};v.prototype.writePackedSint32=v.prototype.hd;v.prototype.jd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.xa(e[i]);It(this,t)}};v.prototype.writePackedSint64=v.prototype.jd;v.prototype.kd=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.W(Vl(e[i]));It(this,t)}};v.prototype.writePackedSint64String=v.prototype.kd;v.prototype.ld=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.W(e[i]);It(this,t)}};v.prototype.writePackedSintHash64=v.prototype.ld;v.prototype.Wc=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(4*e.length),t=0;t<e.length;t++)this.a.s(e[t])};v.prototype.writePackedFixed32=v.prototype.Wc;v.prototype.Xc=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.V(e[t])};v.prototype.writePackedFixed64=v.prototype.Xc;v.prototype.Yc=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++){var i=Lr(e[t]);this.a.A(i.lo,i.hi)}};v.prototype.writePackedFixed64String=v.prototype.Yc;v.prototype.ed=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(4*e.length),t=0;t<e.length;t++)this.a.S(e[t])};v.prototype.writePackedSfixed32=v.prototype.ed;v.prototype.fd=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.T(e[t])};v.prototype.writePackedSfixed64=v.prototype.fd;v.prototype.gd=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.ka(e[t])};v.prototype.writePackedSfixed64String=v.prototype.gd;v.prototype.$c=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(4*e.length),t=0;t<e.length;t++)this.a.L(e[t])};v.prototype.writePackedFloat=v.prototype.$c;v.prototype.Uc=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.J(e[t])};v.prototype.writePackedDouble=v.prototype.Uc;v.prototype.Tc=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(e.length),t=0;t<e.length;t++)this.a.I(e[t])};v.prototype.writePackedBool=v.prototype.Tc;v.prototype.Vc=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.R(e[i]);It(this,t)}};v.prototype.writePackedEnum=v.prototype.Vc;v.prototype.Zc=function(t,e){if(e!=null&&e.length)for(Le(this,t,2),this.a.j(8*e.length),t=0;t<e.length;t++)this.a.K(e[t])};v.prototype.writePackedFixedHash64=v.prototype.Zc;v.prototype.td=function(t,e){if(e!=null&&e.length){t=Tt(this,t);for(var i=0;i<e.length;i++)this.a.N(e[i]);It(this,t)}};v.prototype.writePackedVarintHash64=v.prototype.td;typeof Qt=="object"&&(Qt.debug=vn,Qt.Map=Ve,Qt.Message=se,Qt.BinaryReader=w,Qt.BinaryWriter=v,Qt.ExtensionFieldInfo=Ml,Qt.ExtensionFieldBinaryInfo=D0,Qt.exportSymbol=VP,Qt.inherits=GP,Qt.object={extend:WP},Qt.typeOf=Qn)});var W0=eb(G0=>{"use strict";var Br=V0(),vu=Br,Ng=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof Ng<"u"&&Ng||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();vu.exportSymbol("proto.google.protobuf.Empty",null,Ng);proto.google.protobuf.Empty=function(t){Br.Message.initialize(this,t,0,-1,null,null)};vu.inherits(proto.google.protobuf.Empty,Br.Message);vu.DEBUG&&!COMPILED&&(proto.google.protobuf.Empty.displayName="proto.google.protobuf.Empty");Br.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Empty.prototype.toObject=function(t){return proto.google.protobuf.Empty.toObject(t,this)},proto.google.protobuf.Empty.toObject=function(t,e){var i,n={};return t&&(n.$jspbMessageInstance=e),n});proto.google.protobuf.Empty.deserializeBinary=function(t){var e=new Br.BinaryReader(t),i=new proto.google.protobuf.Empty;return proto.google.protobuf.Empty.deserializeBinaryFromReader(i,e)};proto.google.protobuf.Empty.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();){var i=e.getFieldNumber();switch(i){default:e.skipField();break}}return t};proto.google.protobuf.Empty.prototype.serializeBinary=function(){var t=new Br.BinaryWriter;return proto.google.protobuf.Empty.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.google.protobuf.Empty.serializeBinaryToWriter=function(t,e){var i=void 0};vu.object.extend(G0,proto.google.protobuf)});var Hh=class{};var Qs=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let o=i.slice(0,n),s=o.toLowerCase(),r=i.slice(n+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(r):this.headers.set(s,[r])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let o=(e.op==="a"?this.headers.get(i):void 0)||[];o.push(...n),this.headers.set(i,o);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let r=this.headers.get(i);if(!r)return;r=r.filter(a=>s.indexOf(a)===-1),r.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,r)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),o=e.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Uh=class{encodeKey(e){return Xb(e)}encodeValue(e){return Xb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function iE(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let s=o.indexOf("="),[r,a]=s==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,s)),e.decodeValue(o.slice(s+1))],l=i.get(r)||[];l.push(a),i.set(r,l)}),i}var nE=/%(\d[a-f0-9])/gi,oE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xb(t){return encodeURIComponent(t).replace(nE,(e,i)=>oE[i]??e)}function xc(t){return`${t}`}var mo=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Uh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=iE(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],o=Array.isArray(n)?n.map(xc):[xc(n)];this.map.set(i,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let o=e[n];Array.isArray(o)?o.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:o,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(xc(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],o=n.indexOf(xc(e.value));o!==-1&&n.splice(o,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var zh=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function sE(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Qb(t){return typeof Blob<"u"&&t instanceof Blob}function Zb(t){return typeof FormData<"u"&&t instanceof FormData}function rE(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var va=class t{constructor(e,i,n,o){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(sE(this.method)||o?(this.body=n!==void 0?n:null,s=o):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Qs,this.context??=new zh,!this.params)this.params=new mo,this.urlWithParams=i;else{let r=this.params.toString();if(r.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+r}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Yb(this.body)||Qb(this.body)||Zb(this.body)||rE(this.body)?this.body:this.body instanceof mo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Zb(this.body)?null:Qb(this.body)?this.body.type||null:Yb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof mo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,o=e.responseType||this.responseType,s=e.transferCache??this.transferCache,r=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((p,m)=>p.set(m,e.setHeaders[m]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,m)=>p.set(m,e.setParams[m]),d)),new t(i,n,r,{params:d,headers:c,context:u,reportProgress:l,responseType:o,withCredentials:a,transferCache:s})}},Jb=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Jb||{}),jh=class{constructor(e,i=200,n="OK"){this.headers=e.headers||new Qs,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var $h=class t extends jh{constructor(e={}){super(e),this.type=Jb.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Wh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ey=(()=>{let e=class e{constructor(n){this.handler=n}request(n,o,s={}){let r;if(n instanceof va)r=n;else{let c;s.headers instanceof Qs?c=s.headers:c=new Qs(s.headers);let d;s.params&&(s.params instanceof mo?d=s.params:d=new mo({fromObject:s.params})),r=new va(n,o,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=we(r).pipe(Zo(c=>this.handler.handle(c)));if(n instanceof va||s.observe==="events")return a;let l=a.pipe(st(c=>c instanceof $h));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return l.pipe(Be(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Be(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Be(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(Be(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:new mo().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,s={}){return this.request("PATCH",n,Wh(s,o))}post(n,o,s={}){return this.request("POST",n,Wh(s,o))}put(n,o,s={}){return this.request("PUT",n,Wh(s,o))}};e.\u0275fac=function(o){return new(o||e)(F(Hh))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();var Xh=class extends Hb{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Yh=class t extends Xh{static makeCurrent(){Wb(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=cE();return i==null?null:dE(i)}resetBaseElement(){Ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ub(document.cookie,e)}},Ca=null;function cE(){return Ca=Ca||document.querySelector("base"),Ca?Ca.getAttribute("href"):null}function dE(t){return new URL(t,document.baseURI).pathname}var uE=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Ec=new ie(""),oy=(()=>{let e=class e{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,s){return this._findPluginFor(o).addEventListener(n,o,s)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(r=>r.supports(n)),!o)throw new pt(5101,!1);return this._eventNameToPlugin.set(n,o),o}};e.\u0275fac=function(o){return new(o||e)(F(Ec),F(pe))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),ba=class{constructor(e){this._doc=e}},Kh="ng-app-id",sy=(()=>{let e=class e{constructor(n,o,s,r={}){this.doc=n,this.appId=o,this.nonce=s,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gh(r),this.resetHostNodes()}addStyles(n){for(let o of n)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(n){for(let o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){let o=this.styleRef;o.get(n)?.elements?.forEach(s=>s.remove()),o.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Kh}="${this.appId}"]`);if(n?.length){let o=new Map;return n.forEach(s=>{s.textContent!=null&&o.set(s.textContent,s)}),o}return null}changeUsageCount(n,o){let s=this.styleRef;if(s.has(n)){let r=s.get(n);return r.usage+=o,r.usage}return s.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){let s=this.styleNodesInDOM,r=s?.get(o);if(r?.parentNode===n)return s.delete(o),r.removeAttribute(Kh),r;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Kh,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){let s=this.getStyleElement(n,o),r=this.styleRef,a=r.get(o)?.elements;a?a.push(s):r.set(o,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(o){return new(o||e)(F(Me),F(fa),F(ma,8),F(os))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),qh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jh=/%COMP%/g,ry="%COMP%",hE=`_nghost-${ry}`,pE=`_ngcontent-${ry}`,fE=!0,mE=new ie("",{providedIn:"root",factory:()=>fE});function gE(t){return pE.replace(Jh,t)}function vE(t){return hE.replace(Jh,t)}function ay(t,e){return e.map(i=>i.replace(Jh,t))}var Dc=(()=>{let e=class e{constructor(n,o,s,r,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=s,this.removeStylesOnCompDestroy=r,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Gh(l),this.defaultRenderer=new ya(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ha.ShadowDom&&(o=_e(D({},o),{encapsulation:ha.Emulated}));let s=this.getOrCreateRenderer(n,o);return s instanceof Tc?s.applyToHost(n):s instanceof wa&&s.applyStyles(),s}getOrCreateRenderer(n,o){let s=this.rendererByCompId,r=s.get(o.id);if(!r){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(o.encapsulation){case ha.Emulated:r=new Tc(c,d,o,this.appId,u,a,l,p);break;case ha.ShadowDom:return new Qh(c,d,n,o,a,l,this.nonce,p);default:r=new wa(c,d,o,u,a,l,p);break}s.set(o.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(o){return new(o||e)(F(oy),F(sy),F(fa),F(mE),F(Me),F(os),F(pe),F(ma))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),ya=class{constructor(e,i,n,o){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(qh[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(ty(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(ty(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new pt(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,o){if(o){i=o+":"+i;let s=qh[o];s?e.setAttributeNS(s,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let o=qh[n];o?e.removeAttributeNS(o,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,o){o&(ga.DashCase|ga.Important)?e.style.setProperty(i,n,o&ga.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&ga.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=Ys().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function ty(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qh=class extends ya{constructor(e,i,n,o,s,r,a,l){super(e,s,r,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=ay(o.id,o.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wa=class extends ya{constructor(e,i,n,o,s,r,a,l){super(e,s,r,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=o,this.styles=l?ay(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tc=class extends wa{constructor(e,i,n,o,s,r,a,l){let c=o+"-"+n.id;super(e,i,n,s,r,a,l,c),this.contentAttr=gE(c),this.hostAttr=vE(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},CE=(()=>{let e=class e extends ba{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,s){return n.addEventListener(o,s,!1),()=>this.removeEventListener(n,o,s)}removeEventListener(n,o,s){return n.removeEventListener(o,s)}};e.\u0275fac=function(o){return new(o||e)(F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),bE=(()=>{let e=class e extends ba{constructor(n){super(n),this.delegate=j(Vb,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,o,s){return this.delegate.addEventListener(n,o,s)}removeEventListener(n,o,s){return this.delegate.removeEventListener(n,o,s)}};e.\u0275fac=function(o){return new(o||e)(F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),iy=["alt","control","meta","shift"],yE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_E=(()=>{let e=class e extends ba{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,o,s){let r=e.parseEventName(o),a=e.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ys().onAndCancel(n,r.domEventName,a))}static parseEventName(n){let o=n.toLowerCase().split("."),s=o.shift();if(o.length===0||!(s==="keydown"||s==="keyup"))return null;let r=e._normalizeKey(o.pop()),a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),iy.forEach(d=>{let u=o.indexOf(d);u>-1&&(o.splice(u,1),a+=d+".")}),a+=r,o.length!=0||r.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let s=yE[n.key]||n.key,r="";return o.indexOf("code.")>-1&&(s=n.code,r="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),iy.forEach(a=>{if(a!==s){let l=wE[a];l(n)&&(r+=a+".")}}),r+=s,r===o)}static eventCallback(n,o,s){return r=>{e.matchEventFullKeyCode(r,n)&&s.runGuarded(()=>o(r))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(o){return new(o||e)(F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function ly(t,e){return Bb(D({rootComponent:t},SE(e)))}function SE(t){return{appProviders:[...TE,...t?.providers??[]],platformProviders:DE}}function RE(){Yh.makeCurrent()}function xE(){return new is}function EE(){return fb(document),document}var DE=[{provide:os,useValue:zb},{provide:mb,useValue:RE,multi:!0},{provide:Me,useFactory:EE,deps:[]}];var TE=[{provide:hb,useValue:"root"},{provide:is,useFactory:xE,deps:[]},{provide:Ec,useClass:CE,multi:!0,deps:[Me,pe,os]},{provide:Ec,useClass:_E,multi:!0,deps:[Me]},{provide:Ec,useClass:bE,multi:!0},Dc,sy,oy,{provide:bc,useExisting:Dc},{provide:$b,useClass:uE,deps:[]},[]];var cy=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(o){return new(o||e)(F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ep=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:function(o){let s=null;return o?s=new(o||e):s=F(IE),s},providedIn:"root"});let t=e;return t})(),IE=(()=>{let e=class e extends ep{constructor(n){super(),this._doc=n}sanitize(n,o){if(o==null)return null;switch(n){case Ii.NONE:return o;case Ii.HTML:return zs(o,"HTML")?Us(o):_b(this._doc,String(o)).toString();case Ii.STYLE:return zs(o,"Style")?Us(o):o;case Ii.SCRIPT:if(zs(o,"Script"))return Us(o);throw new pt(5200,!1);case Ii.URL:return zs(o,"URL")?Us(o):wb(String(o));case Ii.RESOURCE_URL:if(zs(o,"ResourceURL"))return Us(o);throw new pt(5201,!1);default:throw new pt(5202,!1)}}bypassSecurityTrustHtml(n){return gb(n)}bypassSecurityTrustStyle(n){return vb(n)}bypassSecurityTrustScript(n){return Cb(n)}bypassSecurityTrustUrl(n){return bb(n)}bypassSecurityTrustResourceUrl(n){return yb(n)}};e.\u0275fac=function(o){return new(o||e)(F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ke="primary",La=Symbol("RouteTitle"),sp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function nr(t){return new sp(t)}function ME(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let o={};for(let s=0;s<n.length;s++){let r=n[s],a=t[s];if(r[0]===":")o[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function PE(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!xn(t[i],e[i]))return!1;return!0}function xn(t,e){let i=t?rp(t):void 0,n=e?rp(e):void 0;if(!i||!n||i.length!=n.length)return!1;let o;for(let s=0;s<i.length;s++)if(o=i[s],!by(t[o],e[o]))return!1;return!0}function rp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function by(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((o,s)=>n[s]===o)}else return t===e}function yy(t){return t.length>0?t[t.length-1]:null}function vo(t){return gc(t)?t:Sc(t)?Zt(Promise.resolve(t)):we(t)}var AE={exact:_y,subset:Sy},wy={exact:FE,subset:OE,ignored:()=>!0};function uy(t,e,i){return AE[i.paths](t.root,e.root,i.matrixParams)&&wy[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function FE(t,e){return xn(t,e)}function _y(t,e,i){if(!ls(t.segments,e.segments)||!Mc(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!_y(t.children[n],e.children[n],i))return!1;return!0}function OE(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>by(t[i],e[i]))}function Sy(t,e,i){return Ry(t,e,e.segments,i)}function Ry(t,e,i,n){if(t.segments.length>i.length){let o=t.segments.slice(0,i.length);return!(!ls(o,i)||e.hasChildren()||!Mc(o,i,n))}else if(t.segments.length===i.length){if(!ls(t.segments,i)||!Mc(t.segments,i,n))return!1;for(let o in e.children)if(!t.children[o]||!Sy(t.children[o],e.children[o],n))return!1;return!0}else{let o=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!ls(t.segments,o)||!Mc(t.segments,o,n)||!t.children[Ke]?!1:Ry(t.children[Ke],e,s,n)}}function Mc(t,e,i){return e.every((n,o)=>wy[i](t[o].parameters,n.parameters))}var Hn=class{constructor(e=new ut([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=nr(this.queryParams),this._queryParamMap}toString(){return BE.serialize(this)}},ut=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pc(this)}},as=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=nr(this.parameters),this._parameterMap}toString(){return Ey(this)}};function NE(t,e){return ls(t,e)&&t.every((i,n)=>xn(i.parameters,e[n].parameters))}function ls(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function LE(t,e){let i=[];return Object.entries(t.children).forEach(([n,o])=>{n===Ke&&(i=i.concat(e(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==Ke&&(i=i.concat(e(o,n)))}),i}var Pp=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:()=>new Ta,providedIn:"root"});let t=e;return t})(),Ta=class{parse(e){let i=new lp(e);return new Hn(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${_a(e.root,!0)}`,n=WE(e.queryParams),o=typeof e.fragment=="string"?`#${VE(e.fragment)}`:"";return`${i}${n}${o}`}},BE=new Ta;function Pc(t){return t.segments.map(e=>Ey(e)).join("/")}function _a(t,e){if(!t.hasChildren())return Pc(t);if(e){let i=t.children[Ke]?_a(t.children[Ke],!1):"",n=[];return Object.entries(t.children).forEach(([o,s])=>{o!==Ke&&n.push(`${o}:${_a(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=LE(t,(n,o)=>o===Ke?[_a(t.children[Ke],!1)]:[`${o}:${_a(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ke]!=null?`${Pc(t)}/${i[0]}`:`${Pc(t)}/(${i.join("//")})`}}function xy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ic(t){return xy(t).replace(/%3B/gi,";")}function VE(t){return encodeURI(t)}function ap(t){return xy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ac(t){return decodeURIComponent(t)}function hy(t){return Ac(t.replace(/\+/g,"%20"))}function Ey(t){return`${ap(t.path)}${GE(t.parameters)}`}function GE(t){return Object.entries(t).map(([e,i])=>`;${ap(e)}=${ap(i)}`).join("")}function WE(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(o=>`${Ic(i)}=${Ic(o)}`).join("&"):`${Ic(i)}=${Ic(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var HE=/^[^\/()?;#]+/;function tp(t){let e=t.match(HE);return e?e[0]:""}var UE=/^[^\/()?;=#]+/;function zE(t){let e=t.match(UE);return e?e[0]:""}var jE=/^[^=?&#]+/;function $E(t){let e=t.match(jE);return e?e[0]:""}var KE=/^[^&#]+/;function qE(t){let e=t.match(KE);return e?e[0]:""}var lp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[Ke]=new ut(e,i)),n}parseSegment(){let e=tp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new pt(4009,!1);return this.capture(e),new as(Ac(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=zE(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=tp(this.remaining);o&&(n=o,this.capture(n))}e[Ac(i)]=Ac(n)}parseQueryParam(e){let i=$E(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=qE(this.remaining);r&&(n=r,this.capture(n))}let o=hy(i),s=hy(n);if(e.hasOwnProperty(o)){let r=e[o];Array.isArray(r)||(r=[r],e[o]=r),r.push(s)}else e[o]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=tp(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new pt(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ke);let r=this.parseChildren();i[s]=Object.keys(r).length===1?r[Ke]:new ut([],r),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new pt(4011,!1)}};function Dy(t){return t.segments.length>0?new ut([],{[Ke]:t}):t}function Ty(t){let e={};for(let[n,o]of Object.entries(t.children)){let s=Ty(o);if(n===Ke&&s.segments.length===0&&s.hasChildren())for(let[r,a]of Object.entries(s.children))e[r]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new ut(t.segments,e);return XE(i)}function XE(t){if(t.numberOfChildren===1&&t.children[Ke]){let e=t.children[Ke];return new ut(t.segments.concat(e.segments),e.children)}return t}function cs(t){return t instanceof Hn}function YE(t,e,i=null,n=null){let o=Iy(t);return ky(o,e,i,n)}function Iy(t){let e;function i(s){let r={};for(let l of s.children){let c=i(l);r[l.outlet]=c}let a=new ut(s.url,r);return s===t&&(e=a),a}let n=i(t.root),o=Dy(n);return e??o}function ky(t,e,i,n){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return ip(o,o,o,i,n);let s=QE(e);if(s.toRoot())return ip(o,o,new ut([],{}),i,n);let r=ZE(s,o,t),a=r.processChildren?xa(r.segmentGroup,r.index,s.commands):Py(r.segmentGroup,r.index,s.commands);return ip(o,r.segmentGroup,a,i,n)}function Fc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ia(t){return typeof t=="object"&&t!=null&&t.outlets}function ip(t,e,i,n,o){let s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let r;t===e?r=i:r=My(t,e,i);let a=Dy(Ty(r));return new Hn(a,s,o)}function My(t,e,i){let n={};return Object.entries(t.children).forEach(([o,s])=>{s===e?n[o]=i:n[o]=My(s,e,i)}),new ut(t.segments,n)}var Oc=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Fc(n[0]))throw new pt(4003,!1);let o=n.find(Ia);if(o&&o!==yy(n))throw new pt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QE(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Oc(!0,0,t);let e=0,i=!1,n=t.reduce((o,s,r)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return typeof s!="string"?[...o,s]:r===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,s]},[]);return new Oc(i,e,n)}var er=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function ZE(t,e,i){if(t.isAbsolute)return new er(e,!0,0);if(!i)return new er(e,!1,NaN);if(i.parent===null)return new er(i,!0,0);let n=Fc(t.commands[0])?0:1,o=i.segments.length-1+n;return JE(i,o,t.numberOfDoubleDots)}function JE(t,e,i){let n=t,o=e,s=i;for(;s>o;){if(s-=o,n=n.parent,!n)throw new pt(4005,!1);o=n.segments.length}return new er(n,!1,o-s)}function eD(t){return Ia(t[0])?t[0].outlets:{[Ke]:t}}function Py(t,e,i){if(t??=new ut([],{}),t.segments.length===0&&t.hasChildren())return xa(t,e,i);let n=tD(t,e,i),o=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new ut(t.segments.slice(0,n.pathIndex),{});return s.children[Ke]=new ut(t.segments.slice(n.pathIndex),t.children),xa(s,0,o)}else return n.match&&o.length===0?new ut(t.segments,{}):n.match&&!t.hasChildren()?cp(t,e,i):n.match?xa(t,0,o):cp(t,e,i)}function xa(t,e,i){if(i.length===0)return new ut(t.segments,{});{let n=eD(i),o={};if(Object.keys(n).some(s=>s!==Ke)&&t.children[Ke]&&t.numberOfChildren===1&&t.children[Ke].segments.length===0){let s=xa(t.children[Ke],e,i);return new ut(t.segments,s.children)}return Object.entries(n).forEach(([s,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(o[s]=Py(t.children[s],e,r))}),Object.entries(t.children).forEach(([s,r])=>{n[s]===void 0&&(o[s]=r)}),new ut(t.segments,o)}}function tD(t,e,i){let n=0,o=e,s={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=i.length)return s;let r=t.segments[o],a=i[n];if(Ia(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!fy(l,c,r))return s;n+=2}else{if(!fy(l,{},r))return s;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function cp(t,e,i){let n=t.segments.slice(0,e),o=0;for(;o<i.length;){let s=i[o];if(Ia(s)){let l=iD(s.outlets);return new ut(n,l)}if(o===0&&Fc(i[0])){let l=t.segments[e];n.push(new as(l.path,py(i[0]))),o++;continue}let r=Ia(s)?s.outlets[Ke]:`${s}`,a=o<i.length-1?i[o+1]:null;r&&a&&Fc(a)?(n.push(new as(r,py(a))),o+=2):(n.push(new as(r,{})),o++)}return new ut(n,{})}function iD(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=cp(new ut([],{}),0,n))}),e}function py(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function fy(t,e,i){return t==i.path&&xn(e,i.parameters)}var Ea="imperative",Kt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Kt||{}),qi=class{constructor(e,i){this.id=e,this.url=i}},ka=class extends qi{constructor(e,i,n="imperative",o=null){super(e,i),this.type=Kt.NavigationStart,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},go=class extends qi{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=Kt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Oi=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Oi||{}),dp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dp||{}),Wn=class extends qi{constructor(e,i,n,o){super(e,i),this.reason=n,this.code=o,this.type=Kt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ds=class extends qi{constructor(e,i,n,o){super(e,i),this.reason=n,this.code=o,this.type=Kt.NavigationSkipped}},Ma=class extends qi{constructor(e,i,n,o){super(e,i),this.error=n,this.target=o,this.type=Kt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nc=class extends qi{constructor(e,i,n,o){super(e,i),this.urlAfterRedirects=n,this.state=o,this.type=Kt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class extends qi{constructor(e,i,n,o){super(e,i),this.urlAfterRedirects=n,this.state=o,this.type=Kt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hp=class extends qi{constructor(e,i,n,o,s){super(e,i),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=s,this.type=Kt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pp=class extends qi{constructor(e,i,n,o){super(e,i),this.urlAfterRedirects=n,this.state=o,this.type=Kt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class extends qi{constructor(e,i,n,o){super(e,i),this.urlAfterRedirects=n,this.state=o,this.type=Kt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mp=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gp=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vp=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cp=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pa=class{},or=class{constructor(e,i){this.url=e,this.navigationBehaviorOptions=i}};function nD(t,e){return t.providers&&!t._injector&&(t._injector=Ib(t.providers,e,`Route: ${t.path}`)),t._injector??e}function mn(t){return t.outlet||Ke}function oD(t,e){let i=t.filter(n=>mn(n)===e);return i.push(...t.filter(n=>mn(n)!==e)),i}function Ba(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var wp=class{get injector(){return Ba(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Uc(this.rootInjector),this.attachRef=null}},Uc=(()=>{let e=class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,o){let s=this.getOrCreateContext(n);s.outlet=o,this.contexts.set(n,s)}onChildOutletDestroyed(n){let o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new wp(this.rootInjector),this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(o){return new(o||e)(F(ts))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=_p(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=_p(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=Sp(e,this._root);return i.length<2?[]:i[i.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Sp(e,this._root).map(i=>i.value)}};function _p(t,e){if(t===e.value)return e;for(let i of e.children){let n=_p(t,i);if(n)return n}return null}function Sp(t,e){if(t===e.value)return[e];for(let i of e.children){let n=Sp(t,i);if(n.length)return n.unshift(e),n}return[]}var Fi=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function Js(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Bc=class extends Lc{constructor(e,i){super(e),this.snapshot=i,Ap(this,e)}toString(){return this.snapshot.toString()}};function Ay(t){let e=sD(t),i=new xt([new as("",{})]),n=new xt({}),o=new xt({}),s=new xt({}),r=new xt(""),a=new us(i,n,s,r,o,Ke,t,e.root);return a.snapshot=e.root,new Bc(new Fi(a,[]),e)}function sD(t){let e={},i={},n={},o="",s=new tr([],e,n,o,i,Ke,t,null,{});return new Gc("",new Fi(s,[]))}var us=class{constructor(e,i,n,o,s,r,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=s,this.outlet=r,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Be(c=>c[La]))??we(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Be(e=>nr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Be(e=>nr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vc(t,e,i="emptyOnly"){let n,{routeConfig:o}=t;return e!==null&&(i==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),o?.data),t._resolvedData)}:n={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},o&&Oy(o)&&(n.resolve[La]=o.title),n}var tr=class{get title(){return this.data?.[La]}constructor(e,i,n,o,s,r,a,l,c){this.url=e,this.params=i,this.queryParams=n,this.fragment=o,this.data=s,this.outlet=r,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Gc=class extends Lc{constructor(e,i){super(i),this.url=e,Ap(this,i)}toString(){return Fy(this._root)}};function Ap(t,e){e.value._routerState=t,e.children.forEach(i=>Ap(t,i))}function Fy(t){let e=t.children.length>0?` { ${t.children.map(Fy).join(", ")} } `:"";return`${t.value}${e}`}function np(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,xn(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),xn(e.params,i.params)||t.paramsSubject.next(i.params),PE(e.url,i.url)||t.urlSubject.next(i.url),xn(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rp(t,e){let i=xn(t.params,e.params)&&NE(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||Rp(t.parent,e.parent))}function Oy(t){return typeof t.title=="string"||t.title===null}var Fp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ke,this.activateEvents=new M,this.deactivateEvents=new M,this.attachEvents=new M,this.detachEvents=new M,this.parentContexts=j(Uc),this.location=j(Bt),this.changeDetector=j(lt),this.inputBinder=j(Op,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:o,previousValue:s}=n.name;if(o)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new pt(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new xp(n,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ct]});let t=e;return t})(),xp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===us?this.route:e===Uc?this.childContexts:this.parent.get(e,i)}},Op=new ie("");function rD(t,e,i){let n=Aa(t,e._root,i?i._root:void 0);return new Bc(n,e)}function Aa(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let o=aD(t,e,i);return new Fi(n,o)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let r=s.route;return r.value._futureSnapshot=e.value,r.children=e.children.map(a=>Aa(t,a)),r}}let n=lD(e.value),o=e.children.map(s=>Aa(t,s));return new Fi(n,o)}}function aD(t,e,i){return e.children.map(n=>{for(let o of i.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return Aa(t,n,o);return Aa(t,n)})}function lD(t){return new us(new xt(t.url),new xt(t.params),new xt(t.queryParams),new xt(t.fragment),new xt(t.data),t.outlet,t.component,t)}var Fa=class{constructor(e,i){this.redirectTo=e,this.navigationBehaviorOptions=i}},Ny="ngNavigationCancelingError";function Wc(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=cs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Ly(!1,Oi.Redirect);return o.url=i,o.navigationBehaviorOptions=n,o}function Ly(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[Ny]=!0,i.cancellationCode=e,i}function cD(t){return By(t)&&cs(t.url)}function By(t){return!!t&&t[Ny]}var dD=(t,e,i,n)=>Be(o=>(new Ep(e,o.targetRouterState,o.currentRouterState,i,n).activate(t),o)),Ep=class{constructor(e,i,n,o,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),np(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let o=Js(i);e.children.forEach(s=>{let r=s.value.outlet;this.deactivateRoutes(s,o[r],n),delete o[r]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let o=e.value,s=i?i.value:null;if(o===s)if(o.component){let r=n.getContext(o.outlet);r&&this.deactivateChildRoutes(e,i,r.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),o=n&&e.value.component?n.children:i,s=Js(e);for(let r of Object.values(s))this.deactivateRouteAndItsChildren(r,o);if(n&&n.outlet){let r=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),o=n&&e.value.component?n.children:i,s=Js(e);for(let r of Object.values(s))this.deactivateRouteAndItsChildren(r,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let o=Js(i);e.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],n),this.forwardEvent(new yp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Cp(e.value.snapshot))}activateRoutes(e,i,n){let o=e.value,s=i?i.value:null;if(np(o),o===s)if(o.component){let r=n.getOrCreateContext(o.outlet);this.activateChildRoutes(e,i,r.children)}else this.activateChildRoutes(e,i,n);else if(o.component){let r=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),np(a.route.value),this.activateChildRoutes(e,null,r.children)}else r.attachRef=null,r.route=o,r.outlet&&r.outlet.activateWith(o,r.injector),this.activateChildRoutes(e,null,r.children)}else this.activateChildRoutes(e,null,n)}},Hc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ir=class{constructor(e,i){this.component=e,this.route=i}};function uD(t,e,i){let n=t._root,o=e?e._root:null;return Sa(n,o,i,[n.value])}function hD(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function rr(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!ub(t)?t:e.get(t):n}function Sa(t,e,i,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let s=Js(e);return t.children.forEach(r=>{pD(r,s[r.value.outlet],i,n.concat([r.value]),o),delete s[r.value.outlet]}),Object.entries(s).forEach(([r,a])=>Da(a,i.getContext(r),o)),o}function pD(t,e,i,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,r=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(r&&s.routeConfig===r.routeConfig){let l=fD(r,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Hc(n)):(s.data=r.data,s._resolvedData=r._resolvedData),s.component?Sa(t,e,a?a.children:null,n,o):Sa(t,e,i,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ir(a.outlet.component,r))}else r&&Da(e,a,o),o.canActivateChecks.push(new Hc(n)),s.component?Sa(t,null,a?a.children:null,n,o):Sa(t,null,i,n,o);return o}function fD(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!ls(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ls(t.url,e.url)||!xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rp(t,e)||!xn(t.queryParams,e.queryParams);case"paramsChange":default:return!Rp(t,e)}}function Da(t,e,i){let n=Js(t),o=t.value;Object.entries(n).forEach(([s,r])=>{o.component?e?Da(r,e.children.getContext(s),i):Da(r,null,i):Da(r,e,i)}),o.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new ir(e.outlet.component,o)):i.canDeactivateChecks.push(new ir(null,o)):i.canDeactivateChecks.push(new ir(null,o))}function Va(t){return typeof t=="function"}function mD(t){return typeof t=="boolean"}function gD(t){return t&&Va(t.canLoad)}function vD(t){return t&&Va(t.canActivate)}function CD(t){return t&&Va(t.canActivateChild)}function bD(t){return t&&Va(t.canDeactivate)}function yD(t){return t&&Va(t.canMatch)}function Vy(t){return t instanceof ib||t?.name==="EmptyError"}var kc=Symbol("INITIAL_VALUE");function sr(){return Et(t=>ua(t.map(e=>e.pipe(Lt(1),Ft(kc)))).pipe(Be(e=>{for(let i of e)if(i!==!0){if(i===kc)return kc;if(i===!1||wD(i))return i}return!0}),st(e=>e!==kc),Lt(1)))}function wD(t){return cs(t)||t instanceof Fa}function _D(t,e){return $i(i=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:r}}=i;return r.length===0&&s.length===0?we(_e(D({},i),{guardsResult:!0})):SD(r,n,o,t).pipe($i(a=>a&&mD(a)?RD(n,s,t,e):we(a)),Be(a=>_e(D({},i),{guardsResult:a})))})}function SD(t,e,i,n){return Zt(t).pipe($i(o=>ID(o.component,o.route,i,e,n)),uo(o=>o!==!0,!0))}function RD(t,e,i,n){return Zt(e).pipe(Zo(o=>vc(ED(o.route.parent,n),xD(o.route,n),TD(t,o.path,i),DD(t,o.route,i))),uo(o=>o!==!0,!0))}function xD(t,e){return t!==null&&e&&e(new bp(t)),we(!0)}function ED(t,e){return t!==null&&e&&e(new vp(t)),we(!0)}function DD(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return we(!0);let o=n.map(s=>Ln(()=>{let r=Ba(e)??i,a=rr(s,r),l=vD(a)?a.canActivate(e,t):Bn(r,()=>a(e,t));return vo(l).pipe(uo())}));return we(o).pipe(sr())}function TD(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(r=>hD(r)).filter(r=>r!==null).map(r=>Ln(()=>{let a=r.guards.map(l=>{let c=Ba(r.node)??i,d=rr(l,c),u=CD(d)?d.canActivateChild(n,t):Bn(c,()=>d(n,t));return vo(u).pipe(uo())});return we(a).pipe(sr())}));return we(s).pipe(sr())}function ID(t,e,i,n,o){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return we(!0);let r=s.map(a=>{let l=Ba(e)??o,c=rr(a,l),d=bD(c)?c.canDeactivate(t,e,i,n):Bn(l,()=>c(t,e,i,n));return vo(d).pipe(uo())});return we(r).pipe(sr())}function kD(t,e,i,n){let o=e.canLoad;if(o===void 0||o.length===0)return we(!0);let s=o.map(r=>{let a=rr(r,t),l=gD(a)?a.canLoad(e,i):Bn(t,()=>a(e,i));return vo(l)});return we(s).pipe(sr(),Gy(n))}function Gy(t){return tb(_t(e=>{if(typeof e!="boolean")throw Wc(t,e)}),Be(e=>e===!0))}function MD(t,e,i,n){let o=e.canMatch;if(!o||o.length===0)return we(!0);let s=o.map(r=>{let a=rr(r,t),l=yD(a)?a.canMatch(e,i):Bn(t,()=>a(e,i));return vo(l)});return we(s).pipe(sr(),Gy(n))}var Oa=class{constructor(e){this.segmentGroup=e||null}},Na=class extends Error{constructor(e){super(),this.urlTree=e}};function Zs(t){return Qo(new Oa(t))}function PD(t){return Qo(new pt(4e3,!1))}function AD(t){return Qo(Ly(!1,Oi.GuardRejected))}var Dp=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],o=i.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return we(n);if(o.numberOfChildren>1||!o.children[Ke])return PD(`${e.redirectTo}`);o=o.children[Ke]}}applyRedirectCommands(e,i,n,o,s){if(typeof i!="string"){let a=i,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:p,params:m,data:y,title:R}=o,S=Bn(s,()=>a({params:m,data:y,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:p,title:R}));if(S instanceof Hn)throw new Na(S);i=S}let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i[0]==="/")throw new Na(r);return r}applyRedirectCreateUrlTree(e,i,n,o){let s=this.createSegmentGroup(e,i.root,n,o);return new Hn(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([o,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[o]=i[a]}else n[o]=s}),n}createSegmentGroup(e,i,n,o){let s=this.createSegments(e,i.segments,n,o),r={};return Object.entries(i.children).forEach(([a,l])=>{r[a]=this.createSegmentGroup(e,l,n,o)}),new ut(s,r)}createSegments(e,i,n,o){return i.map(s=>s.path[0]===":"?this.findPosParam(e,s,o):this.findOrReturn(s,n))}findPosParam(e,i,n){let o=n[i.path.substring(1)];if(!o)throw new pt(4001,!1);return o}findOrReturn(e,i){let n=0;for(let o of i){if(o.path===e.path)return i.splice(n),o;n++}return e}},Tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FD(t,e,i,n,o){let s=Np(t,e,i);return s.matched?(n=nD(e,n),MD(n,e,i,o).pipe(Be(r=>r===!0?s:D({},Tp)))):we(s)}function Np(t,e,i){if(e.path==="**")return OD(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?D({},Tp):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let o=(e.matcher||ME)(i,t,e);if(!o)return D({},Tp);let s={};Object.entries(o.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let r=o.consumed.length>0?D(D({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:i.slice(o.consumed.length),parameters:r,positionalParamSegments:o.posParams??{}}}function OD(t){return{matched:!0,parameters:t.length>0?yy(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function my(t,e,i,n){return i.length>0&&BD(t,i,n)?{segmentGroup:new ut(e,LD(n,new ut(i,t.children))),slicedSegments:[]}:i.length===0&&VD(t,i,n)?{segmentGroup:new ut(t.segments,ND(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new ut(t.segments,t.children),slicedSegments:i}}function ND(t,e,i,n){let o={};for(let s of i)if(zc(t,e,s)&&!n[mn(s)]){let r=new ut([],{});o[mn(s)]=r}return D(D({},n),o)}function LD(t,e){let i={};i[Ke]=e;for(let n of t)if(n.path===""&&mn(n)!==Ke){let o=new ut([],{});i[mn(n)]=o}return i}function BD(t,e,i){return i.some(n=>zc(t,e,n)&&mn(n)!==Ke)}function VD(t,e,i){return i.some(n=>zc(t,e,n))}function zc(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function GD(t,e,i,n){return mn(t)!==n&&(n===Ke||!zc(e,i,t))?!1:Np(e,t,i).matched}function WD(t,e,i){return e.length===0&&!t.children[i]}var Ip=class{};function HD(t,e,i,n,o,s,r="emptyOnly"){return new kp(t,e,i,n,o,r,s).recognize()}var UD=31,kp=class{constructor(e,i,n,o,s,r,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=r,this.urlSerializer=a,this.applyRedirects=new Dp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new pt(4002,`'${e.segmentGroup}'`)}recognize(){let e=my(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Be(({children:i,rootSnapshot:n})=>{let o=new Fi(n,i),s=new Gc("",o),r=YE(n,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(r),{state:s,tree:r}}))}match(e){let i=new tr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ke,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ke,i).pipe(Be(n=>({children:n,rootSnapshot:i})),ao(n=>{if(n instanceof Na)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Oa?this.noMatchError(n):n}))}processSegmentGroup(e,i,n,o,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n,s):this.processSegment(e,i,n,n.segments,o,!0,s).pipe(Be(r=>r instanceof Fi?[r]:[]))}processChildren(e,i,n,o){let s=[];for(let r of Object.keys(n.children))r==="primary"?s.unshift(r):s.push(r);return Zt(s).pipe(Zo(r=>{let a=n.children[r],l=oD(i,r);return this.processSegmentGroup(e,l,a,r,o)}),lb((r,a)=>(r.push(...a),r)),Dh(null),rb(),$i(r=>{if(r===null)return Zs(n);let a=Wy(r);return zD(a),we(a)}))}processSegment(e,i,n,o,s,r,a){return Zt(i).pipe(Zo(l=>this.processSegmentAgainstRoute(l._injector??e,i,l,n,o,s,r,a).pipe(ao(c=>{if(c instanceof Oa)return we(null);throw c}))),uo(l=>!!l),ao(l=>{if(Vy(l))return WD(n,o,s)?we(new Ip):Zs(n);throw l}))}processSegmentAgainstRoute(e,i,n,o,s,r,a,l){return GD(n,o,s,r)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,n,s,r,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,i,n,s,r,l):Zs(o):Zs(o)}expandSegmentAgainstRouteUsingRedirect(e,i,n,o,s,r,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=Np(i,o,s);if(!l)return Zs(i);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UD&&(this.allowRedirects=!1));let m=new tr(s,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,gy(o),mn(o),o.component??o._loadedComponent??null,o,vy(o)),y=Vc(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(y.params),m.data=Object.freeze(y.data);let R=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,m,e);return this.applyRedirects.lineralizeSegments(o,R).pipe($i(S=>this.processSegment(e,n,i,S.concat(p),r,!1,a)))}matchSegmentAgainstRoute(e,i,n,o,s,r){let a=FD(i,n,o,e,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(Et(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,o).pipe(Et(({routes:c})=>{let d=n._loadedInjector??e,{parameters:u,consumedSegments:p,remainingSegments:m}=l,y=new tr(p,u,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,gy(n),mn(n),n.component??n._loadedComponent??null,n,vy(n)),R=Vc(y,r,this.paramsInheritanceStrategy);y.params=Object.freeze(R.params),y.data=Object.freeze(R.data);let{segmentGroup:S,slicedSegments:k}=my(i,p,m,c);if(k.length===0&&S.hasChildren())return this.processChildren(d,c,S,y).pipe(Be(B=>new Fi(y,B)));if(c.length===0&&k.length===0)return we(new Fi(y,[]));let P=mn(n)===s;return this.processSegment(d,c,S,k,P?Ke:s,!0,y).pipe(Be(B=>new Fi(y,B instanceof Fi?[B]:[])))}))):Zs(i)))}getChildConfig(e,i,n){return i.children?we({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?we({routes:i._loadedRoutes,injector:i._loadedInjector}):kD(e,i,n,this.urlSerializer).pipe($i(o=>o?this.configLoader.loadChildren(e,i).pipe(_t(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):AD(i))):we({routes:[],injector:e})}};function zD(t){t.sort((e,i)=>e.value.outlet===Ke?-1:i.value.outlet===Ke?1:e.value.outlet.localeCompare(i.value.outlet))}function jD(t){let e=t.value.routeConfig;return e&&e.path===""}function Wy(t){let e=[],i=new Set;for(let n of t){if(!jD(n)){e.push(n);continue}let o=e.find(s=>n.value.routeConfig===s.value.routeConfig);o!==void 0?(o.children.push(...n.children),i.add(o)):e.push(n)}for(let n of i){let o=Wy(n.children);e.push(new Fi(n.value,o))}return e.filter(n=>!i.has(n))}function gy(t){return t.data||{}}function vy(t){return t.resolve||{}}function $D(t,e,i,n,o,s){return $i(r=>HD(t,e,i,n,r.extractedUrl,o,s).pipe(Be(({state:a,tree:l})=>_e(D({},r),{targetSnapshot:a,urlAfterRedirects:l}))))}function KD(t,e){return $i(i=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=i;if(!o.length)return we(i);let s=new Set(o.map(l=>l.route)),r=new Set;for(let l of s)if(!r.has(l))for(let c of Hy(l))r.add(c);let a=0;return Zt(r).pipe(Zo(l=>s.has(l)?qD(l,n,t,e):(l.data=Vc(l,l.parent,t).resolve,we(void 0))),_t(()=>a++),Th(1),$i(l=>a===r.size?we(i):ji))})}function Hy(t){let e=t.children.map(i=>Hy(i)).flat();return[t,...e]}function qD(t,e,i,n){let o=t.routeConfig,s=t._resolve;return o?.title!==void 0&&!Oy(o)&&(s[La]=o.title),XD(s,t,e,n).pipe(Be(r=>(t._resolvedData=r,t.data=Vc(t,t.parent,i).resolve,null)))}function XD(t,e,i,n){let o=rp(t);if(o.length===0)return we({});let s={};return Zt(o).pipe($i(r=>YD(t[r],e,i,n).pipe(uo(),_t(a=>{if(a instanceof Fa)throw Wc(new Ta,a);s[r]=a}))),Th(1),sb(s),ao(r=>Vy(r)?ji:Qo(r)))}function YD(t,e,i,n){let o=Ba(e)??n,s=rr(t,o),r=s.resolve?s.resolve(e,i):Bn(o,()=>s(e,i));return vo(r)}function op(t){return Et(e=>{let i=t(e);return i?Zt(i).pipe(Be(()=>e)):we(e)})}var Uy=(()=>{let e=class e{buildTitle(n){let o,s=n.root;for(;s!==void 0;)o=this.getResolvedTitleForRoute(s)??o,s=s.children.find(r=>r.outlet===Ke);return o}getResolvedTitleForRoute(n){return n.data[La]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:()=>j(QD),providedIn:"root"});let t=e;return t})(),QD=(()=>{let e=class e extends Uy{constructor(n){super(),this.title=n}updateTitle(n){let o=this.buildTitle(n);o!==void 0&&this.title.setTitle(o)}};e.\u0275fac=function(o){return new(o||e)(F(cy))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lp=new ie("",{providedIn:"root",factory:()=>({})}),ZD=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=$({type:e,selectors:[["ng-component"]],standalone:!0,features:[K],decls:1,vars:0,template:function(o,s){o&1&&ee(0,"router-outlet")},dependencies:[Fp],encapsulation:2});let t=e;return t})();function Bp(t){let e=t.children&&t.children.map(Bp),i=e?_e(D({},t),{children:e}):D({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Ke&&(i.component=ZD),i}var Vp=new ie(""),JD=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(Lh)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return we(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let o=vo(n.loadComponent()).pipe(Be(zy),_t(r=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=r}),es(()=>{this.componentLoaders.delete(n)})),s=new fc(o,()=>new he).pipe(xh());return this.componentLoaders.set(n,s),s}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return we({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let r=eT(o,this.compiler,n,this.onLoadEndListener).pipe(es(()=>{this.childrenLoaders.delete(o)})),a=new fc(r,()=>new he).pipe(xh());return this.childrenLoaders.set(o,a),a}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eT(t,e,i,n){return vo(t.loadChildren()).pipe(Be(zy),$i(o=>o instanceof Tb||Array.isArray(o)?we(o):Zt(e.compileModuleAsync(o))),Be(o=>{n&&n(t);let s,r,a=!1;return Array.isArray(o)?(r=o,a=!0):(s=o.create(i).injector,r=s.get(Vp,[],{optional:!0,self:!0}).flat()),{routes:r.map(Bp),injector:s}}))}function tT(t){return t&&typeof t=="object"&&"default"in t}function zy(t){return tT(t)?t.default:t}var Gp=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:()=>j(iT),providedIn:"root"});let t=e;return t})(),iT=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nT=new ie("");var oT=new ie(""),sT=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=j(JD),this.environmentInjector=j(ts),this.urlSerializer=j(Pp),this.rootContexts=j(Uc),this.location=j(po),this.inputBindingEnabled=j(Op,{optional:!0})!==null,this.titleStrategy=j(Uy),this.options=j(Lp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(Gp),this.createViewTransition=j(nT,{optional:!0}),this.navigationErrorHandler=j(oT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>we(void 0),this.rootComponentType=null;let n=s=>this.events.next(new mp(s)),o=s=>this.events.next(new gp(s));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let o=++this.navigationId;this.transitions?.next(_e(D(D({},this.transitions.value),n),{id:o}))}setupNavigations(n,o,s){return this.transitions=new xt({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ea,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(st(r=>r.id!==0),Be(r=>_e(D({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Et(r=>{let a=!1,l=!1;return we(r).pipe(Et(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Oi.SupersededByNewNavigation),ji;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?_e(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let p="";return this.events.next(new ds(c.id,this.urlSerializer.serialize(c.rawUrl),p,dp.IgnoredSameUrlNavigation)),c.resolve(!1),ji}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return we(c).pipe(Et(p=>{let m=this.transitions?.getValue();return this.events.next(new ka(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?ji:Promise.resolve(p)}),$D(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),_t(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=_e(D({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Nc(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:R,extras:S}=c,k=new ka(p,this.urlSerializer.serialize(m),y,R);this.events.next(k);let P=Ay(this.rootComponentType).snapshot;return this.currentTransition=r=_e(D({},c),{targetSnapshot:P,urlAfterRedirects:m,extras:_e(D({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,we(r)}else{let p="";return this.events.next(new ds(c.id,this.urlSerializer.serialize(c.extractedUrl),p,dp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ji}}),_t(c=>{let d=new up(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Be(c=>(this.currentTransition=r=_e(D({},c),{guards:uD(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),r)),_D(this.environmentInjector,c=>this.events.next(c)),_t(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Wc(this.urlSerializer,c.guardsResult);let d=new hp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),st(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Oi.GuardRejected),!1)),op(c=>{if(c.guards.canActivateChecks.length)return we(c).pipe(_t(d=>{let u=new pp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Et(d=>{let u=!1;return we(d).pipe(KD(this.paramsInheritanceStrategy,this.environmentInjector),_t({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",Oi.NoDataFromResolver)}}))}),_t(d=>{let u=new fp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),op(c=>{let d=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(_t(m=>{u.component=m}),Be(()=>{})));for(let m of u.children)p.push(...d(m));return p};return ua(d(c.targetSnapshot.root)).pipe(Dh(null),Lt(1))}),op(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:c,targetSnapshot:d}=r,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?Zt(u).pipe(Be(()=>r)):we(r)}),Be(c=>{let d=rD(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r=_e(D({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,r}),_t(()=>{this.events.next(new Pa)}),dD(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Lt(1),_t({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new go(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Ue(this.transitionAbortSubject.pipe(_t(c=>{throw c}))),es(()=>{!a&&!l&&this.cancelNavigationTransition(r,"",Oi.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ao(c=>{if(l=!0,By(c))this.events.next(new Wn(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),cD(c)?this.events.next(new or(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{let d=new Ma(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{let u=Bn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(u instanceof Fa){let{message:p,cancellationCode:m}=Wc(this.urlSerializer,u);this.events.next(new Wn(r.id,this.urlSerializer.serialize(r.extractedUrl),p,m)),this.events.next(new or(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(d);let p=n.errorHandler(c);r.resolve(!!p)}}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return ji}))}))}cancelNavigationTransition(n,o,s){let r=new Wn(n.id,this.urlSerializer.serialize(n.extractedUrl),o,s);this.events.next(r),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rT(t){return t!==Ea}var aT=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:()=>j(lT),providedIn:"root"});let t=e;return t})(),Mp=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},lT=(()=>{let e=class e extends Mp{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jy=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:()=>j(cT),providedIn:"root"});let t=e;return t})(),cT=(()=>{let e=class e extends jy{constructor(){super(...arguments),this.location=j(po),this.urlSerializer=j(Pp),this.options=j(Lp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(Gp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Hn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ay(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{o.type==="popstate"&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof ka)this.stateMemento=this.createStateMemento();else if(n instanceof ds)this.rawUrlTree=o.initialUrl;else if(n instanceof Nc){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(o.targetBrowserUrl??s,o)}}else n instanceof Pa?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(o.targetBrowserUrl??this.rawUrlTree,o)):n instanceof Wn&&(n.code===Oi.GuardRejected||n.code===Oi.NoDataFromResolver)?this.restoreHistory(o):n instanceof Ma?this.restoreHistory(o,!0):n instanceof go&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){let s=n instanceof Hn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl){let r=this.browserPageId,a=D(D({},o.extras.state),this.generateNgRouterState(o.id,r));this.location.replaceState(s,"",a)}else{let r=D(D({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(s,"",r)}}restoreHistory(n,o=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,r=this.currentPageId-s;r!==0?this.location.historyGo(r):this.currentUrlTree===n.finalUrl&&r===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ra=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ra||{});function dT(t,e){t.events.pipe(st(i=>i instanceof go||i instanceof Wn||i instanceof Ma||i instanceof ds),Be(i=>i instanceof go||i instanceof ds?Ra.COMPLETE:(i instanceof Wn?i.code===Oi.Redirect||i.code===Oi.SupersededByNewNavigation:!1)?Ra.REDIRECTING:Ra.FAILED),st(i=>i!==Ra.REDIRECTING),Lt(1)).subscribe(()=>{e()})}function uT(t){throw t}var hT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wp=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(_c),this.stateManager=j(jy),this.options=j(Lp,{optional:!0})||{},this.pendingTasks=j(pb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(sT),this.urlSerializer=j(Pp),this.location=j(po),this.urlHandlingStrategy=j(Gp),this._events=new he,this.errorHandler=this.options.errorHandler||uT,this.navigated=!1,this.routeReuseStrategy=j(aT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(Vp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Op,{optional:!0}),this.eventsSubscription=new gt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(o=>{try{let s=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(s!==null&&r!==null){if(this.stateManager.handleRouterEvent(o,r),o instanceof Wn&&o.code!==Oi.Redirect&&o.code!==Oi.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof go)this.navigated=!0;else if(o instanceof or){let a=o.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(o.url,s.currentRawUrl),c=D({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rT(s.source)},a);this.scheduleNavigation(l,Ea,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}mT(o)&&this._events.next(o)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)})}navigateToSyncWithBrowser(n,o,s){let r={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=D({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(r.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,o,a,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Bp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){let{relativeTo:s,queryParams:r,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,d=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=D(D({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let m=s?s.snapshot:this.routerState.snapshot.root;p=Iy(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return ky(p,n,u,d??null)}navigateByUrl(n,o={skipLocationChange:!1}){let s=cs(n)?n:this.parseUrl(n),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,Ea,null,o)}navigate(n,o={skipLocationChange:!1}){return fT(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let s;if(o===!0?s=D({},hT):o===!1?s=D({},pT):s=o,cs(n))return uy(this.currentUrlTree,n,s);let r=this.parseUrl(n);return uy(this.currentUrlTree,r,s)}removeEmptyProps(n){return Object.entries(n).reduce((o,[s,r])=>(r!=null&&(o[s]=r),o),{})}scheduleNavigation(n,o,s,r,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((p,m)=>{l=p,c=m});let u=this.pendingTasks.add();return dT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:r,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fT(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new pt(4008,!1)}function mT(t){return!(t instanceof Pa)&&!(t instanceof or)}var $y=(()=>{let e=class e{constructor(n,o,s,r,a,l){this.router=n,this.route=o,this.tabIndexAttribute=s,this.renderer=r,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof go&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(cs(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,o,s,r,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||o||s||r||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let o=this.href===null?null:Sb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(n,o){let s=this.renderer,r=this.el.nativeElement;o!==null?s.setAttribute(r,n,o):s.removeAttribute(r,n)}get urlTree(){return this.routerLinkInput===null?null:cs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(o){return new(o||e)(b(Wp),b(us),Ti("tabindex"),b(rs),b(re),b(Bh))},e.\u0275dir=ue({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,s){o&1&&Y("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),o&2&&Ge("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ye],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ye],replaceUrl:[2,"replaceUrl","replaceUrl",ye],routerLink:"routerLink"},standalone:!0,features:[et,Ct]});let t=e;return t})();var gT=new ie("");function Ky(t,...e){return pa([{provide:Vp,multi:!0,useValue:t},[],{provide:us,useFactory:vT,deps:[Wp]},{provide:Nb,multi:!0,useFactory:CT},e.map(i=>i.\u0275providers)])}function vT(t){return t.routerState.root}function CT(){let t=j(vt);return e=>{let i=t.get(Xs);if(e!==i.components[0])return;let n=t.get(Wp),o=t.get(bT);t.get(yT)===1&&n.initialNavigation(),t.get(wT,null,kh.Optional)?.setUpPreloading(),t.get(gT,null,kh.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var bT=new ie("",{factory:()=>new he}),yT=new ie("",{providedIn:"root",factory:()=>1});var wT=new ie("");var Up;try{Up=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Up=!1}var je=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?jb(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Up)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(o){return new(o||e)(F(os))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ar,qy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function zp(){if(ar)return ar;if(typeof document!="object"||!document)return ar=new Set(qy),ar;let t=document.createElement("input");return ar=new Set(qy.filter(e=>(t.setAttribute("type",e),t.type===e))),ar}var Ga;function _T(){if(Ga==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ga=!0}))}finally{Ga=Ga||!1}return Ga}function vi(t){return _T()?t:!!t.capture}var gn=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(gn||{}),jc,hs;function $c(){if(hs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return hs=!1,hs;if("scrollBehavior"in document.documentElement.style)hs=!0;else{let t=Element.prototype.scrollTo;t?hs=!/\{\s*\[native code\]\s*\}/.test(t.toString()):hs=!1}}return hs}function lr(){if(typeof document!="object"||!document)return gn.NORMAL;if(jc==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",t.appendChild(i),document.body.appendChild(t),jc=gn.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,jc=t.scrollLeft===0?gn.NEGATED:gn.INVERTED),t.remove()}return jc}var Hp;function ST(){if(Hp==null){let t=typeof document<"u"?document.head:null;Hp=!!(t&&(t.createShadowRoot||t.attachShadow))}return Hp}function Xy(t){if(ST()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Wa(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Ni(t){return t.composedPath?t.composedPath()[0]:t.target}function Ha(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Wt(t,...e){return e.length?e.some(i=>t[i]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function En(t){return t!=null&&`${t}`!="false"}function ci(t,e=0){return RT(t)?Number(t):e}function RT(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function cr(t){return Array.isArray(t)?t:[t]}function kt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Ci(t){return t instanceof re?t.nativeElement:t}function xT(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let e=0;e<t.addedNodes.length;e++)if(!(t.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<t.removedNodes.length;e++)if(!(t.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var Yy=(()=>{let e=class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ET=(()=>{let e=class e{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map,this._ngZone=j(pe)}ngOnDestroy(){this._observedElements.forEach((n,o)=>this._cleanupObserver(o))}observe(n){let o=Ci(n);return new ai(s=>{let a=this._observeElement(o).pipe(Be(l=>l.filter(c=>!xT(c))),st(l=>!!l.length)).subscribe(l=>{this._ngZone.run(()=>{s.next(l)})});return()=>{a.unsubscribe(),this._unobserveElement(o)}})}_observeElement(n){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(n))this._observedElements.get(n).count++;else{let o=new he,s=this._mutationObserverFactory.create(r=>o.next(r));s&&s.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:s,stream:o,count:1})}return this._observedElements.get(n).stream})}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){let{observer:o,stream:s}=this._observedElements.get(n);o&&o.disconnect(),s.complete(),this._observedElements.delete(n)}}};e.\u0275fac=function(o){return new(o||e)(F(Yy))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qy=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=ci(n),this._subscribe()}constructor(n,o){this._contentObserver=n,this._elementRef=o,this.event=new M,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let n=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?n.pipe(lo(this.debounce)):n).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)(b(ET),b(re))},e.\u0275dir=ue({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",ye],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[et]});let t=e;return t})(),Kc=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({providers:[Yy]});let t=e;return t})();var Zy=new Set,ps,DT=(()=>{let e=class e{constructor(n,o){this._platform=n,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):IT}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&TT(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(o){return new(o||e)(F(je),F(ma,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TT(t,e){if(!Zy.has(t))try{ps||(ps=document.createElement("style"),e&&ps.setAttribute("nonce",e),ps.setAttribute("type","text/css"),document.head.appendChild(ps)),ps.sheet&&(ps.sheet.insertRule(`@media ${t} {body{ }}`,0),Zy.add(t))}catch(i){console.error(i)}}function IT(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var ew=(()=>{let e=class e{constructor(n,o){this._mediaMatcher=n,this._zone=o,this._queries=new Map,this._destroySubject=new he}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Jy(cr(n)).some(s=>this._registerQuery(s).mql.matches)}observe(n){let s=Jy(cr(n)).map(a=>this._registerQuery(a).observable),r=ua(s);return r=vc(r.pipe(Lt(1)),r.pipe(Ws(1),lo(0))),r.pipe(Be(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let o=this._mediaMatcher.matchMedia(n),r={observable:new ai(a=>{let l=c=>this._zone.run(()=>a.next(c));return o.addListener(l),()=>{o.removeListener(l)}}).pipe(Ft(o),Be(({matches:a})=>({query:n,matches:a})),Ue(this._destroySubject)),mql:o};return this._queries.set(n,r),r}};e.\u0275fac=function(o){return new(o||e)(F(DT),F(pe))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jy(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var sw=" ";function Yp(t,e,i){let n=Qc(t,e);i=i.trim(),!n.some(o=>o.trim()===i)&&(n.push(i),t.setAttribute(e,n.join(sw)))}function ed(t,e,i){let n=Qc(t,e);i=i.trim();let o=n.filter(s=>s!==i);o.length?t.setAttribute(e,o.join(sw)):t.removeAttribute(e)}function Qc(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var rw="cdk-describedby-message",qc="cdk-describedby-host",Kp=0,aw=(()=>{let e=class e{constructor(n,o){this._platform=o,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${Kp++}`,this._document=n,this._id=j(fa)+"-"+Kp++}describe(n,o,s){if(!this._canBeDescribed(n,o))return;let r=jp(o,s);typeof o!="string"?(tw(o,this._id),this._messageRegistry.set(r,{messageElement:o,referenceCount:0})):this._messageRegistry.has(r)||this._createMessageElement(o,s),this._isElementDescribedByMessage(n,r)||this._addMessageReference(n,r)}removeDescription(n,o,s){if(!o||!this._isElementNode(n))return;let r=jp(o,s);if(this._isElementDescribedByMessage(n,r)&&this._removeMessageReference(n,r),typeof o=="string"){let a=this._messageRegistry.get(r);a&&a.referenceCount===0&&this._deleteMessageElement(r)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${qc}="${this._id}"]`);for(let o=0;o<n.length;o++)this._removeCdkDescribedByReferenceIds(n[o]),n[o].removeAttribute(qc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,o){let s=this._document.createElement("div");tw(s,this._id),s.textContent=n,o&&s.setAttribute("role",o),this._createMessagesContainer(),this._messagesContainer.appendChild(s),this._messageRegistry.set(jp(n,o),{messageElement:s,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",o=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let r=0;r<o.length;r++)o[r].remove();let s=this._document.createElement("div");s.style.visibility="hidden",s.classList.add(n),s.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&s.setAttribute("platform","server"),this._document.body.appendChild(s),this._messagesContainer=s}_removeCdkDescribedByReferenceIds(n){let o=Qc(n,"aria-describedby").filter(s=>s.indexOf(rw)!=0);n.setAttribute("aria-describedby",o.join(" "))}_addMessageReference(n,o){let s=this._messageRegistry.get(o);Yp(n,"aria-describedby",s.messageElement.id),n.setAttribute(qc,this._id),s.referenceCount++}_removeMessageReference(n,o){let s=this._messageRegistry.get(o);s.referenceCount--,ed(n,"aria-describedby",s.messageElement.id),n.removeAttribute(qc)}_isElementDescribedByMessage(n,o){let s=Qc(n,"aria-describedby"),r=this._messageRegistry.get(o),a=r&&r.messageElement.id;return!!a&&s.indexOf(a)!=-1}_canBeDescribed(n,o){if(!this._isElementNode(n))return!1;if(o&&typeof o=="object")return!0;let s=o==null?"":`${o}`.trim(),r=n.getAttribute("aria-label");return s?!r||r.trim()!==s:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}};e.\u0275fac=function(o){return new(o||e)(F(Me),F(je))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jp(t,e){return typeof t=="string"?`${e||""}/${t}`:t}function tw(t,e){t.id||(t.id=`${rw}-${e}-${Kp++}`)}var Zc=class{constructor(e,i){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new he,this._typeaheadSubscription=gt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new he,this.change=new he,e instanceof ns?this._itemChangesSubscription=e.changes.subscribe(n=>this._itemsChanged(n.toArray())):Ph(e)&&(this._effectRef=Gb(()=>this._itemsChanged(e()),{injector:i}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(_t(i=>this._pressedLetters.push(i)),lo(e),st(()=>this._pressedLetters.length>0),Be(()=>this._pressedLetters.join(""))).subscribe(i=>{let n=this._getItemsArray();for(let o=1;o<n.length+1;o++){let s=(this._activeItemIndex+o)%n.length,r=n[s];if(!this._skipPredicateFn(r)&&r.getLabel().toUpperCase().trim().indexOf(i)===0){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,i=10){return this._pageUpAndDown={enabled:e,delta:i},this}setActiveItem(e){let i=this._activeItem;this.updateActiveItem(e),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(e){let i=e.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let s=this._activeItemIndex+this._pageUpAndDown.delta,r=this._getItemsArray().length;this._setActiveItemByIndex(s<r?s:r-1,-1);break}else return;default:(o||Wt(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let i=this._getItemsArray(),n=typeof e=="number"?e:i.indexOf(e),o=i[n];this._activeItem=o??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let o=(this._activeItemIndex+e*n+i.length)%i.length,s=i[o];if(!this._skipPredicateFn(s)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,i){let n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(e+=i,!n[e])return;this.setActiveItem(e)}}_getItemsArray(){return Ph(this._items)?this._items():this._items instanceof ns?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let i=e.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}},Jc=class extends Zc{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}},ur=class extends Zc{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var Ua=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return zT(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let o=UT(ZT(n));if(o&&(iw(o)===-1||!this.isVisible(o)))return!1;let s=n.nodeName.toLowerCase(),r=iw(n);return n.hasAttribute("contenteditable")?r!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!YT(n)?!1:s==="audio"?n.hasAttribute("controls")?r!==-1:!1:s==="video"?r===-1?!1:r!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,o){return QT(n)&&!this.isDisabled(n)&&(o?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(o){return new(o||e)(F(je))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UT(t){try{return t.frameElement}catch{return null}}function zT(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function jT(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function $T(t){return qT(t)&&t.type=="hidden"}function KT(t){return XT(t)&&t.hasAttribute("href")}function qT(t){return t.nodeName.toLowerCase()=="input"}function XT(t){return t.nodeName.toLowerCase()=="a"}function lw(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function iw(t){if(!lw(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function YT(t){let e=t.nodeName.toLowerCase(),i=e==="input"&&t.type;return i==="text"||i==="password"||e==="select"||e==="textarea"}function QT(t){return $T(t)?!1:jT(t)||KT(t)||t.hasAttribute("contenteditable")||lw(t)}function ZT(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var qp=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,i,n,o,s=!1,r){this._element=e,this._checker=i,this._ngZone=n,this._document=o,this._injector=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,i=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let i=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(e),!!n}return i.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let i=this._getRegionBoundary("start");return i&&i.focus(e),!!i}focusLastTabbableElement(e){let i=this._getRegionBoundary("end");return i&&i.focus(e),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let n=0;n<i.length;n++){let o=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let n=i.length-1;n>=0;n--){let o=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(o)return o}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,i){e?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?ki(e,{injector:this._injector}):setTimeout(e)}},td=(()=>{let e=class e{constructor(n,o,s){this._checker=n,this._ngZone=o,this._injector=j(vt),this._document=s}create(n,o=!1){return new qp(n,this._checker,this._ngZone,this._document,o,this._injector)}};e.\u0275fac=function(o){return new(o||e)(F(Ua),F(pe),F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function za(t){return t.buttons===0||t.detail===0}function ja(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var JT=new ie("cdk-input-modality-detector-options"),eI={ignoreKeys:[18,17,224,91,16]},cw=650,dr=vi({passive:!0,capture:!0}),tI=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,o,s,r){this._platform=n,this._mostRecentTarget=null,this._modality=new xt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ni(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<cw||(this._modality.next(za(a)?"keyboard":"mouse"),this._mostRecentTarget=Ni(a))},this._onTouchstart=a=>{if(ja(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ni(a)},this._options=D(D({},eI),r),this.modalityDetected=this._modality.pipe(Ws(1)),this.modalityChanged=this.modalityDetected.pipe(Jo()),n.isBrowser&&o.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,dr),s.addEventListener("mousedown",this._onMousedown,dr),s.addEventListener("touchstart",this._onTouchstart,dr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dr),document.removeEventListener("mousedown",this._onMousedown,dr),document.removeEventListener("touchstart",this._onTouchstart,dr))}};e.\u0275fac=function(o){return new(o||e)(F(je),F(pe),F(Me),F(JT,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iI=new ie("liveAnnouncerElement",{providedIn:"root",factory:nI});function nI(){return null}var oI=new ie("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),sI=0,dw=(()=>{let e=class e{constructor(n,o,s,r){this._ngZone=o,this._defaultOptions=r,this._document=s,this._liveElement=n||this._createLiveElement()}announce(n,...o){let s=this._defaultOptions,r,a;return o.length===1&&typeof o[0]=="number"?a=o[0]:[r,a]=o,this.clear(),clearTimeout(this._previousTimeout),r||(r=s&&s.politeness?s.politeness:"polite"),a==null&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",r),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",o=this._document.getElementsByClassName(n),s=this._document.createElement("div");for(let r=0;r<o.length;r++)o[r].remove();return s.classList.add(n),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${sI++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(n){let o=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<o.length;s++){let r=o[s],a=r.getAttribute("aria-owns");a?a.indexOf(n)===-1&&r.setAttribute("aria-owns",a+" "+n):r.setAttribute("aria-owns",n)}}};e.\u0275fac=function(o){return new(o||e)(F(iI,8),F(pe),F(Me),F(oI,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yc=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Yc||{}),rI=new ie("cdk-focus-monitor-default-options"),Xc=vi({passive:!0,capture:!0}),bi=(()=>{let e=class e{constructor(n,o,s,r,a){this._ngZone=n,this._platform=o,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new he,this._rootNodeFocusAndBlurListener=l=>{let c=Ni(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=r,this._detectionMode=a?.detectionMode||Yc.IMMEDIATE}monitor(n,o=!1){let s=Ci(n);if(!this._platform.isBrowser||s.nodeType!==1)return we();let r=Xy(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return o&&(a.checkChildren=!0),a.subject;let l={checkChildren:o,subject:new he,rootNode:r};return this._elementInfo.set(s,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let o=Ci(n),s=this._elementInfo.get(o);s&&(s.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(s))}focusVia(n,o,s){let r=Ci(n),a=this._getDocument().activeElement;r===a?this._getClosestElementsInfo(r).forEach(([l,c])=>this._originChanged(l,o,c)):(this._setOrigin(o),typeof r.focus=="function"&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((n,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Yc.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,o){n.classList.toggle("cdk-focused",!!o),n.classList.toggle("cdk-touch-focused",o==="touch"),n.classList.toggle("cdk-keyboard-focused",o==="keyboard"),n.classList.toggle("cdk-mouse-focused",o==="mouse"),n.classList.toggle("cdk-program-focused",o==="program")}_setOrigin(n,o=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&o,this._detectionMode===Yc.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?cw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(n,o){let s=this._elementInfo.get(o),r=Ni(n);!s||!s.checkChildren&&o!==r||this._originChanged(o,this._getFocusOrigin(r),s)}_onBlur(n,o){let s=this._elementInfo.get(o);!s||s.checkChildren&&n.relatedTarget instanceof Node&&o.contains(n.relatedTarget)||(this._setClasses(o),this._emitOrigin(s,null))}_emitOrigin(n,o){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(o))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let o=n.rootNode,s=this._rootNodeFocusListenerCount.get(o)||0;s||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xc),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xc)}),this._rootNodeFocusListenerCount.set(o,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ue(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(n){let o=n.rootNode;if(this._rootNodeFocusListenerCount.has(o)){let s=this._rootNodeFocusListenerCount.get(o);s>1?this._rootNodeFocusListenerCount.set(o,s-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xc),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xc),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,o,s){this._setClasses(n,o),this._emitOrigin(s,o),this._lastFocusOrigin=o}_getClosestElementsInfo(n){let o=[];return this._elementInfo.forEach((s,r)=>{(r===n||s.checkChildren&&r.contains(n))&&o.push([r,s])}),o}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:o,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!o||o===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let r=n.labels;if(r){for(let a=0;a<r.length;a++)if(r[a].contains(o))return!0}return!1}};e.\u0275fac=function(o){return new(o||e)(F(pe),F(je),F(tI),F(Me,8),F(rI,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uw=(()=>{let e=class e{constructor(n,o){this._elementRef=n,this._focusMonitor=o,this._focusOrigin=null,this.cdkFocusChange=new M}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,n.nodeType===1&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(o=>{this._focusOrigin=o,this.cdkFocusChange.emit(o)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)(b(re),b(bi))},e.\u0275dir=ue({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),fs=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(fs||{}),nw="cdk-high-contrast-black-on-white",ow="cdk-high-contrast-white-on-black",$p="cdk-high-contrast-active",Qp=(()=>{let e=class e{constructor(n,o){this._platform=n,this._document=o,this._breakpointSubscription=j(ew).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return fs.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let o=this._document.defaultView||window,s=o&&o.getComputedStyle?o.getComputedStyle(n):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(n.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return fs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return fs.BLACK_ON_WHITE}return fs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove($p,nw,ow),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===fs.BLACK_ON_WHITE?n.add($p,nw):o===fs.WHITE_ON_BLACK&&n.add($p,ow)}}};e.\u0275fac=function(o){return new(o||e)(F(je),F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),id=(()=>{let e=class e{constructor(n){n._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(o){return new(o||e)(F(Qp))},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Kc]});let t=e;return t})();var aI=new ie("cdk-dir-doc",{providedIn:"root",factory:lI});function lI(){return j(Me)}var cI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function dI(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?cI.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Dt=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new M,n){let o=n.body?n.body.dir:null,s=n.documentElement?n.documentElement.dir:null;this.value=dI(o||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(o){return new(o||e)(F(aI,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Co=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({});let t=e;return t})();var uI=["text"],hI=[[["mat-icon"]],"*"],pI=["mat-icon","*"];function fI(t,e){if(t&1&&ee(0,"mat-pseudo-checkbox",1),t&2){let i=X();G("disabled",i.disabled)("state",i.selected?"checked":"unchecked")}}function mI(t,e){if(t&1&&ee(0,"mat-pseudo-checkbox",3),t&2){let i=X();G("disabled",i.disabled)}}function gI(t,e){if(t&1&&(f(0,"span",4),_(1),g()),t&2){let i=X();x(),wc("(",i.group.label,")")}}var vI=["mat-internal-form-field",""],CI=["*"];function bI(){return!0}var yI=new ie("mat-sanity-checks",{providedIn:"root",factory:bI}),Pe=(()=>{let e=class e{constructor(n,o,s){this._sanityChecks=o,this._document=s,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Ha()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(o){return new(o||e)(F(Qp),F(yI,8),F(Me))},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Co,Co]});let t=e;return t})();var gr=class{constructor(e,i,n,o,s){this._defaultMatcher=e,this.ngControl=i,this._parentFormGroup=n,this._parentForm=o,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,s=n?.isErrorState(o,i)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var od=(()=>{let e=class e{isErrorState(n,o){return!!(n&&n.invalid&&(n.touched||o&&o.submitted))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sf=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,Pe]});let t=e;return t})(),Yi=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Yi||{}),ef=class{constructor(e,i,n,o=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=o,this.state=Yi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},hw=vi({passive:!0,capture:!0}),tf=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=Ni(e);i&&this._events.get(e.type)?.forEach((n,o)=>{(o===i||o.contains(i))&&n.forEach(s=>s.handleEvent(e))})}}addHandler(e,i,n,o){let s=this._events.get(i);if(s){let r=s.get(n);r?r.add(o):s.set(n,new Set([o]))}else this._events.set(i,new Map([[n,new Set([o])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,hw)})}removeHandler(e,i,n){let o=this._events.get(e);if(!o)return;let s=o.get(i);s&&(s.delete(n),s.size===0&&o.delete(i),o.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,hw)))}},pw={enterDuration:225,exitDuration:150},wI=800,fw=vi({passive:!0,capture:!0}),mw=["mousedown","touchstart"],gw=["mouseup","mouseleave","touchend","touchcancel"],$a=class $a{constructor(e,i,n,o){this._target=e,this._ngZone=i,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Ci(n))}fadeInRipple(e,i,n={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=D(D({},pw),n.animation);n.centered&&(e=o.left+o.width/2,i=o.top+o.height/2);let r=n.radius||_I(e,i,o),a=e-o.left,l=i-o.top,c=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-r}px`,d.style.top=`${l-r}px`,d.style.height=`${r*2}px`,d.style.width=`${r*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),p=u.transitionProperty,m=u.transitionDuration,y=p==="none"||m==="0s"||m==="0s, 0s"||o.width===0&&o.height===0,R=new ef(this,d,n,y);d.style.transform="scale3d(1, 1, 1)",R.state=Yi.FADING_IN,n.persistent||(this._mostRecentTransientRipple=R);let S=null;return!y&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let k=()=>{S&&(S.fallbackTimer=null),clearTimeout(B),this._finishRippleTransition(R)},P=()=>this._destroyRipple(R),B=setTimeout(P,c+100);d.addEventListener("transitionend",k),d.addEventListener("transitioncancel",P),S={onTransitionEnd:k,onTransitionCancel:P,fallbackTimer:B}}),this._activeRipples.set(R,S),(y||!c)&&this._finishRippleTransition(R),R}fadeOutRipple(e){if(e.state===Yi.FADING_OUT||e.state===Yi.HIDDEN)return;let i=e.element,n=D(D({},pw),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=Yi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=Ci(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,mw.forEach(n=>{$a._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{gw.forEach(i=>{this._triggerElement.addEventListener(i,this,fw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Yi.FADING_IN?this._startFadeOutTransition(e):e.state===Yi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=Yi.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Yi.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),e.element.remove()}_onMousedown(e){let i=za(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+wI;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ja(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===Yi.VISIBLE||e.config.terminateOnPointerUp&&e.state===Yi.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(mw.forEach(i=>$a._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(gw.forEach(i=>e.removeEventListener(i,this,fw)),this._pointerUpEventsRegistered=!1))}};$a._eventManager=new tf;var nf=$a;function _I(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),o=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+o*o)}var rf=new ie("mat-ripple-global-options"),Qi=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,o,s,r,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new nf(this,o,n,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:D(D(D({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,o=0,s){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,o,D(D({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,D(D({},this.rippleConfig),n))}};e.\u0275fac=function(o){return new(o||e)(b(re),b(pe),b(je),b(rf,8),b(ft,8))},e.\u0275dir=ue({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,s){o&2&&Se("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),Ka=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,Pe]});let t=e;return t})(),SI=(()=>{let e=class e{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(o){return new(o||e)(b(ft,8))},e.\u0275cmp=$({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(o,s){o&2&&Se("mat-pseudo-checkbox-indeterminate",s.state==="indeterminate")("mat-pseudo-checkbox-checked",s.state==="checked")("mat-pseudo-checkbox-disabled",s.disabled)("mat-pseudo-checkbox-minimal",s.appearance==="minimal")("mat-pseudo-checkbox-full",s.appearance==="full")("_mat-animation-noopable",s._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[K],decls:0,vars:0,template:function(o,s){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let t=e;return t})(),RI=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe]});let t=e;return t})(),af=new ie("MAT_OPTION_PARENT_COMPONENT");var lf=new ie("MatOptgroup");var xI=0,of=class{constructor(e,i=!1){this.source=e,this.isUserInput=i}},qt=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(n){this._disabled=n}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(n,o,s,r){this._element=n,this._changeDetectorRef=o,this._parent=s,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${xI++}`,this.onSelectionChange=new M,this._stateChanges=new he}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(n=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}deselect(n=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}focus(n,o){let s=this._getHostElement();typeof s.focus=="function"&&s.focus(o)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(n.keyCode===13||n.keyCode===32)&&!Wt(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=n)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new of(this,n))}};e.\u0275fac=function(o){return new(o||e)(b(re),b(lt),b(af,8),b(lf,8))},e.\u0275cmp=$({type:e,selectors:[["mat-option"]],viewQuery:function(o,s){if(o&1&&Qe(uI,7),o&2){let r;xe(r=Ee())&&(s._text=r.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(o,s){o&1&&Y("click",function(){return s._selectViaInteraction()})("keydown",function(a){return s._handleKeydown(a)}),o&2&&(Mi("id",s.id),Ge("aria-selected",s.selected)("aria-disabled",s.disabled.toString()),Se("mdc-list-item--selected",s.selected)("mat-mdc-option-multiple",s.multiple)("mat-mdc-option-active",s.active)("mdc-list-item--disabled",s.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",ye]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[et,K],ngContentSelectors:pI,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(o,s){o&1&&(it(hI),de(0,fI,1,2,"mat-pseudo-checkbox",1),Ne(1),f(2,"span",2,0),Ne(4,1),g(),de(5,mI,1,1,"mat-pseudo-checkbox",3)(6,gI,2,1,"span",4),ee(7,"div",5)),o&2&&(dt(s.multiple?0:-1),x(5),dt(!s.multiple&&s.selected&&!s.hideSingleSelectionIndicator?5:-1),x(),dt(s.group&&s.group._inert?6:-1),x(),G("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},dependencies:[SI,Qi],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();function yw(t,e,i){if(i.length){let n=e.toArray(),o=i.toArray(),s=0;for(let r=0;r<t+1;r++)n[r].group&&n[r].group===o[s]&&s++;return s}return 0}function ww(t,e,i,n){return t<i?t:t+e>i+n?Math.max(0,t-n+e):i}var cf=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Ka,Pe,RI]});let t=e;return t})(),vw={capture:!0},Cw=["focus","mousedown","mouseenter","touchstart"],Zp="mat-ripple-loader-uninitialized",Jp="mat-ripple-loader-class-name",bw="mat-ripple-loader-centered",nd="mat-ripple-loader-disabled",_w=(()=>{let e=class e{constructor(){this._document=j(Me,{optional:!0}),this._animationMode=j(ft,{optional:!0}),this._globalRippleOptions=j(rf,{optional:!0}),this._platform=j(je),this._ngZone=j(pe),this._hosts=new Map,this._onInteraction=n=>{let o=Ni(n);if(o instanceof HTMLElement){let s=o.closest(`[${Zp}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}},this._ngZone.runOutsideAngular(()=>{for(let n of Cw)this._document?.addEventListener(n,this._onInteraction,vw)})}ngOnDestroy(){let n=this._hosts.keys();for(let o of n)this.destroyRipple(o);for(let o of Cw)this._document?.removeEventListener(o,this._onInteraction,vw)}configureRipple(n,o){n.setAttribute(Zp,this._globalRippleOptions?.namespace??""),(o.className||!n.hasAttribute(Jp))&&n.setAttribute(Jp,o.className||""),o.centered&&n.setAttribute(bw,""),o.disabled&&n.setAttribute(nd,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,o){let s=this._hosts.get(n);if(s){s.disabled=o;return}o?n.setAttribute(nd,""):n.removeAttribute(nd)}_createRipple(n){if(!this._document)return;let o=this._hosts.get(n);if(o)return o;n.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",n.getAttribute(Jp)),n.append(s);let r=new Qi(new re(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=n,r.centered=n.hasAttribute(bw),r.disabled=n.hasAttribute(nd),this.attachRipple(n,r),r}attachRipple(n,o){n.removeAttribute(Zp),this._hosts.set(n,o)}destroyRipple(n){let o=this._hosts.get(n);o&&(o.ngOnDestroy(),this._hosts.delete(n))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sd=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=$({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(o,s){o&2&&Se("mdc-form-field--align-end",s.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[K],attrs:vI,ngContentSelectors:CI,decls:1,vars:0,template:function(o,s){o&1&&(it(),Ne(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Xa=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},_o=class extends Xa{constructor(e,i,n,o,s){super(),this.component=e,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=o,this.projectableNodes=s}},Zi=class extends Xa{constructor(e,i,n,o){super(),this.templateRef=e,this.viewContainerRef=i,this.context=n,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},df=class extends Xa{constructor(e){super(),this.element=e instanceof re?e.nativeElement:e}},vr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof _o)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Zi)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof df)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ya=class extends vr{constructor(e,i,n,o,s){super(),this.outletElement=e,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=o,this.attachDomPortal=r=>{this._document;let a=r.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=r,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=n.create(e.injector||this._defaultInjector||vt.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let i=e.viewContainerRef,n=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(o=>this.outletElement.appendChild(o)),n.detectChanges(),this.setDisposeFn(()=>{let o=i.indexOf(n);o!==-1&&i.remove(o)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Sw=(()=>{let e=class e extends Zi{constructor(n,o){super(n,o)}};e.\u0275fac=function(o){return new(o||e)(b($t),b(Bt))},e.\u0275dir=ue({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[Je]});let t=e;return t})();var Un=(()=>{let e=class e extends vr{constructor(n,o,s){super(),this._componentFactoryResolver=n,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new M,this.attachDomPortal=r=>{this._document;let a=r.element;a.parentNode;let l=this._document.createComment("dom-portal");r.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=r,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let o=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=o.createComponent(r,o.length,n.injector||o.injector,n.projectableNodes||void 0);return o!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let o=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(o){return new(o||e)(b(ss),b(Bt),b(Me))},e.\u0275dir=ue({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Je]});let t=e;return t})();var gs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({});let t=e;return t})();var rd=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,i,n=!0,o){this._multiple=e,this._emitChanges=n,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new he,i&&i.length&&(e?i.forEach(s=>this._markSelected(s)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(n=>this._markSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...e){this._verifyValueAssignment(e),e.forEach(n=>this._unmarkSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...e){this._verifyValueAssignment(e);let i=this.selected,n=new Set(e);e.forEach(s=>this._markSelected(s)),i.filter(s=>!n.has(this._getConcreteValue(s,n))).forEach(s=>this._unmarkSelected(s));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let i=this._hasQueuedChanges();return e&&this._emitChangeEvent(),i}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,i){if(this.compareWith){i=i??this._selection;for(let n of i)if(this.compareWith(e,n))return n;return e}else return e}};var DI=20,Cr=(()=>{let e=class e{constructor(n,o,s){this._ngZone=n,this._platform=o,this._scrolled=new he,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let o=this.scrollContainers.get(n);o&&(o.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=DI){return this._platform.isBrowser?new ai(o=>{this._globalSubscription||this._addGlobalListener();let s=n>0?this._scrolled.pipe(Eh(n)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):we()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(n,o){let s=this.getAncestorScrollContainers(n);return this.scrolled(o).pipe(st(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(n){let o=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,n)&&o.push(r)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,o){let s=Ci(o),r=n.getElementRef().nativeElement;do if(s==r)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return ro(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(o){return new(o||e)(F(pe),F(je),F(Me,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qa=(()=>{let e=class e{constructor(n,o,s,r){this.elementRef=n,this.scrollDispatcher=o,this.ngZone=s,this.dir=r,this._destroyed=new he,this._elementScrolled=new ai(a=>this.ngZone.runOutsideAngular(()=>ro(this.elementRef.nativeElement,"scroll").pipe(Ue(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let o=this.elementRef.nativeElement,s=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=s?n.end:n.start),n.right==null&&(n.right=s?n.start:n.end),n.bottom!=null&&(n.top=o.scrollHeight-o.clientHeight-n.bottom),s&&lr()!=gn.NORMAL?(n.left!=null&&(n.right=o.scrollWidth-o.clientWidth-n.left),lr()==gn.INVERTED?n.left=n.right:lr()==gn.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=o.scrollWidth-o.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let o=this.elementRef.nativeElement;$c()?o.scrollTo(n):(n.top!=null&&(o.scrollTop=n.top),n.left!=null&&(o.scrollLeft=n.left))}measureScrollOffset(n){let o="left",s="right",r=this.elementRef.nativeElement;if(n=="top")return r.scrollTop;if(n=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let a=this.dir&&this.dir.value=="rtl";return n=="start"?n=a?s:o:n=="end"&&(n=a?o:s),a&&lr()==gn.INVERTED?n==o?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:a&&lr()==gn.NEGATED?n==o?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:n==o?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}};e.\u0275fac=function(o){return new(o||e)(b(re),b(Cr),b(pe),b(Dt,8))},e.\u0275dir=ue({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let t=e;return t})(),TI=20,zn=(()=>{let e=class e{constructor(n,o,s){this._platform=n,this._change=new he,this._changeListener=r=>{this._change.next(r)},this._document=s,o.runOutsideAngular(()=>{if(n.isBrowser){let r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+s,right:n.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,o=this._getWindow(),s=n.documentElement,r=s.getBoundingClientRect(),a=-r.top||n.body.scrollTop||o.scrollY||s.scrollTop||0,l=-r.left||n.body.scrollLeft||o.scrollX||s.scrollLeft||0;return{top:a,left:l}}change(n=TI){return n>0?this._change.pipe(Eh(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(o){return new(o||e)(F(je),F(pe),F(Me,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var So=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({});let t=e;return t})(),Za=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Co,So,Co,So]});let t=e;return t})();var uf=class{constructor(e){this._box=e,this._destroyed=new he,this._resizeSubject=new he,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ai(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),n.unsubscribe(),this._elementObservables.delete(e)}}).pipe(st(i=>i.some(n=>n.target===e)),Ih({bufferSize:1,refCount:!0}),Ue(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},ld=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=j(pe),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,o){let s=o?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new uf(s)),this._observers.get(s).observe(n)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mf=["*"];function II(t,e){t&1&&Ne(0)}var kI=["tabListContainer"],MI=["tabList"],PI=["tabListInner"],AI=["nextPaginator"],FI=["previousPaginator"],OI=t=>({animationDuration:t}),NI=(t,e)=>({value:t,params:e});function LI(t,e){}var BI=["tabBodyWrapper"],VI=["tabHeader"];function GI(t,e){}function WI(t,e){if(t&1&&de(0,GI,0,0,"ng-template",12),t&2){let i=X().$implicit;G("cdkPortalOutlet",i.templateLabel)}}function HI(t,e){if(t&1&&_(0),t&2){let i=X().$implicit;ze(i.textLabel)}}function UI(t,e){if(t&1){let i=tt();f(0,"div",7,2),Y("click",function(){let o=ne(i),s=o.$implicit,r=o.$index,a=X(),l=Ot(1);return oe(a._handleClick(s,l,r))})("cdkFocusChange",function(o){let s=ne(i).$index,r=X();return oe(r._tabFocusChanged(o,s))}),ee(2,"span",8)(3,"div",9),f(4,"span",10)(5,"span",11),de(6,WI,1,1,null,12)(7,HI,1,1),g()()()}if(t&2){let i=e.$implicit,n=e.$index,o=Ot(1),s=X();Vt(i.labelClass),Se("mdc-tab--active",s.selectedIndex===n),G("id",s._getTabLabelId(n))("disabled",i.disabled)("fitInkBarToContent",s.fitInkBarToContent),Ge("tabIndex",s._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(n))("aria-selected",s.selectedIndex===n)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),x(3),G("matRippleTrigger",o)("matRippleDisabled",i.disabled||s.disableRipple),x(3),dt(i.templateLabel?6:7)}}function zI(t,e){t&1&&Ne(0)}function jI(t,e){if(t&1){let i=tt();f(0,"mat-tab-body",13),Y("_onCentered",function(){ne(i);let o=X();return oe(o._removeTabBodyWrapperHeight())})("_onCentering",function(o){ne(i);let s=X();return oe(s._setTabBodyWrapperHeight(o))}),g()}if(t&2){let i=e.$implicit,n=e.$index,o=X();Vt(i.bodyClass),Se("mat-mdc-tab-body-active",o.selectedIndex===n),G("id",o._getTabContentId(n))("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",o.animationDuration)("preserveContent",o.preserveContent),Ge("tabindex",o.contentTabIndex!=null&&o.selectedIndex===n?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(n))("aria-hidden",o.selectedIndex!==n)}}var $I=new ie("MatTabContent"),KI=(()=>{let e=class e{constructor(n){this.template=n}};e.\u0275fac=function(o){return new(o||e)(b($t))},e.\u0275dir=ue({type:e,selectors:[["","matTabContent",""]],standalone:!0,features:[$e([{provide:$I,useExisting:e}])]});let t=e;return t})(),qI=new ie("MatTabLabel"),Ew=new ie("MAT_TAB"),XI=(()=>{let e=class e extends Sw{constructor(n,o,s){super(n,o),this._closestTab=s}};e.\u0275fac=function(o){return new(o||e)(b($t),b(Bt),b(Ew,8))},e.\u0275dir=ue({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[$e([{provide:qI,useExisting:e}]),Je]});let t=e;return t})(),Dw=new ie("MAT_TAB_GROUP"),vs=(()=>{let e=class e{get templateLabel(){return this._templateLabel}set templateLabel(n){this._setTemplateLabelInput(n)}get content(){return this._contentPortal}constructor(n,o){this._viewContainerRef=n,this._closestTabGroup=o,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new he,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(n){(n.hasOwnProperty("textLabel")||n.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Zi(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(n){n&&n._closestTab===this&&(this._templateLabel=n)}};e.\u0275fac=function(o){return new(o||e)(b(Bt),b(Dw,8))},e.\u0275cmp=$({type:e,selectors:[["mat-tab"]],contentQueries:function(o,s,r){if(o&1&&(bt(r,XI,5),bt(r,KI,7,$t)),o&2){let a;xe(a=Ee())&&(s.templateLabel=a.first),xe(a=Ee())&&(s._explicitContent=a.first)}},viewQuery:function(o,s){if(o&1&&Qe($t,7),o&2){let r;xe(r=Ee())&&(s._implicitContent=r.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",ye],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[$e([{provide:Ew,useExisting:e}]),et,Ct,K],ngContentSelectors:mf,decls:1,vars:0,template:function(o,s){o&1&&(it(),de(0,II,1,0,"ng-template"))},encapsulation:2});let t=e;return t})(),hf="mdc-tab-indicator--active",Rw="mdc-tab-indicator--no-transition",pf=class{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){let i=this._items.find(o=>o.elementRef.nativeElement===e),n=this._currentItem;if(i!==n&&(n?.deactivateInkBar(),i)){let o=n?.elementRef.nativeElement.getBoundingClientRect?.();i.activateInkBar(o),this._currentItem=i}}},YI=(()=>{let e=class e{constructor(){this._elementRef=j(re),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){this._fitToContent!==n&&(this._fitToContent=n,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){let o=this._elementRef.nativeElement;if(!n||!o.getBoundingClientRect||!this._inkBarContentElement){o.classList.add(hf);return}let s=o.getBoundingClientRect(),r=n.width/s.width,a=n.left-s.left;o.classList.add(Rw),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${r})`),o.getBoundingClientRect(),o.classList.remove(Rw),o.classList.add(hf),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(hf)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let n=this._elementRef.nativeElement.ownerDocument||document,o=this._inkBarElement=n.createElement("span"),s=this._inkBarContentElement=n.createElement("span");o.className="mdc-tab-indicator",s.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",o.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let n=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;n.appendChild(this._inkBarElement)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ye]},features:[et]});let t=e;return t})();var Tw=(()=>{let e=class e extends YI{constructor(n){super(),this.elementRef=n,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};e.\u0275fac=function(o){return new(o||e)(b(re))},e.\u0275dir=ue({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(o,s){o&2&&(Ge("aria-disabled",!!s.disabled),Se("mat-mdc-tab-disabled",s.disabled))},inputs:{disabled:[2,"disabled","disabled",ye]},standalone:!0,features:[et,Je]});let t=e;return t})(),xw=vi({passive:!0}),QI=650,ZI=100,JI=(()=>{let e=class e{get selectedIndex(){return this._selectedIndex}set selectedIndex(n){let o=isNaN(n)?0:n;this._selectedIndex!=o&&(this._selectedIndexChanged=!0,this._selectedIndex=o,this._keyManager&&this._keyManager.updateActiveItem(o))}constructor(n,o,s,r,a,l,c){this._elementRef=n,this._changeDetectorRef=o,this._viewportRuler=s,this._dir=r,this._ngZone=a,this._platform=l,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new he,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new he,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new M,this.indexFocused=new M,this._sharedResizeObserver=j(ld),this._injector=j(vt),a.runOutsideAngular(()=>{ro(n.nativeElement,"mouseleave").pipe(Ue(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){ro(this._previousPaginator.nativeElement,"touchstart",xw).pipe(Ue(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ro(this._nextPaginator.nativeElement,"touchstart",xw).pipe(Ue(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let n=this._dir?this._dir.change:we("ltr"),o=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(lo(32),Ue(this._destroyed)),s=this._viewportRuler.change(150).pipe(Ue(this._destroyed)),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ur(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),ki(r,{injector:this._injector}),Ut(n,s,o,this._items.changes,this._itemsResized()).pipe(Ue(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return typeof ResizeObserver!="function"?ji:this._items.changes.pipe(Ft(this._items),Et(n=>new ai(o=>this._ngZone.runOutsideAngular(()=>{let s=new ResizeObserver(r=>o.next(r));return n.forEach(r=>s.observe(r.elementRef.nativeElement)),()=>{s.disconnect()}}))),Ws(1),st(n=>n.some(o=>o.contentRect.width>0&&o.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(n){if(!Wt(n))switch(n.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let o=this._items.get(this.focusIndex);o&&!o.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(n))}break;default:this._keyManager.onKeydown(n)}}_onContentChanges(){let n=this._elementRef.nativeElement.textContent;n!==this._currentTextContent&&(this._currentTextContent=n||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(n){!this._isValidIndex(n)||this.focusIndex===n||!this._keyManager||this._keyManager.setActiveItem(n)}_isValidIndex(n){return this._items?!!this._items.toArray()[n]:!0}_setTabFocus(n){if(this._showPaginationControls&&this._scrollToLabel(n),this._items&&this._items.length){this._items.toArray()[n].focus();let o=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?o.scrollLeft=0:o.scrollLeft=o.scrollWidth-o.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let n=this.scrollDistance,o=this._getLayoutDirection()==="ltr"?-n:n;this._tabList.nativeElement.style.transform=`translateX(${Math.round(o)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(n){this._scrollTo(n)}_scrollHeader(n){let o=this._tabListContainer.nativeElement.offsetWidth,s=(n=="before"?-1:1)*o/3;return this._scrollTo(this._scrollDistance+s)}_handlePaginatorClick(n){this._stopInterval(),this._scrollHeader(n)}_scrollToLabel(n){if(this.disablePagination)return;let o=this._items?this._items.toArray()[n]:null;if(!o)return;let s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:a}=o.elementRef.nativeElement,l,c;this._getLayoutDirection()=="ltr"?(l=r,c=l+a):(c=this._tabListInner.nativeElement.offsetWidth-r,l=c-a);let d=this.scrollDistance,u=this.scrollDistance+s;l<d?this.scrollDistance-=d-l:c>u&&(this.scrollDistance+=Math.min(c-u,l-d))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let n=this._tabListInner.nativeElement.scrollWidth,o=this._elementRef.nativeElement.offsetWidth,s=n-o>=5;s||(this.scrollDistance=0),s!==this._showPaginationControls&&(this._showPaginationControls=s,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let n=this._tabListInner.nativeElement.scrollWidth,o=this._tabListContainer.nativeElement.offsetWidth;return n-o||0}_alignInkBarToSelectedTab(){let n=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,o=n?n.elementRef.nativeElement:null;o?this._inkBar.alignToElement(o):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(n,o){o&&o.button!=null&&o.button!==0||(this._stopInterval(),ob(QI,ZI).pipe(Ue(Ut(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:s,distance:r}=this._scrollHeader(n);(r===0||r>=s)&&this._stopInterval()}))}_scrollTo(n){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let o=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(o,n)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:o,distance:this._scrollDistance}}};e.\u0275fac=function(o){return new(o||e)(b(re),b(lt),b(zn),b(Dt,8),b(pe),b(je),b(ft,8))},e.\u0275dir=ue({type:e,inputs:{disablePagination:[2,"disablePagination","disablePagination",ye],selectedIndex:[2,"selectedIndex","selectedIndex",Pi]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[et]});let t=e;return t})(),ek=(()=>{let e=class e extends JI{constructor(n,o,s,r,a,l,c){super(n,o,s,r,a,l,c),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new pf(this._items),super.ngAfterContentInit()}_itemSelected(n){n.preventDefault()}};e.\u0275fac=function(o){return new(o||e)(b(re),b(lt),b(zn),b(Dt,8),b(pe),b(je),b(ft,8))},e.\u0275cmp=$({type:e,selectors:[["mat-tab-header"]],contentQueries:function(o,s,r){if(o&1&&bt(r,Tw,4),o&2){let a;xe(a=Ee())&&(s._items=a)}},viewQuery:function(o,s){if(o&1&&(Qe(kI,7),Qe(MI,7),Qe(PI,7),Qe(AI,5),Qe(FI,5)),o&2){let r;xe(r=Ee())&&(s._tabListContainer=r.first),xe(r=Ee())&&(s._tabList=r.first),xe(r=Ee())&&(s._tabListInner=r.first),xe(r=Ee())&&(s._nextPaginator=r.first),xe(r=Ee())&&(s._previousPaginator=r.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(o,s){o&2&&Se("mat-mdc-tab-header-pagination-controls-enabled",s._showPaginationControls)("mat-mdc-tab-header-rtl",s._getLayoutDirection()=="rtl")},inputs:{disableRipple:[2,"disableRipple","disableRipple",ye]},standalone:!0,features:[et,Je,K],ngContentSelectors:mf,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(o,s){if(o&1){let r=tt();it(),f(0,"button",5,0),Y("click",function(){return ne(r),oe(s._handlePaginatorClick("before"))})("mousedown",function(l){return ne(r),oe(s._handlePaginatorPress("before",l))})("touchend",function(){return ne(r),oe(s._stopInterval())}),ee(2,"div",6),g(),f(3,"div",7,1),Y("keydown",function(l){return ne(r),oe(s._handleKeydown(l))}),f(5,"div",8,2),Y("cdkObserveContent",function(){return ne(r),oe(s._onContentChanges())}),f(7,"div",9,3),Ne(9),g()()(),f(10,"button",10,4),Y("mousedown",function(l){return ne(r),oe(s._handlePaginatorPress("after",l))})("click",function(){return ne(r),oe(s._handlePaginatorClick("after"))})("touchend",function(){return ne(r),oe(s._stopInterval())}),ee(12,"div",6),g()}o&2&&(Se("mat-mdc-tab-header-pagination-disabled",s._disableScrollBefore),G("matRippleDisabled",s._disableScrollBefore||s.disableRipple)("disabled",s._disableScrollBefore||null),x(3),Se("_mat-animation-noopable",s._animationMode==="NoopAnimations"),x(7),Se("mat-mdc-tab-header-pagination-disabled",s._disableScrollAfter),G("matRippleDisabled",s._disableScrollAfter||s.disableRipple)("disabled",s._disableScrollAfter||null))},dependencies:[Qi,Qy],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let t=e;return t})(),tk=new ie("MAT_TABS_CONFIG"),ik={translateTab:Rn("translateTab",[fn("center, void, left-origin-center, right-origin-center",Gt({transform:"none",visibility:"visible"})),fn("left",Gt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),fn("right",Gt({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),gi("* => left, * => right, left => center, right => center",Ai("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),gi("void => left-origin-center",[Gt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Ai("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),gi("void => right-origin-center",[Gt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Ai("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},nk=(()=>{let e=class e extends Un{constructor(n,o,s,r){super(n,o,r),this._host=s,this._centeringSub=gt.EMPTY,this._leavingSub=gt.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ft(this._host._isCenterPosition(this._host._position))).subscribe(n=>{this._host._content&&n&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)(b(ss),b(Bt),b(mi(()=>Iw)),b(Me))},e.\u0275dir=ue({type:e,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[Je]});let t=e;return t})(),Iw=(()=>{let e=class e{set position(n){this._positionIndex=n,this._computePositionAnimationState()}constructor(n,o,s){this._elementRef=n,this._dir=o,this._dirChangeSubscription=gt.EMPTY,this._translateTabComplete=new he,this._onCentering=new M,this._beforeCentering=new M,this._afterLeavingCenter=new M,this._onCentered=new M(!0),this.animationDuration="500ms",this.preserveContent=!1,o&&(this._dirChangeSubscription=o.change.subscribe(r=>{this._computePositionAnimationState(r),s.markForCheck()})),this._translateTabComplete.pipe(Jo((r,a)=>r.fromState===a.fromState&&r.toState===a.toState)).subscribe(r=>{this._isCenterPosition(r.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(r.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(n){let o=this._isCenterPosition(n.toState);this._beforeCentering.emit(o),o&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(n){return n=="center"||n=="left-origin-center"||n=="right-origin-center"}_computePositionAnimationState(n=this._getLayoutDirection()){this._positionIndex<0?this._position=n=="ltr"?"left":"right":this._positionIndex>0?this._position=n=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(n){let o=this._getLayoutDirection();return o=="ltr"&&n<=0||o=="rtl"&&n>0?"left-origin-center":"right-origin-center"}};e.\u0275fac=function(o){return new(o||e)(b(re),b(Dt,8),b(lt))},e.\u0275cmp=$({type:e,selectors:[["mat-tab-body"]],viewQuery:function(o,s){if(o&1&&Qe(Un,5),o&2){let r;xe(r=Ee())&&(s._portalHost=r.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[K],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(o,s){if(o&1){let r=tt();f(0,"div",1,0),Y("@translateTab.start",function(l){return ne(r),oe(s._onTranslateTabStarted(l))})("@translateTab.done",function(l){return ne(r),oe(s._translateTabComplete.next(l))}),de(2,LI,0,0,"ng-template",2),g()}o&2&&G("@translateTab",Ob(3,NI,s._position,Fb(1,OI,s.animationDuration)))},dependencies:[nk,Qa],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[ik.translateTab]}});let t=e;return t})(),ok=0,sk=!0,br=(()=>{let e=class e{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(n){this._fitInkBarToContent=n,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){this._indexToSelect=isNaN(n)?null:n}get animationDuration(){return this._animationDuration}set animationDuration(n){let o=n+"";this._animationDuration=/^\d+$/.test(o)?n+"ms":o}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(n){this._contentTabIndex=isNaN(n)?null:n}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){if(!sk)throw new Error("mat-tab-group background color must be set through the Sass theming API");let o=this._elementRef.nativeElement.classList;o.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),n&&o.add("mat-tabs-with-background",`mat-background-${n}`),this._backgroundColor=n}constructor(n,o,s,r){this._elementRef=n,this._changeDetectorRef=o,this._animationMode=r,this._tabs=new ns,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=gt.EMPTY,this._tabLabelSubscription=gt.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new M,this.focusChange=new M,this.animationDone=new M,this.selectedTabChange=new M(!0),this._isServer=!j(je).isBrowser,this._groupId=ok++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=s&&s.disablePagination!=null?s.disablePagination:!1,this.dynamicHeight=s&&s.dynamicHeight!=null?s.dynamicHeight:!1,s?.contentTabIndex!=null&&(this.contentTabIndex=s.contentTabIndex),this.preserveContent=!!s?.preserveContent,this.fitInkBarToContent=s&&s.fitInkBarToContent!=null?s.fitInkBarToContent:!1,this.stretchTabs=s&&s.stretchTabs!=null?s.stretchTabs:!0}ngAfterContentChecked(){let n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=n){let o=this._selectedIndex==null;if(!o){this.selectedTabChange.emit(this._createChangeEvent(n));let s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,r)=>s.isActive=r===n),o||(this.selectedIndexChange.emit(n),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((o,s)=>{o.position=s-n,this._selectedIndex!=null&&o.position==0&&!o.origin&&(o.origin=n-this._selectedIndex)}),this._selectedIndex!==n&&(this._selectedIndex=n,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let n=this._clampTabIndex(this._indexToSelect);if(n===this._selectedIndex){let o=this._tabs.toArray(),s;for(let r=0;r<o.length;r++)if(o[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,s=o[r];break}!s&&o[n]&&Promise.resolve().then(()=>{o[n].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(n))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ft(this._allTabs)).subscribe(n=>{this._tabs.reset(n.filter(o=>o._closestTabGroup===this||!o._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(n){let o=this._tabHeader;o&&(o.focusIndex=n)}_focusChanged(n){this._lastFocusedTabIndex=n,this.focusChange.emit(this._createChangeEvent(n))}_createChangeEvent(n){let o=new ff;return o.index=n,this._tabs&&this._tabs.length&&(o.tab=this._tabs.toArray()[n]),o}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ut(...this._tabs.map(n=>n._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(n){return Math.min(this._tabs.length-1,Math.max(n||0,0))}_getTabLabelId(n){return`mat-tab-label-${this._groupId}-${n}`}_getTabContentId(n){return`mat-tab-content-${this._groupId}-${n}`}_setTabBodyWrapperHeight(n){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let o=this._tabBodyWrapper.nativeElement;o.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(o.style.height=n+"px")}_removeTabBodyWrapperHeight(){let n=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=n.clientHeight,n.style.height="",this.animationDone.emit()}_handleClick(n,o,s){o.focusIndex=s,n.disabled||(this.selectedIndex=s)}_getTabIndex(n){let o=this._lastFocusedTabIndex??this.selectedIndex;return n===o?0:-1}_tabFocusChanged(n,o){n&&n!=="mouse"&&n!=="touch"&&(this._tabHeader.focusIndex=o)}};e.\u0275fac=function(o){return new(o||e)(b(re),b(lt),b(tk,8),b(ft,8))},e.\u0275cmp=$({type:e,selectors:[["mat-tab-group"]],contentQueries:function(o,s,r){if(o&1&&bt(r,vs,5),o&2){let a;xe(a=Ee())&&(s._allTabs=a)}},viewQuery:function(o,s){if(o&1&&(Qe(BI,5),Qe(VI,5)),o&2){let r;xe(r=Ee())&&(s._tabBodyWrapper=r.first),xe(r=Ee())&&(s._tabHeader=r.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(o,s){o&2&&(Vt("mat-"+(s.color||"primary")),ho("--mat-tab-animation-duration",s.animationDuration),Se("mat-mdc-tab-group-dynamic-height",s.dynamicHeight)("mat-mdc-tab-group-inverted-header",s.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",s.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ye],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",ye],dynamicHeight:[2,"dynamicHeight","dynamicHeight",ye],selectedIndex:[2,"selectedIndex","selectedIndex",Pi],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Pi],disablePagination:[2,"disablePagination","disablePagination",ye],disableRipple:[2,"disableRipple","disableRipple",ye],preserveContent:[2,"preserveContent","preserveContent",ye],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[$e([{provide:Dw,useExisting:e}]),et,K],ngContentSelectors:mf,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(o,s){if(o&1){let r=tt();it(),f(0,"mat-tab-header",3,0),Y("indexFocused",function(l){return ne(r),oe(s._focusChanged(l))})("selectFocusedIndex",function(l){return ne(r),oe(s.selectedIndex=l)}),Fh(2,UI,8,17,"div",4,Ah),g(),de(4,zI,1,0),f(5,"div",5,1),Fh(7,jI,1,13,"mat-tab-body",6,Ah),g()}o&2&&(G("selectedIndex",s.selectedIndex||0)("disableRipple",s.disableRipple)("disablePagination",s.disablePagination),x(2),Oh(s._tabs),x(2),dt(s._isServer?4:-1),x(),Se("_mat-animation-noopable",s._animationMode==="NoopAnimations"),x(2),Oh(s._tabs))},dependencies:[ek,Tw,uw,Qi,Un,Iw],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color);border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let t=e;return t})(),ff=class{};var Ro=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,Pe]});let t=e;return t})();var kw=vi({passive:!0}),Mw=(()=>{let e=class e{constructor(n,o){this._platform=n,this._ngZone=o,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return ji;let o=Ci(n),s=this._monitoredElements.get(o);if(s)return s.subject;let r=new he,a="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!o.classList.contains(a)?(o.classList.add(a),this._ngZone.run(()=>r.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&o.classList.contains(a)&&(o.classList.remove(a),this._ngZone.run(()=>r.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",l,kw),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:r,unlisten:()=>{o.removeEventListener("animationstart",l,kw)}}),r}stopMonitoring(n){let o=Ci(n),s=this._monitoredElements.get(o);s&&(s.unlisten(),s.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((n,o)=>this.stopMonitoring(o))}};e.\u0275fac=function(o){return new(o||e)(F(je),F(pe))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pw=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({});let t=e;return t})();var Ww=(()=>{let e=class e{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(o){return new(o||e)(b(rs),b(re))},e.\u0275dir=ue({type:e});let t=e;return t})(),yf=(()=>{let e=class e extends Ww{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275dir=ue({type:e,features:[Je]});let t=e;return t})(),To=new ie("");var ak={provide:To,useExisting:mi(()=>Jt),multi:!0};function lk(){let t=Ys()?Ys().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ck=new ie(""),Jt=(()=>{let e=class e extends Ww{constructor(n,o,s){super(n,o),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lk())}writeValue(n){let o=n??"";this.setProperty("value",o)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(o){return new(o||e)(b(rs),b(re),b(ck,8))},e.\u0275dir=ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,s){o&1&&Y("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[$e([ak]),Je]});let t=e;return t})();function xo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Hw(t){return t!=null&&typeof t.length=="number"}var Io=new ie(""),wf=new ie(""),dk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_r=class{static min(e){return uk(e)}static max(e){return hk(e)}static required(e){return Uw(e)}static requiredTrue(e){return pk(e)}static email(e){return fk(e)}static minLength(e){return mk(e)}static maxLength(e){return gk(e)}static pattern(e){return vk(e)}static nullValidator(e){return dd(e)}static compose(e){return Xw(e)}static composeAsync(e){return Yw(e)}};function uk(t){return e=>{if(xo(e.value)||xo(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function hk(t){return e=>{if(xo(e.value)||xo(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function Uw(t){return xo(t.value)?{required:!0}:null}function pk(t){return t.value===!0?null:{required:!0}}function fk(t){return xo(t.value)||dk.test(t.value)?null:{email:!0}}function mk(t){return e=>xo(e.value)||!Hw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function gk(t){return e=>Hw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function vk(t){if(!t)return dd;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if(xo(n.value))return null;let o=n.value;return e.test(o)?null:{pattern:{requiredPattern:i,actualValue:o}}}}function dd(t){return null}function zw(t){return t!=null}function jw(t){return Sc(t)?Zt(t):t}function $w(t){let e={};return t.forEach(i=>{e=i!=null?D(D({},e),i):e}),Object.keys(e).length===0?null:e}function Kw(t,e){return e.map(i=>i(t))}function Ck(t){return!t.validate}function qw(t){return t.map(e=>Ck(e)?e:i=>e.validate(i))}function Xw(t){if(!t)return null;let e=t.filter(zw);return e.length==0?null:function(i){return $w(Kw(i,e))}}function _f(t){return t!=null?Xw(qw(t)):null}function Yw(t){if(!t)return null;let e=t.filter(zw);return e.length==0?null:function(i){let n=Kw(i,e).map(jw);return Cc(n).pipe(Be($w))}}function Sf(t){return t!=null?Yw(qw(t)):null}function Aw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Qw(t){return t._rawValidators}function Zw(t){return t._rawAsyncValidators}function vf(t){return t?Array.isArray(t)?t:[t]:[]}function ud(t,e){return Array.isArray(t)?t.includes(e):t===e}function Fw(t,e){let i=vf(e);return vf(t).forEach(o=>{ud(i,o)||i.push(o)}),i}function Ow(t,e){return vf(e).filter(i=>!ud(t,i))}var hd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_f(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},Eo=class extends hd{get formDirective(){return null}get path(){return null}},jn=class extends hd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},pd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ij=_e(D({},bk),{"[class.ng-submitted]":"isSubmitted"}),ei=(()=>{let e=class e extends pd{constructor(n){super(n)}};e.\u0275fac=function(o){return new(o||e)(b(jn,2))},e.\u0275dir=ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,s){o&2&&Se("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Je]});let t=e;return t})(),Ji=(()=>{let e=class e extends pd{constructor(n){super(n)}};e.\u0275fac=function(o){return new(o||e)(b(Eo,10))},e.\u0275dir=ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,s){o&2&&Se("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Je]});let t=e;return t})();var Ja="VALID",cd="INVALID",yr="PENDING",el="DISABLED",Do=class{},fd=class extends Do{constructor(e,i){super(),this.value=e,this.source=i}},il=class extends Do{constructor(e,i){super(),this.pristine=e,this.source=i}},nl=class extends Do{constructor(e,i){super(),this.touched=e,this.source=i}},wr=class extends Do{constructor(e,i){super(),this.status=e,this.source=i}},Cf=class extends Do{constructor(e){super(),this.source=e}},bf=class extends Do{constructor(e){super(),this.source=e}};function Jw(t){return(yd(t)?t.validators:t)||null}function yk(t){return Array.isArray(t)?_f(t):t||null}function e_(t,e){return(yd(e)?e.asyncValidators:t)||null}function wk(t){return Array.isArray(t)?Sf(t):t||null}function yd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _k(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new pt(1e3,"");if(!n[i])throw new pt(1001,"")}function Sk(t,e,i){t._forEachChild((n,o)=>{if(i[o]===void 0)throw new pt(1002,"")})}var md=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Gn(()=>this.statusReactive()),this.statusReactive=$s(void 0),this._pristine=Gn(()=>this.pristineReactive()),this.pristineReactive=$s(!0),this._touched=Gn(()=>this.touchedReactive()),this.touchedReactive=$s(!1),this._events=new he,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return pn(this.statusReactive)}set status(e){pn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ja}get invalid(){return this.status===cd}get pending(){return this.status==yr}get disabled(){return this.status===el}get enabled(){return this.status!==el}get pristine(){return pn(this.pristineReactive)}set pristine(e){pn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return pn(this.touchedReactive)}set touched(e){pn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Fw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ow(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ow(e,this._rawAsyncValidators))}hasValidator(e){return ud(this._rawValidators,e)}hasAsyncValidator(e){return ud(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let i=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(_e(D({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new nl(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(e))}markAsUntouched(e={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),i&&e.emitEvent!==!1&&this._events.next(new nl(!1,n))}markAsDirty(e={}){let i=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(_e(D({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new il(!1,n))}markAsPristine(e={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&e.emitEvent!==!1&&this._events.next(new il(!0,n))}markAsPending(e={}){this.status=yr;let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wr(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(_e(D({},e),{sourceControl:i}))}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=el,this.errors=null,this._forEachChild(o=>{o.disable(_e(D({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fd(this.value,n)),this._events.next(new wr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(D({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Ja,this._forEachChild(n=>{n.enable(_e(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_e(D({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,i){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ja||this.status===yr)&&this._runAsyncValidator(n,e.emitEvent)}let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fd(this.value,i)),this._events.next(new wr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(_e(D({},e),{sourceControl:i}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?el:Ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,i){if(this.asyncValidator){this.status=yr,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=jw(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:i,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,o)=>n&&n._find(o),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,i,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new wr(this.status,i)),this._parent&&this._parent._updateControlsErrors(e,i,n)}_initObservables(){this.valueChanges=new M,this.statusChanges=new M}_calculateStatus(){return this._allControlsDisabled()?el:this.errors?cd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yr)?yr:this._anyControlsHaveStatus(cd)?cd:Ja}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,i){let n=!this._anyControlsDirty(),o=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),o&&this._events.next(new il(this.pristine,i))}_updateTouched(e={},i){this.touched=this._anyControlsTouched(),this._events.next(new nl(this.touched,i)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=yk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wk(this._rawAsyncValidators)}},gd=class extends md{constructor(e,i,n){super(Jw(i),e_(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){Sk(this,!0,e),Object.keys(e).forEach(n=>{_k(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let o=this.controls[n];o&&o.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,o)=>{n.reset(e?e[o]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,o)=>((n.enabled||this.disabled)&&(i[o]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((o,s)=>{n=i(n,o,s)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var wd=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>Rf}),Rf="always";function Rk(t,e){return[...e.path,t]}function vd(t,e,i=Rf){xf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ek(t,e),Tk(t,e),Dk(t,e),xk(t,e)}function Nw(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),bd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Cd(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function xk(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function xf(t,e){let i=Qw(t);e.validator!==null?t.setValidators(Aw(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=Zw(t);e.asyncValidator!==null?t.setAsyncValidators(Aw(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let o=()=>t.updateValueAndValidity();Cd(e._rawValidators,o),Cd(e._rawAsyncValidators,o)}function bd(t,e){let i=!1;if(t!==null){if(e.validator!==null){let o=Qw(t);if(Array.isArray(o)&&o.length>0){let s=o.filter(r=>r!==e.validator);s.length!==o.length&&(i=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let o=Zw(t);if(Array.isArray(o)&&o.length>0){let s=o.filter(r=>r!==e.asyncValidator);s.length!==o.length&&(i=!0,t.setAsyncValidators(s))}}}let n=()=>{};return Cd(e._rawValidators,n),Cd(e._rawAsyncValidators,n),i}function Ek(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&t_(t,e)})}function Dk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&t_(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function t_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tk(t,e){let i=(n,o)=>{e.valueAccessor.writeValue(n),o&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function i_(t,e){t==null,xf(t,e)}function Ik(t,e){return bd(t,e)}function kk(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function Mk(t){return Object.getPrototypeOf(t.constructor)===yf}function n_(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Pk(t,e){if(!e)return null;Array.isArray(e);let i,n,o;return e.forEach(s=>{s.constructor===Jt?i=s:Mk(s)?n=s:o=s}),o||n||i||null}function Ak(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}var Fk={provide:Eo,useExisting:mi(()=>Xt)},tl=Promise.resolve(),Xt=(()=>{let e=class e extends Eo{get submitted(){return pn(this.submittedReactive)}constructor(n,o,s){super(),this.callSetDisabledState=s,this._submitted=Gn(()=>this.submittedReactive()),this.submittedReactive=$s(!1),this._directives=new Set,this.ngSubmit=new M,this.form=new gd({},_f(n),Sf(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){tl.then(()=>{let o=this._findContainer(n.path);n.control=o.registerControl(n.name,n.control),vd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){tl.then(()=>{let o=this._findContainer(n.path);o&&o.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){tl.then(()=>{let o=this._findContainer(n.path),s=new gd({});i_(s,n),o.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){tl.then(()=>{let o=this._findContainer(n.path);o&&o.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,o){tl.then(()=>{this.form.get(n.path).setValue(o)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),n_(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(o){return new(o||e)(b(Io,10),b(wf,10),b(wd,8))},e.\u0275dir=ue({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,s){o&1&&Y("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([Fk]),Je]});let t=e;return t})();function Lw(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function Bw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var o_=class extends md{constructor(e=null,i,n){super(Jw(i),e_(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yd(i)&&(i.nonNullable||i.initialValueIsDefault)&&(Bw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Bw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ok=t=>t instanceof o_;var Nk={provide:jn,useExisting:mi(()=>Yt)},Vw=Promise.resolve(),Yt=(()=>{let e=class e extends jn{constructor(n,o,s,r,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new o_,this._registered=!1,this.name="",this.update=new M,this._parent=n,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=Pk(this,r)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let o=n.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),kk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Vw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let o=n.isDisabled.currentValue,s=o!==0&&ye(o);Vw.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Rk(n,this._parent):[n]}};e.\u0275fac=function(o){return new(o||e)(b(Eo,9),b(Io,10),b(wf,10),b(To,10),b(lt,8),b(wd,8))},e.\u0275dir=ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([Nk]),Je,Ct]});let t=e;return t})(),en=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Lk={provide:Eo,useExisting:mi(()=>ol)},ol=(()=>{let e=class e extends Eo{get submitted(){return pn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,o,s){super(),this.callSetDisabledState=s,this._submitted=Gn(()=>this._submittedReactive()),this._submittedReactive=$s(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new M,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let o=this.form.get(n.path);return vd(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){Nw(n.control||null,n,!1),Ak(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this._submittedReactive.set(!0),n_(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Cf(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new bf(this.form))}_updateDomValue(){this.directives.forEach(n=>{let o=n.control,s=this.form.get(n.path);o!==s&&(Nw(o||null,n),Ok(s)&&(vd(s,n,this.callSetDisabledState),n.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let o=this.form.get(n.path);i_(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let o=this.form.get(n.path);o&&Ik(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xf(this.form,this),this._oldForm&&bd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(o){return new(o||e)(b(Io,10),b(wf,10),b(wd,8))},e.\u0275dir=ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(o,s){o&1&&Y("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([Lk]),Je,Ct]});let t=e;return t})();var Bk={provide:To,useExisting:mi(()=>Sr),multi:!0};function s_(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Vk(t){return t.split(":")[0]}var Sr=(()=>{let e=class e extends yf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let o=this._getOptionId(n),s=s_(o,n);this.setProperty("value",s)}registerOnChange(n){this.onChange=o=>{this.value=this._getOptionValue(o),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),n))return o;return null}_getOptionValue(n){let o=Vk(n);return this._optionMap.has(o)?this._optionMap.get(o):n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275dir=ue({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,s){o&1&&Y("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([Bk]),Je]});let t=e;return t})(),_d=(()=>{let e=class e{constructor(n,o,s){this._element=n,this._renderer=o,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(s_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(o){return new(o||e)(b(re),b(rs),b(Sr,9))},e.\u0275dir=ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Gk={provide:To,useExisting:mi(()=>r_),multi:!0};function Gw(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Wk(t){return t.split(":")[0]}var r_=(()=>{let e=class e extends yf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let o;if(Array.isArray(n)){let s=n.map(r=>this._getOptionId(r));o=(r,a)=>{r._setSelected(s.indexOf(a.toString())>-1)}}else o=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(n){this.onChange=o=>{let s=[],r=o.selectedOptions;if(r!==void 0){let a=r;for(let l=0;l<a.length;l++){let c=a[l],d=this._getOptionValue(c.value);s.push(d)}}else{let a=o.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let d=this._getOptionValue(c.value);s.push(d)}}}this.value=s,n(s)}}_registerOption(n){let o=(this._idCounter++).toString();return this._optionMap.set(o,n),o}_getOptionId(n){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,n))return o;return null}_getOptionValue(n){let o=Wk(n);return this._optionMap.has(o)?this._optionMap.get(o)._value:n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275dir=ue({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,s){o&1&&Y("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[$e([Gk]),Je]});let t=e;return t})(),Sd=(()=>{let e=class e{constructor(n,o,s){this._element=n,this._renderer=o,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Gw(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Gw(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(o){return new(o||e)(b(re),b(rs),b(r_,9))},e.\u0275dir=ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Hk=(()=>{let e=class e{constructor(){this._validator=dd}ngOnChanges(n){if(this.inputName in n){let o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):dd,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,features:[Ct]});let t=e;return t})();var Uk={provide:Io,useExisting:mi(()=>Ef),multi:!0};var Ef=(()=>{let e=class e extends Hk{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ye,this.createValidator=n=>Uw}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275dir=ue({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,s){o&2&&Ge("required",s._enabled?"":null)},inputs:{required:"required"},features:[$e([Uk]),Je]});let t=e;return t})();var zk=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({});let t=e;return t})();var ti=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:wd,useValue:n.callSetDisabledState??Rf}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[zk]});let t=e;return t})();var jk=["notch"],$k=["matFormFieldNotchedOutline",""],Kk=["*"],qk=["textField"],Xk=["iconPrefixContainer"],Yk=["textPrefixContainer"],Qk=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Zk=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Jk(t,e){t&1&&ee(0,"span",19)}function eM(t,e){if(t&1&&(f(0,"label",18),Ne(1,1),de(2,Jk,1,0,"span",19),g()),t&2){let i=X(2);G("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),Ge("for",i._control.disableAutomaticLabeling?null:i._control.id),x(2),dt(!i.hideRequiredMarker&&i._control.required?2:-1)}}function tM(t,e){if(t&1&&de(0,eM,3,5,"label",18),t&2){let i=X();dt(i._hasFloatingLabel()?0:-1)}}function iM(t,e){t&1&&ee(0,"div",5)}function nM(t,e){}function oM(t,e){if(t&1&&de(0,nM,0,0,"ng-template",11),t&2){X(2);let i=Ot(1);G("ngTemplateOutlet",i)}}function sM(t,e){if(t&1&&(f(0,"div",7),de(1,oM,1,1,null,11),g()),t&2){let i=X();G("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),x(),dt(i._forceDisplayInfixLabel()?-1:1)}}function rM(t,e){t&1&&(f(0,"div",8,2),Ne(2,2),g())}function aM(t,e){t&1&&(f(0,"div",9,3),Ne(2,3),g())}function lM(t,e){}function cM(t,e){if(t&1&&de(0,lM,0,0,"ng-template",11),t&2){X();let i=Ot(1);G("ngTemplateOutlet",i)}}function dM(t,e){t&1&&(f(0,"div",12),Ne(1,4),g())}function uM(t,e){t&1&&(f(0,"div",13),Ne(1,5),g())}function hM(t,e){t&1&&ee(0,"div",14)}function pM(t,e){if(t&1&&(f(0,"div",16),Ne(1,6),g()),t&2){let i=X();G("@transitionMessages",i._subscriptAnimationState)}}function fM(t,e){if(t&1&&(f(0,"mat-hint",20),_(1),g()),t&2){let i=X(2);G("id",i._hintLabelId),x(),ze(i.hintLabel)}}function mM(t,e){if(t&1&&(f(0,"div",17),de(1,fM,2,2,"mat-hint",20),Ne(2,7),ee(3,"div",21),Ne(4,8),g()),t&2){let i=X();G("@transitionMessages",i._subscriptAnimationState),x(),dt(i.hintLabel?1:-1)}}var ii=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,selectors:[["mat-label"]],standalone:!0});let t=e;return t})();var gM=new ie("MatError");var vM=0,a_=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${vM++}`}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(o,s){o&2&&(Mi("id",s.id),Ge("align",null),Se("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let t=e;return t})(),CM=new ie("MatPrefix");var bM=new ie("MatSuffix");var m_=new ie("FloatingLabelParent"),l_=(()=>{let e=class e{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=j(ld),this._ngZone=j(pe),this._parent=j(m_),this._resizeSubscription=new gt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return yM(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(o){return new(o||e)(b(re))},e.\u0275dir=ue({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(o,s){o&2&&Se("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let t=e;return t})();function yM(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let i=e.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var c_="mdc-line-ripple--active",Rd="mdc-line-ripple--deactivating",d_=(()=>{let e=class e{constructor(n,o){this._elementRef=n,this._handleTransitionEnd=s=>{let r=this._elementRef.nativeElement.classList,a=r.contains(Rd);s.propertyName==="opacity"&&a&&r.remove(c_,Rd)},o.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(Rd),n.add(c_)}deactivate(){this._elementRef.nativeElement.classList.add(Rd)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(o){return new(o||e)(b(re),b(pe))},e.\u0275dir=ue({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let t=e;return t})(),u_=(()=>{let e=class e{constructor(n,o){this._elementRef=n,this._ngZone=o,this.open=!1}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(o){return new(o||e)(b(re),b(pe))},e.\u0275cmp=$({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(o,s){if(o&1&&Qe(jk,5),o&2){let r;xe(r=Ee())&&(s._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(o,s){o&2&&Se("mdc-notched-outline--notched",s.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[K],attrs:$k,ngContentSelectors:Kk,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(o,s){o&1&&(it(),ee(0,"div",1),f(1,"div",2,0),Ne(3),g(),ee(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),wM={transitionMessages:Rn("transitionMessages",[fn("enter",Gt({opacity:1,transform:"translateY(0%)"})),gi("void => enter",[Gt({opacity:0,transform:"translateY(-5px)"}),Ai("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},sl=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e});let t=e;return t})();var rl=new ie("MatFormField"),_M=new ie("MAT_FORM_FIELD_DEFAULT_OPTIONS"),h_=0,p_="fill",SM="auto",f_="fixed",RM="translateY(-50%)",Tn=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=En(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||SM}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){let o=this._appearance,s=n||this._defaults?.appearance||p_;this._appearance=s,this._appearance==="outline"&&this._appearance!==o&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||f_}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||f_}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,o,s,r,a,l,c,d){this._elementRef=n,this._changeDetectorRef=o,this._dir=r,this._platform=a,this._defaults=l,this._animationMode=c,this._labelChild=Eb(ii),this._hideRequiredMarker=!1,this.color="primary",this._appearance=p_,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${h_++}`,this._hintLabelId=`mat-mdc-hint-${h_++}`,this._subscriptAnimationState="",this._destroyed=new he,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=j(vt),this.getLabelId=Gn(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Gn(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Ue(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ut(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),yc(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ue(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(n){let o=this._control?this._control.ngControl:null;return o&&o[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let o=this._hintChildren?this._hintChildren.find(r=>r.align==="start"):null,s=this._hintChildren?this._hintChildren.find(r=>r.align==="end"):null;o?n.push(o.id):this._hintLabel&&n.push(this._hintLabelId),s&&n.push(s.id)}else this._errorChildren&&n.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let o=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,r=o?.getBoundingClientRect().width??0,a=s?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",c=`${r+a}px`,u=`calc(${l} * (${c} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${RM} translateX(${u})
    )`}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let o=n.getRootNode();return o&&o!==n}return document.documentElement.contains(n)}};e.\u0275fac=function(o){return new(o||e)(b(re),b(lt),b(pe),b(Dt),b(je),b(_M,8),b(ft,8),b(Me))},e.\u0275cmp=$({type:e,selectors:[["mat-form-field"]],contentQueries:function(o,s,r){if(o&1&&(Mb(r,s._labelChild,ii,5),bt(r,sl,5),bt(r,CM,5),bt(r,bM,5),bt(r,gM,5),bt(r,a_,5)),o&2){Pb();let a;xe(a=Ee())&&(s._formFieldControl=a.first),xe(a=Ee())&&(s._prefixChildren=a),xe(a=Ee())&&(s._suffixChildren=a),xe(a=Ee())&&(s._errorChildren=a),xe(a=Ee())&&(s._hintChildren=a)}},viewQuery:function(o,s){if(o&1&&(Qe(qk,5),Qe(Xk,5),Qe(Yk,5),Qe(l_,5),Qe(u_,5),Qe(d_,5)),o&2){let r;xe(r=Ee())&&(s._textField=r.first),xe(r=Ee())&&(s._iconPrefixContainer=r.first),xe(r=Ee())&&(s._textPrefixContainer=r.first),xe(r=Ee())&&(s._floatingLabel=r.first),xe(r=Ee())&&(s._notchedOutline=r.first),xe(r=Ee())&&(s._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(o,s){o&2&&Se("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[$e([{provide:rl,useExisting:e},{provide:m_,useExisting:e}]),K],ngContentSelectors:Zk,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(o,s){if(o&1){let r=tt();it(Qk),de(0,tM,1,1,"ng-template",null,0,Nh),f(2,"div",4,1),Y("click",function(l){return ne(r),oe(s._control.onContainerClick(l))}),de(4,iM,1,0,"div",5),f(5,"div",6),de(6,sM,2,2,"div",7)(7,rM,3,0,"div",8)(8,aM,3,0,"div",9),f(9,"div",10),de(10,cM,1,1,null,11),Ne(11),g(),de(12,dM,2,0,"div",12)(13,uM,2,0,"div",13),g(),de(14,hM,1,0,"div",14),g(),f(15,"div",15),de(16,pM,2,1,"div",16)(17,mM,5,2,"div",17),g()}if(o&2){let r;x(2),Se("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),x(2),dt(!s._hasOutline()&&!s._control.disabled?4:-1),x(2),dt(s._hasOutline()?6:-1),x(),dt(s._hasIconPrefix?7:-1),x(),dt(s._hasTextPrefix?8:-1),x(2),dt(!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),x(2),dt(s._hasTextSuffix?12:-1),x(),dt(s._hasIconSuffix?13:-1),x(),dt(s._hasOutline()?-1:14),x(),Se("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),x(),dt((r=s._getDisplayedMessages())==="error"?16:r==="hint"?17:-1)}},dependencies:[l_,u_,Vh,d_,a_],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[wM.transitionMessages]},changeDetection:0});let t=e;return t})(),Mt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,li,Kc,Pe]});let t=e;return t})();var xM=new ie("MAT_INPUT_VALUE_ACCESSOR"),EM=["button","checkbox","file","hidden","image","radio","range","reset","submit"],DM=0,tn=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=En(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_r.required)??!1}set required(n){this._required=En(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&zp().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=En(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,o,s,r,a,l,c,d,u,p){this._elementRef=n,this._platform=o,this.ngControl=s,this._autofillMonitor=d,this._ngZone=u,this._formField=p,this._uid=`mat-input-${DM++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new he,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(R=>zp().has(R)),this._iOSKeyupListener=R=>{let S=R.target;!S.value&&S.selectionStart===0&&S.selectionEnd===0&&(S.setSelectionRange(1,1),S.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,y=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&u.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new gr(l,s,a,r,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=y==="select",this._isTextarea=y==="textarea",this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let o=this._elementRef.nativeElement;this._previousPlaceholder=n,n?o.setAttribute("placeholder",n):o.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){EM.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,o=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&o&&o.label)}else return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(o){return new(o||e)(b(re),b(je),b(jn,10),b(Xt,8),b(ol,8),b(od),b(xM,10),b(Mw),b(pe),b(rl,8))},e.\u0275dir=ue({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(o,s){o&1&&Y("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),o&2&&(Mi("id",s.id)("disabled",s.disabled)("required",s.required),Ge("name",s.name||null)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),Se("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[$e([{provide:sl,useExisting:e}]),Ct]});let t=e;return t})(),yi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,Mt,Mt,Pw,Pe]});let t=e;return t})();var al=[3,4,5,6,7,120,121,123,124],ll={},xr=(T=>(T[T.Generic=0]="Generic",T[T.Reserved_01=1]="Reserved_01",T[T.Heart_Rate_Sensor=2]="Heart_Rate_Sensor",T[T.ECG_sensor=3]="ECG_sensor",T[T.EKG_sensor=4]="EKG_sensor",T[T.GSR=5]="GSR",T[T.Breathalyzer=6]="Breathalyzer",T[T.Glucose=7]="Glucose",T[T.Oxymeter=8]="Oxymeter",T[T.Reserved_20=32]="Reserved_20",T[T.Touch=33]="Touch",T[T.Gesture_TouchLess=34]="Gesture_TouchLess",T[T.Grip=35]="Grip",T[T.Fingerprint=36]="Fingerprint",T[T.Haptic=37]="Haptic",T[T.Gesture_Acoustic_Ultrasonic=38]="Gesture_Acoustic_Ultrasonic",T[T.Audio_Alarm=39]="Audio_Alarm",T[T.Reserved_40=64]="Reserved_40",T[T.Accelerometer=65]="Accelerometer",T[T.Gyroscope=66]="Gyroscope",T[T.Magnetometer=67]="Magnetometer",T[T.Accel_Gyro_Combo=68]="Accel_Gyro_Combo",T[T.Accel_Mag_Combo=69]="Accel_Mag_Combo",T[T.Accel_Gyro_Mag_Combo=70]="Accel_Gyro_Mag_Combo",T[T.Reserved_60=96]="Reserved_60",T[T.Ambient_Light=97]="Ambient_Light",T[T.Pressure=98]="Pressure",T[T.Temperature=99]="Temperature",T[T.Humidity=100]="Humidity",T[T.UV_sensor=101]="UV_sensor",T[T.Air_Quality=102]="Air_Quality",T[T.IR_sensor=103]="IR_sensor",T[T.Reserved_80=128]="Reserved_80",T[T.Proximity=129]="Proximity",T[T.RGB=130]="RGB",T[T.Accelerometer_Mechanical=131]="Accelerometer_Mechanical",T[T.Oxygen_sensor=132]="Oxygen_sensor",T[T.Mass_flow_sensor=133]="Mass_flow_sensor",T[T.Switch_Solenoid_Valve_Control=134]="Switch_Solenoid_Valve_Control",T[T.Goniometer=135]="Goniometer",T[T.Position_sensor=136]="Position_sensor",T[T.Throttle_Control=137]="Throttle_Control",T[T.Force_Stress_Sensor=138]="Force_Stress_Sensor",T[T.Reserved_A0=160]="Reserved_A0",T[T.NFC=161]="NFC",T[T.IR_Data_Link=162]="IR_Data_Link",T[T.RF_Data_Link=163]="RF_Data_Link",T[T.Reserved_C0=192]="Reserved_C0",T[T.Bridge=193]="Bridge",T[T.Hub=194]="Hub",T[T.Bus_Monitor=195]="Bus_Monitor",T[T.Secondary_Master=196]="Secondary_Master",T[T.Memory=197]="Memory",T[T.Microcontroller=198]="Microcontroller",T[T.PMIC=199]="PMIC",T[T.IO_Expander=200]="IO_Expander",T[T.Debug_Target_System=201]="Debug_Target_System",T[T.Debug_Test_System=202]="Debug_Test_System",T[T.Dual_Role_Debug_System=203]="Dual_Role_Debug_System",T[T.MCTP=204]="MCTP",T[T.Reserved_D0=208]="Reserved_D0",T[T.Reserved_D1=209]="Reserved_D1",T[T.Thermal_Sensor_First=210]="Thermal_Sensor_First",T[T.Reserved_D3=211]="Reserved_D3",T[T.Differential_DIMM_Memory_First_Buffer=212]="Differential_DIMM_Memory_First_Buffer",T[T.Differential_DIMM_Memory_Second_Buffer=213]="Differential_DIMM_Memory_Second_Buffer",T[T.Thermal_Sensor_Second=214]="Thermal_Sensor_Second",T[T.Reserved_D7=215]="Reserved_D7",T[T.PMIC_Second=216]="PMIC_Second",T[T.PMIC_First=217]="PMIC_First",T[T.SPD_Hub=218]="SPD_Hub",T[T.Register_Clock_Divider=219]="Register_Clock_Divider",T[T.PMIC_Third=220]="PMIC_Third",T[T.Reserved_DD=221]="Reserved_DD",T[T.Reserved_DE=222]="Reserved_DE",T[T.Reserved_DF=223]="Reserved_DF",T[T.Reserved_E0=224]="Reserved_E0",T[T.FPGA_PLD_Configuration=225]="FPGA_PLD_Configuration",T[T.Camera_Photometer=226]="Camera_Photometer",T[T.Camera_Shutter_Control=227]="Camera_Shutter_Control",T[T.Camera_Focus_Control=228]="Camera_Focus_Control",T[T.Custom=229]="Custom",T))(xr||{});var ko=(o=>(o.Master="Master",o.Sec_Master="Sec_Master",o.I3C_Slave="I3C_Slave",o.I2C_Slave="I2C_Slave",o))(ko||{}),cl=(i=>(i.Internal="Internal",i.External="External",i))(cl||{}),dl=(i=>(i.ON="ON",i.OFF="OFF",i))(dl||{});var xd=(i=>(i.Trigger_IN="Trigger_IN",i.Trigger_OUT="Trigger_OUT",i))(xd||{});var Df=(i=>(i[i.Normal_Slave=0]="Normal_Slave",i[i.Dedicated_Slave=1]="Dedicated_Slave",i))(Df||{}),ul=(De=>(De[De.ENEC=0]="ENEC",De[De.DISEC=1]="DISEC",De[De.ENTAS0=2]="ENTAS0",De[De.ENTAS1=3]="ENTAS1",De[De.ENTAS2=4]="ENTAS2",De[De.ENTAS3=5]="ENTAS3",De[De.RSTDAA=6]="RSTDAA",De[De.ENTDAA=7]="ENTDAA",De[De.DEFSLVS=8]="DEFSLVS",De[De.SETMWL=9]="SETMWL",De[De.SETMRL=10]="SETMRL",De[De.ENTTM=11]="ENTTM",De[De.SETBUSCON=12]="SETBUSCON",De[De.ENDXFER=18]="ENDXFER",De[De.ENTHDR0=32]="ENTHDR0",De[De.ENTHDR1=33]="ENTHDR1",De[De.ENTHDR2=34]="ENTHDR2",De[De.ENTHDR3=35]="ENTHDR3",De[De.ENTHDR4=36]="ENTHDR4",De[De.ENTHDR5=37]="ENTHDR5",De[De.ENTHDR6=38]="ENTHDR6",De[De.ENTHDR7=39]="ENTHDR7",De[De.SETXTIME=40]="SETXTIME",De[De.SETAASA=41]="SETAASA",De[De.RSTACT=42]="RSTACT",De[De.DEFGRPA=43]="DEFGRPA",De[De.RSTGRPA=44]="RSTGRPA",De[De.SETHID=97]="SETHID",De[De.DEVCTRL=98]="DEVCTRL",De))(ul||{});var Tf=(be=>(be[be.ENEC=128]="ENEC",be[be.DISEC=129]="DISEC",be[be.ENTAS0=130]="ENTAS0",be[be.ENTAS1=131]="ENTAS1",be[be.ENTAS2=132]="ENTAS2",be[be.ENTAS3=133]="ENTAS3",be[be.RSTDAA=134]="RSTDAA",be[be.SETDASA=135]="SETDASA",be[be.SETNEWDA=136]="SETNEWDA",be[be.SETMWL=137]="SETMWL",be[be.SETMRL=138]="SETMRL",be[be.GETMWL=139]="GETMWL",be[be.GETMRL=140]="GETMRL",be[be.GETPID=141]="GETPID",be[be.GETBCR=142]="GETBCR",be[be.GETDCR=143]="GETDCR",be[be.GETSTATUS=144]="GETSTATUS",be[be.GETACCMST=145]="GETACCMST",be[be.ENDXFER=146]="ENDXFER",be[be.SETBRGTGT=147]="SETBRGTGT",be[be.GETMXDS=148]="GETMXDS",be[be.GETCAPS=149]="GETCAPS",be[be.SETROUTE=150]="SETROUTE",be[be.D2DXFER=151]="D2DXFER",be[be.SETXTIME=152]="SETXTIME",be[be.GETXTIME=153]="GETXTIME",be[be.RSTACT=154]="RSTACT",be[be.SETGRPA=155]="SETGRPA",be[be.RSTGRPA=156]="RSTGRPA",be[be.MLANE=157]="MLANE",be[be.DEVCAP=224]="DEVCAP",be))(Tf||{});var If=(o=>(o.sec="sec",o.ms="ms",o.us="us",o.ns="ns",o))(If||{}),kf=(n=>(n.OD="OD",n.PP="PP",n.NA="NA",n))(kf||{}),Mf=(n=>(n.Half="Half",n.Full="Full",n.NA="NA",n))(Mf||{}),Pf=(o=>(o.BroadCast="BroadCast",o.Directed="Directed",o.Private="Private",o.I2cMessage="I2cMessage",o))(Pf||{}),Af=(i=>(i.Write="Write",i.Read="Read",i))(Af||{});var Er=class{get scriptType(){return 0}freq;frequencyUnit;tCO;lowTime;highTime;tSU;tCAS;tIMG;resImg;openDrainEnable;universaltIMGEnable};var v_=["mat-button",""],C_=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],b_=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],TM='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',y_=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var IM=["mat-icon-button",""],kM=["*"];var MM=new ie("MAT_BUTTON_CONFIG");var PM=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ff=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,o,s,r){this._elementRef=n,this._platform=o,this._ngZone=s,this._animationMode=r,this._focusMonitor=j(bi),this._rippleLoader=j(_w),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=j(MM,{optional:!0}),l=n.nativeElement,c=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of PM)l.hasAttribute(d)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",o){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,o):this._elementRef.nativeElement.focus(o)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(o){js()},e.\u0275dir=ue({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ye],disabled:[2,"disabled","disabled",ye],ariaDisabled:[2,"aria-disabled","ariaDisabled",ye],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ye]},features:[et]});let t=e;return t})();var AM=(()=>{let e=class e extends Ff{constructor(n,o,s,r){super(n,o,s,r),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};e.\u0275fac=function(o){js()},e.\u0275dir=ue({type:e,inputs:{tabIndex:[2,"tabIndex","tabIndex",n=>n==null?void 0:Pi(n)]},features:[et,Je]});let t=e;return t})(),Mo=(()=>{let e=class e extends Ff{constructor(n,o,s,r){super(n,o,s,r)}};e.\u0275fac=function(o){return new(o||e)(b(re),b(je),b(pe),b(ft,8))},e.\u0275cmp=$({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(o,s){o&2&&(Ge("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Vt(s.color?"mat-"+s.color:""),Se("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Je,K],attrs:v_,ngContentSelectors:b_,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){o&1&&(it(C_),ee(0,"span",0),Ne(1),f(2,"span",1),Ne(3,1),g(),Ne(4,2),ee(5,"span",2)(6,"span",3)),o&2&&Se("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})(),w_=(()=>{let e=class e extends AM{constructor(n,o,s,r){super(n,o,s,r)}};e.\u0275fac=function(o){return new(o||e)(b(re),b(je),b(pe),b(ft,8))},e.\u0275cmp=$({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(o,s){o&2&&(Ge("disabled",s._getDisabledAttribute())("tabindex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex)("aria-disabled",s._getDisabledAttribute()),Vt(s.color?"mat-"+s.color:""),Se("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[Je,K],attrs:v_,ngContentSelectors:b_,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){o&1&&(it(C_),ee(0,"span",0),Ne(1),f(2,"span",1),Ne(3,1),g(),Ne(4,2),ee(5,"span",2)(6,"span",3)),o&2&&Se("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:[TM,y_],encapsulation:2,changeDetection:0});let t=e;return t})();var __=(()=>{let e=class e extends Ff{constructor(n,o,s,r){super(n,o,s,r),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};e.\u0275fac=function(o){return new(o||e)(b(re),b(je),b(pe),b(ft,8))},e.\u0275cmp=$({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(o,s){o&2&&(Ge("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Vt(s.color?"mat-"+s.color:""),Se("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Je,K],attrs:IM,ngContentSelectors:kM,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){o&1&&(it(),ee(0,"span",0),Ne(1),ee(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',y_],encapsulation:2,changeDetection:0});let t=e;return t})();var nn=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,Ka,Pe]});let t=e;return t})();var on=class t{constructor(){}scriptList=new xt([]);scriptList$=this.scriptList.asObservable();addScript(e){let i=this.scriptList.value;console.log("Current list before adding:",i),this.scriptList.next([...i,e]);let n=this.scriptList.value;console.log("Updated list after adding:",n);let o=n.includes(e);console.log(o?"Script added successfully!":"Script was not added.")}clearScripts(){this.scriptList.next([])}getScripts(){return this.scriptList.value}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ed=class t{constructor(e){this.masterUIService=e;this.SysOD.highTime=40,this.SysOD.lowTime=200,this.masterUIService.scriptList$.subscribe(i=>{this.scriptList=i})}SysOD=new Er;scriptList=[];onButtonClick(){try{this.masterUIService.addScript(this.SysOD),console.log(this.masterUIService),this.publishMessage("Sys Configuration added successfully")}catch{this.publishMessage("Sys Configuration not added")}}publishMessage(e){console.log(e)}static \u0275fac=function(i){return new(i||t)(b(on))};static \u0275cmp=$({type:t,selectors:[["app-sys-od"]],standalone:!0,features:[K],decls:23,vars:4,consts:[[1,"wrap-container"],["appearance","outline",1,"form-field"],["matInput","","name","frequency","placeholder","Enter frequency",3,"ngModelChange","ngModel"],["matInput","","name","highPeriod","placeholder","Enter high period",3,"ngModelChange","ngModel"],["matInput","","name","lowPeriod","placeholder","Enter low period",3,"ngModelChange","ngModel"],["matInput","","name","clkDataDelay","placeholder","Enter delay",3,"ngModelChange","ngModel"],[1,"button-container"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,n){i&1&&(f(0,"form")(1,"div",0)(2,"mat-form-field",1)(3,"mat-label"),_(4,"Frequency (KHz)"),g(),f(5,"input",2),ke("ngModelChange",function(s){return Ie(n.SysOD.freq,s)||(n.SysOD.freq=s),s}),g()()(),f(6,"div",0)(7,"mat-form-field",1)(8,"mat-label"),_(9,"High Period (ns)"),g(),f(10,"input",3),ke("ngModelChange",function(s){return Ie(n.SysOD.highTime,s)||(n.SysOD.highTime=s),s}),g()(),f(11,"mat-form-field",1)(12,"mat-label"),_(13,"Low Period (ns)"),g(),f(14,"input",4),ke("ngModelChange",function(s){return Ie(n.SysOD.lowTime,s)||(n.SysOD.lowTime=s),s}),g()()(),f(15,"div",0)(16,"mat-form-field",1)(17,"mat-label"),_(18,"tCAS(ns)"),g(),f(19,"input",5),ke("ngModelChange",function(s){return Ie(n.SysOD.tCAS,s)||(n.SysOD.tCAS=s),s}),g()()(),f(20,"div",6)(21,"button",7),Y("click",function(){return n.onButtonClick()}),_(22,"Add"),g()()()),i&2&&(x(5),Te("ngModel",n.SysOD.freq),x(5),Te("ngModel",n.SysOD.highTime),x(4),Te("ngModel",n.SysOD.lowTime),x(5),Te("ngModel",n.SysOD.tCAS))},dependencies:[Mt,Tn,ii,ti,en,Jt,ei,Ji,Yt,Xt,yi,tn,nn,Mo],styles:[".exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:20px}.form-field[_ngcontent-%COMP%]{width:100%}.wrapcontainer[_ngcontent-%COMP%], .wrap-container[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.wrap-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:48%}.button-container[_ngcontent-%COMP%]{text-align:center}.exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.twofeild[_ngcontent-%COMP%]{display:flex;flex-direction:row}.label-container[_ngcontent-%COMP%]{background-color:#f9f1f6;color:#140c0c;padding:8px;min-width:150px;text-align:left;border:1px}.MessageTypecontainer[_ngcontent-%COMP%]{padding:8px;background-color:#fff;min-width:200px;text-align:left;border:1px}textarea[_ngcontent-%COMP%]{min-height:80px}"]})};var S_=$c(),Of=class{constructor(e,i){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=kt(-this._previousScrollPosition.left),e.style.top=kt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,i=this._document.body,n=e.style,o=i.style,s=n.scrollBehavior||"",r=o.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),S_&&(n.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),S_&&(n.scrollBehavior=s,o.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var Nf=class{constructor(e,i,n,o){this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=n,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(st(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Dd=class{enable(){}disable(){}attach(){}};function Lf(t,e){return e.some(i=>{let n=t.bottom<i.top,o=t.top>i.bottom,s=t.right<i.left,r=t.left>i.right;return n||o||s||r})}function R_(t,e){return e.some(i=>{let n=t.top<i.top,o=t.bottom>i.bottom,s=t.left<i.left,r=t.right>i.right;return n||o||s||r})}var Bf=class{constructor(e,i,n,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:o}=this._viewportRuler.getViewportSize();Lf(i,[{width:n,height:o,bottom:o,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},FM=(()=>{let e=class e{constructor(n,o,s,r){this._scrollDispatcher=n,this._viewportRuler=o,this._ngZone=s,this.noop=()=>new Dd,this.close=a=>new Nf(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Of(this._viewportRuler,this._document),this.reposition=a=>new Bf(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=r}};e.\u0275fac=function(o){return new(o||e)(F(Cr),F(zn),F(pe),F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Po=class{constructor(e){if(this.scrollStrategy=new Dd,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let i=Object.keys(e);for(let n of i)e[n]!==void 0&&(this[n]=e[n])}}};var Vf=class{constructor(e,i){this.connectionPair=e,this.scrollableViewProperties=i}};var k_=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let o=this._attachedOverlays.indexOf(n);o>-1&&this._attachedOverlays.splice(o,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(o){return new(o||e)(F(Me))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OM=(()=>{let e=class e extends k_{constructor(n,o){super(n),this._ngZone=o,this._keydownListener=s=>{let r=this._attachedOverlays;for(let a=r.length-1;a>-1;a--)if(r[a]._keydownEvents.observers.length>0){let l=r[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(s)):l.next(s);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(o){return new(o||e)(F(Me),F(pe,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NM=(()=>{let e=class e extends k_{constructor(n,o,s){super(n),this._platform=o,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Ni(r)},this._clickListener=r=>{let a=Ni(r),l=r.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let u=c[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(x_(u.overlayElement,a)||x_(u.overlayElement,l))break;let p=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r)}}}add(n){if(super.add(n),!this._isAttached){let o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(o){return new(o||e)(F(Me),F(je),F(pe,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function x_(t,e){let i=typeof ShadowRoot<"u"&&ShadowRoot,n=e;for(;n;){if(n===t)return!0;n=i&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Dr=(()=>{let e=class e{constructor(n,o){this._platform=o,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Ha()){let s=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}let o=this._document.createElement("div");o.classList.add(n),Ha()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}};e.\u0275fac=function(o){return new(o||e)(F(Me),F(je))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$n=class{constructor(e,i,n,o,s,r,a,l,c,d=!1,u){this._portalOutlet=e,this._host=i,this._pane=n,this._config=o,this._ngZone=s,this._keyboardDispatcher=r,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._backdropElement=null,this._backdropClick=new he,this._attachments=new he,this._detachments=new he,this._locationChanges=gt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new he,this._outsidePointerEvents=new he,this._renders=new he,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=pn(()=>yc(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),ki(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=D(D({},this._config),e),this._updateElementSize()}setDirection(e){this._config=_e(D({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=kt(this._config.width),e.height=kt(this._config.height),e.minWidth=kt(this._config.minWidth),e.minHeight=kt(this._config.minHeight),e.maxWidth=kt(this._config.maxWidth),e.maxHeight=kt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,i,n){let o=cr(i||[]).filter(s=>!!s);o.length&&(n?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Ue(Ut(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},E_="cdk-overlay-connected-position-bounding-box",LM=/([A-Za-z%]+)$/,Gf=class{get positions(){return this._preferredPositions}constructor(e,i,n,o,s){this._viewportRuler=i,this._document=n,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new he,this._resizeSubscription=gt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(E_),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,i=this._overlayRect,n=this._viewportRect,o=this._containerRect,s=[],r;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,o,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){s.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!r||r.overlayFit.visibleArea<d.visibleArea)&&(r={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(s.length){let a=null,l=-1;for(let c of s){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(r.position,r.originPoint);return}this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(E_),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,i)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,i,n){let o;if(n.originX=="center")o=e.left+e.width/2;else{let r=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;o=n.originX=="start"?r:a}i.left<0&&(o-=i.left);let s;return n.originY=="center"?s=e.top+e.height/2:s=n.originY=="top"?e.top:e.bottom,i.top<0&&(s-=i.top),{x:o,y:s}}_getOverlayPoint(e,i,n){let o;n.overlayX=="center"?o=-i.width/2:n.overlayX==="start"?o=this._isRtl()?-i.width:0:o=this._isRtl()?0:-i.width;let s;return n.overlayY=="center"?s=-i.height/2:s=n.overlayY=="top"?0:-i.height,{x:e.x+o,y:e.y+s}}_getOverlayFit(e,i,n,o){let s=T_(i),{x:r,y:a}=e,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(r+=l),c&&(a+=c);let d=0-r,u=r+s.width-n.width,p=0-a,m=a+s.height-n.height,y=this._subtractOverflows(s.width,d,u),R=this._subtractOverflows(s.height,p,m),S=y*R;return{visibleArea:S,isCompletelyWithinViewport:s.width*s.height===S,fitsInViewportVertically:R===s.height,fitsInViewportHorizontally:y==s.width}}_canFitWithFlexibleDimensions(e,i,n){if(this._hasFlexibleDimensions){let o=n.bottom-i.y,s=n.right-i.x,r=D_(this._overlayRef.getConfig().minHeight),a=D_(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||r!=null&&r<=o,c=e.fitsInViewportHorizontally||a!=null&&a<=s;return l&&c}return!1}_pushOverlayOnScreen(e,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let o=T_(i),s=this._viewportRect,r=Math.max(e.x+o.width-s.width,0),a=Math.max(e.y+o.height-s.height,0),l=Math.max(s.top-n.top-e.y,0),c=Math.max(s.left-n.left-e.x,0),d=0,u=0;return o.width<=s.width?d=c||-r:d=e.x<this._viewportMargin?s.left-n.left-e.x:0,o.height<=s.height?u=l||-a:u=e.y<this._viewportMargin?s.top-n.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,i){if(this._setTransformOrigin(e),this._setOverlayElementStyles(i,e),this._setBoundingBoxStyles(i,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!BM(this._lastScrollVisibility,n)){let o=new Vf(e,n);this._positionChanges.next(o)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,o=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let s=0;s<i.length;s++)i[s].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(e,i){let n=this._viewportRect,o=this._isRtl(),s,r,a;if(i.overlayY==="top")r=e.y,s=n.height-r+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,s=n.height-a+this._viewportMargin;else{let m=Math.min(n.bottom-e.y+n.top,e.y),y=this._lastBoundingBoxSize.height;s=m*2,r=e.y-m,s>y&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-y/2)}let l=i.overlayX==="start"&&!o||i.overlayX==="end"&&o,c=i.overlayX==="end"&&!o||i.overlayX==="start"&&o,d,u,p;if(c)p=n.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(l)u=e.x,d=n.right-e.x;else{let m=Math.min(n.right-e.x+n.left,e.x),y=this._lastBoundingBoxSize.width;d=m*2,u=e.x-m,d>y&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-y/2)}return{top:r,left:u,bottom:a,right:p,width:d,height:s}}_setBoundingBoxStyles(e,i){let n=this._calculateBoundingBoxRect(e,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;o.height=kt(n.height),o.top=kt(n.top),o.bottom=kt(n.bottom),o.width=kt(n.width),o.left=kt(n.left),o.right=kt(n.right),i.overlayX==="center"?o.alignItems="center":o.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?o.justifyContent="center":o.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",s&&(o.maxHeight=kt(s)),r&&(o.maxWidth=kt(r))}this._lastBoundingBoxSize=n,bs(this._boundingBox.style,o)}_resetBoundingBoxStyles(){bs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,i){let n={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(o){let d=this._viewportRuler.getViewportScrollPosition();bs(n,this._getExactOverlayY(i,e,d)),bs(n,this._getExactOverlayX(i,e,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),r.maxHeight&&(o?n.maxHeight=kt(r.maxHeight):s&&(n.maxHeight="")),r.maxWidth&&(o?n.maxWidth=kt(r.maxWidth):s&&(n.maxWidth="")),bs(this._pane.style,n)}_getExactOverlayY(e,i,n){let o={top:"",bottom:""},s=this._getOverlayPoint(i,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),e.overlayY==="bottom"){let r=this._document.documentElement.clientHeight;o.bottom=`${r-(s.y+this._overlayRect.height)}px`}else o.top=kt(s.y);return o}_getExactOverlayX(e,i,n){let o={left:"",right:""},s=this._getOverlayPoint(i,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n));let r;if(this._isRtl()?r=e.overlayX==="end"?"left":"right":r=e.overlayX==="end"?"right":"left",r==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(s.x+this._overlayRect.width)}px`}else o.left=kt(s.x);return o}_getScrollVisibility(){let e=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:R_(e,n),isOriginOutsideView:Lf(e,n),isOverlayClipped:R_(i,n),isOverlayOutsideView:Lf(i,n)}}_subtractOverflows(e,...i){return i.reduce((n,o)=>n-Math.max(o,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:e-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,i){return i==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&cr(e).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof re)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let i=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+i,height:n,width:i}}};function bs(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function D_(t){if(typeof t!="number"&&t!=null){let[e,i]=t.split(LM);return!i||i==="px"?parseFloat(e):null}return t||null}function T_(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function BM(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var I_="cdk-global-overlay-wrapper",Wf=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(I_),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:r,maxHeight:a}=n,l=(o==="100%"||o==="100vw")&&(!r||r==="100%"||r==="100vw"),c=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",m="",y="",R="";l?R="flex-start":d==="center"?(R="center",p?y=u:m=u):p?d==="left"||d==="end"?(R="flex-end",m=u):(d==="right"||d==="start")&&(R="flex-start",y=u):d==="left"||d==="start"?(R="flex-start",m=u):(d==="right"||d==="end")&&(R="flex-end",y=u),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":y,i.justifyContent=R,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(I_),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},VM=(()=>{let e=class e{constructor(n,o,s,r){this._viewportRuler=n,this._document=o,this._platform=s,this._overlayContainer=r}global(){return new Wf}flexibleConnectedTo(n){return new Gf(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(o){return new(o||e)(F(zn),F(Me),F(je),F(Dr))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GM=0,yt=(()=>{let e=class e{constructor(n,o,s,r,a,l,c,d,u,p,m,y){this.scrollStrategies=n,this._overlayContainer=o,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=p,this._outsideClickDispatcher=m,this._animationsModuleType=y}create(n){let o=this._createHostElement(),s=this._createPaneElement(o),r=this._createPortalOutlet(s),a=new Po(n);return a.direction=a.direction||this._directionality.value,new $n(r,o,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ts))}position(){return this._positionBuilder}_createPaneElement(n){let o=this._document.createElement("div");return o.id=`cdk-overlay-${GM++}`,o.classList.add("cdk-overlay-pane"),n.appendChild(o),o}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Xs)),new Ya(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(o){return new(o||e)(F(FM),F(Dr),F(ss),F(VM),F(OM),F(vt),F(pe),F(Me),F(Dt),F(po),F(NM),F(ft,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WM=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],M_=new ie("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(yt);return()=>t.scrollStrategies.reposition()}}),fl=(()=>{let e=class e{constructor(n){this.elementRef=n}};e.\u0275fac=function(o){return new(o||e)(b(re))},e.\u0275dir=ue({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let t=e;return t})(),Hf=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(n){this._disposeOnNavigation=n}constructor(n,o,s,r,a){this._overlay=n,this._dir=a,this._backdropSubscription=gt.EMPTY,this._attachSubscription=gt.EMPTY,this._detachSubscription=gt.EMPTY,this._positionSubscription=gt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=j(pe),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new M,this.positionChange=new M,this.attach=new M,this.detach=new M,this.overlayKeydown=new M,this.overlayOutsideClick=new M,this._templatePortal=new Zi(o,s),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=WM);let n=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(o=>{this.overlayKeydown.next(o),o.keyCode===27&&!this.disableClose&&!Wt(o)&&(o.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(o=>{let s=this._getOriginElement(),r=Ni(o);(!s||s!==r&&!s.contains(r))&&this.overlayOutsideClick.next(o)})}_buildConfig(){let n=this._position=this.positionStrategy||this._createPositionStrategy(),o=new Po({direction:this._dir,positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(o.width=this.width),(this.height||this.height===0)&&(o.height=this.height),(this.minWidth||this.minWidth===0)&&(o.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(o.minHeight=this.minHeight),this.backdropClass&&(o.backdropClass=this.backdropClass),this.panelClass&&(o.panelClass=this.panelClass),o}_updatePositionStrategy(n){let o=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return n.setOrigin(this._getOrigin()).withPositions(o).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let n=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(n),n}_getOrigin(){return this.origin instanceof fl?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof fl?this.origin.elementRef.nativeElement:this.origin instanceof re?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(db(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)(b(yt),b($t),b(Bt),b(M_),b(Dt,8))},e.\u0275dir=ue({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ye],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ye],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ye],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ye],push:[2,"cdkConnectedOverlayPush","push",ye],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ye]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[et,Ct]});let t=e;return t})();function HM(t){return()=>t.scrollStrategies.reposition()}var UM={provide:M_,deps:[yt],useFactory:HM},In=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({providers:[yt,UM],imports:[Co,gs,Za,Za]});let t=e;return t})();var zM=["trigger"],jM=["panel"],$M=[[["mat-select-trigger"]],"*"],KM=["mat-select-trigger","*"];function qM(t,e){if(t&1&&(f(0,"span",4),_(1),g()),t&2){let i=X();x(),ze(i.placeholder)}}function XM(t,e){t&1&&Ne(0)}function YM(t,e){if(t&1&&(f(0,"span",11),_(1),g()),t&2){let i=X(2);x(),ze(i.triggerValue)}}function QM(t,e){if(t&1&&(f(0,"span",5),de(1,XM,1,0)(2,YM,2,1,"span",11),g()),t&2){let i=X();x(),dt(i.customTrigger?1:2)}}function ZM(t,e){if(t&1){let i=tt();f(0,"div",12,1),Y("@transformPanel.done",function(o){ne(i);let s=X();return oe(s._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){ne(i);let s=X();return oe(s._handleKeydown(o))}),Ne(2,1),g()}if(t&2){let i=X();kb("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),G("ngClass",i.panelClass)("@transformPanel","showing"),Ge("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}var JM={transformPanelWrap:Rn("transformPanelWrap",[gi("* => void",qb("@transformPanel",[Kb()],{optional:!0}))]),transformPanel:Rn("transformPanel",[fn("void",Gt({opacity:0,transform:"scale(1, 0.8)"})),gi("void => showing",Ai("120ms cubic-bezier(0, 0, 0.2, 1)",Gt({opacity:1,transform:"scale(1, 1)"}))),gi("* => void",Ai("100ms linear",Gt({opacity:0})))])};var P_=0,A_=new ie("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(yt);return()=>t.scrollStrategies.reposition()}});function eP(t){return()=>t.scrollStrategies.reposition()}var tP=new ie("MAT_SELECT_CONFIG"),iP={provide:A_,deps:[yt],useFactory:eP},nP=new ie("MatSelectTrigger"),Uf=class{constructor(e,i){this.source=e,this.value=i}},wi=(()=>{let e=class e{_scrollOptionIntoView(n){let o=this.options.toArray()[n];if(o){let s=this.panel.nativeElement,r=yw(n,this.options,this.optionGroups),a=o._getHostElement();n===0&&r===1?s.scrollTop=0:s.scrollTop=ww(a.offsetTop,a.offsetHeight,s.scrollTop,s.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(n){return new Uf(this,n)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(_r.required)??!1}set required(n){this._required=n,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(n){this._selectionModel,this._multiple=n}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this._assignValue(n)&&this._onChange(n)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,o,s,r,a,l,c,d,u,p,m,y,R,S){this._viewportRuler=n,this._changeDetectorRef=o,this._elementRef=a,this._dir=l,this._parentFormField=u,this.ngControl=p,this._liveAnnouncer=R,this._defaultOptions=S,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(k,P)=>k===P,this._uid=`mat-select-${P_++}`,this._triggerAriaLabelledBy=null,this._destroy=new he,this.stateChanges=new he,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${P_++}`,this._panelDoneAnimatingStream=new he,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new he,this.optionSelectionChanges=Ln(()=>{let k=this.options;return k?k.changes.pipe(Ft(k),Et(()=>Ut(...k.map(P=>P.onSelectionChange)))):this._initialized.pipe(Et(()=>this.optionSelectionChanges))}),this.openedChange=new M,this._openedStream=this.openedChange.pipe(st(k=>k),Be(()=>{})),this._closedStream=this.openedChange.pipe(st(k=>!k),Be(()=>{})),this.selectionChange=new M,this.valueChange=new M,this._trackedModal=null,this._skipPredicate=k=>this.panelOpen?!1:k.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),S?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=S.typeaheadDebounceInterval),this._errorStateTracker=new gr(r,p,d,c,this.stateChanges),this._scrollStrategyFactory=y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new rd(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Jo(),Ue(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ue(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ue(this._destroy)).subscribe(n=>{n.added.forEach(o=>o.select()),n.removed.forEach(o=>o.deselect())}),this.options.changes.pipe(Ft(null),Ue(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let n=this._getTriggerAriaLabelledby(),o=this.ngControl;if(n!==this._triggerAriaLabelledBy){let s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?s.setAttribute("aria-labelledby",n):s.removeAttribute("aria-labelledby")}o&&(this._previousControl!==o.control&&(this._previousControl!==void 0&&o.disabled!==null&&o.disabled!==this.disabled&&(this.disabled=o.disabled),this._previousControl=o.control),this.updateErrorState())}ngOnChanges(n){(n.disabled||n.userAriaDescribedBy)&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let n=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;let o=`${this.id}-panel`;this._trackedModal&&ed(this._trackedModal,"aria-owns",o),Yp(n,"aria-owns",o),this._trackedModal=n}_clearFromModal(){if(!this._trackedModal)return;let n=`${this.id}-panel`;ed(this._trackedModal,"aria-owns",n),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(n){this._assignValue(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let n=this._selectionModel.selected.map(o=>o.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){let o=n.keyCode,s=o===40||o===38||o===37||o===39,r=o===13||o===32,a=this._keyManager;if(!a.isTyping()&&r&&!Wt(n)||(this.multiple||n.altKey)&&s)n.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;a.onKeydown(n);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(n){let o=this._keyManager,s=n.keyCode,r=s===40||s===38,a=o.isTyping();if(r&&n.altKey)n.preventDefault(),this.close();else if(!a&&(s===13||s===32)&&o.activeItem&&!Wt(n))n.preventDefault(),o.activeItem._selectViaInteraction();else if(!a&&this._multiple&&s===65&&n.ctrlKey){n.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=o.activeItemIndex;o.onKeydown(n),this._multiple&&r&&n.shiftKey&&o.activeItem&&o.activeItemIndex!==l&&o.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Lt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this.options.forEach(o=>o.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(o=>this._selectOptionByValue(o)),this._sortValues();else{let o=this._selectOptionByValue(n);o?this._keyManager.updateActiveItem(o):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(n){let o=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return s.value!=null&&this._compareWith(s.value,n)}catch{return!1}});return o&&this._selectionModel.select(o),o}_assignValue(n){return n!==this._value||this._multiple&&Array.isArray(n)?(this.options&&this._setSelectionByValue(n),this._value=n,!0):!1}_getOverlayWidth(n){return this.panelWidth==="auto"?(n instanceof fl?n.elementRef:n||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let n of this.options)n._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Jc(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let n=Ut(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ue(n)).subscribe(o=>{this._onSelect(o.source,o.isUserInput),o.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ut(...this.options.map(o=>o._stateChanges)).pipe(Ue(n)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(n,o){let s=this._selectionModel.isSelected(n);n.value==null&&!this._multiple?(n.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(n.value)):(s!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),o&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),o&&this.focus())),s!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let n=this.options.toArray();this._selectionModel.sort((o,s)=>this.sortComparator?this.sortComparator(o,s,n):n.indexOf(o)-n.indexOf(s)),this.stateChanges.next()}}_propagateChanges(n){let o;this.multiple?o=this.selected.map(s=>s.value):o=this.selected?this.selected.value:n,this._value=o,this.valueChange.emit(o),this._onChange(o),this.selectionChange.emit(this._getChangeEvent(o)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let n=-1;for(let o=0;o<this.options.length;o++)if(!this.options.get(o).disabled){n=o;break}this._keyManager.setActiveItem(n)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let n=this._parentFormField?.getLabelId(),o=n?n+" ":"";return this.ariaLabelledby?o+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let n=this._parentFormField?.getLabelId(),o=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(n){this.openedChange.emit(n)}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(o){return new(o||e)(b(zn),b(lt),b(pe),b(od),b(re),b(Dt,8),b(Xt,8),b(ol,8),b(rl,8),b(jn,10),Ti("tabindex"),b(A_),b(dw),b(tP,8))},e.\u0275cmp=$({type:e,selectors:[["mat-select"]],contentQueries:function(o,s,r){if(o&1&&(bt(r,nP,5),bt(r,qt,5),bt(r,lf,5)),o&2){let a;xe(a=Ee())&&(s.customTrigger=a.first),xe(a=Ee())&&(s.options=a),xe(a=Ee())&&(s.optionGroups=a)}},viewQuery:function(o,s){if(o&1&&(Qe(zM,5),Qe(jM,5),Qe(Hf,5)),o&2){let r;xe(r=Ee())&&(s.trigger=r.first),xe(r=Ee())&&(s.panel=r.first),xe(r=Ee())&&(s._overlayDir=r.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(o,s){o&1&&Y("keydown",function(a){return s._handleKeydown(a)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),o&2&&(Ge("id",s.id)("tabindex",s.disabled?-1:s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),Se("mat-mdc-select-disabled",s.disabled)("mat-mdc-select-invalid",s.errorState)("mat-mdc-select-required",s.required)("mat-mdc-select-empty",s.empty)("mat-mdc-select-multiple",s.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",ye],disableRipple:[2,"disableRipple","disableRipple",ye],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:Pi(n)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ye],placeholder:"placeholder",required:[2,"required","required",ye],multiple:[2,"multiple","multiple",ye],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",ye],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Pi],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[$e([{provide:sl,useExisting:e},{provide:af,useExisting:e}]),et,Ct,K],ngContentSelectors:KM,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(o,s){if(o&1){let r=tt();it($M),f(0,"div",2,0),Y("click",function(){return ne(r),oe(s.open())}),f(3,"div",3),de(4,qM,2,1,"span",4)(5,QM,3,1,"span",5),g(),f(6,"div",6)(7,"div",7),Vn(),f(8,"svg",8),ee(9,"path",9),g()()()(),de(10,ZM,3,9,"ng-template",10),Y("backdropClick",function(){return ne(r),oe(s.close())})("attach",function(){return ne(r),oe(s._onAttached())})("detach",function(){return ne(r),oe(s.close())})}if(o&2){let r=Ot(1);x(3),Ge("id",s._valueId),x(),dt(s.empty?4:5),x(6),G("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",s._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayWidth",s._overlayWidth)}},dependencies:[fl,Hf,Rc],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[JM.transformPanel]},changeDetection:0});let t=e;return t})();var Tr=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({providers:[iP],imports:[li,In,cf,Pe,So,Mt,cf,Pe]});let t=e;return t})();var Id=class{get scriptType(){return 6}tSU_STA;tSU_STO;tSU_DAT;I2CMode;ACKCycle;IBIAbortCount;I3CAddressMode;Trans_count;AckCount;tIMEDReset;timedResetUnit;tSR;tSRUnit;IBI_Stop};function oP(t,e){if(t&1&&(f(0,"mat-option",12),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function sP(t,e){if(t&1&&(f(0,"mat-option",12),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}var kd=class t{constructor(e){this.masterUIService=e;this.masterUIService.scriptList$.subscribe(i=>{this.scriptList=i}),this.ackcycle=Object.keys(this.EaCKCycle).filter(i=>isNaN(Number(i))),this.I2CMode=Object.keys(this.EI2CMode).filter(i=>isNaN(Number(i)))}SysExtended=new Id;ackcycle=[];EaCKCycle=Mf;I2CMode=[];EI2CMode=kf;scriptList=[];onButtonClick(){try{this.masterUIService.addScript(this.SysExtended),console.log(this.masterUIService)}catch{}}static \u0275fac=function(i){return new(i||t)(b(on))};static \u0275cmp=$({type:t,selectors:[["app-sys-extended"]],standalone:!0,features:[K],decls:35,vars:8,consts:[[1,"wrap-container"],["appearance","outline",1,"form-field"],["matInput","","name","tSU_STA","placeholder"," tSU_STA in ns",3,"ngModelChange","ngModel"],["matInput","","name","tSU_STO","placeholder"," tSU_STO in ns",3,"ngModelChange","ngModel"],["matInput","","name","tSU_DAT","placeholder"," tSU_DAT in ns",3,"ngModelChange","ngModel"],["matInput","","name","IBI Abort Count","placeholder","Enter IBI Abort Count",3,"ngModelChange","ngModel"],[1,"gap-delay-container"],[1,"wrapcontainer"],["name","aCKCycle",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(i,n){i&1&&(f(0,"form")(1,"div",0)(2,"mat-form-field",1)(3,"mat-label"),_(4,"tSU_STA (ns)"),g(),f(5,"input",2),ke("ngModelChange",function(s){return Ie(n.SysExtended.tSU_STA,s)||(n.SysExtended.tSU_STA=s),s}),g()(),f(6,"mat-form-field",1)(7,"mat-label"),_(8,"tSU_STO (ns)"),g(),f(9,"input",3),ke("ngModelChange",function(s){return Ie(n.SysExtended.tSU_STO,s)||(n.SysExtended.tSU_STO=s),s}),g()()(),f(10,"div",0)(11,"mat-form-field",1)(12,"mat-label"),_(13,"tSU_DAT (ns)"),g(),f(14,"input",4),ke("ngModelChange",function(s){return Ie(n.SysExtended.tSU_DAT,s)||(n.SysExtended.tSU_DAT=s),s}),g()(),f(15,"mat-form-field",1)(16,"mat-label"),_(17,"IBI Abort Count"),g(),f(18,"input",5),ke("ngModelChange",function(s){return Ie(n.SysExtended.IBIAbortCount,s)||(n.SysExtended.IBIAbortCount=s),s}),g()()(),f(19,"div",6)(20,"mat-form-field",1)(21,"mat-label"),_(22,"Ack Cycle"),g(),f(23,"div",7)(24,"mat-select",8),ke("ngModelChange",function(s){return Ie(n.SysExtended.ACKCycle,s)||(n.SysExtended.ACKCycle=s),s}),de(25,oP,2,2,"mat-option",9),g()()(),f(26,"mat-form-field",1)(27,"mat-label"),_(28,"Ack Cycle"),g(),f(29,"div",7)(30,"mat-select",8),ke("ngModelChange",function(s){return Ie(n.SysExtended.I2CMode,s)||(n.SysExtended.I2CMode=s),s}),de(31,sP,2,2,"mat-option",9),g()()()(),f(32,"div",10)(33,"button",11),Y("click",function(){return n.onButtonClick()}),_(34,"Add"),g()()()),i&2&&(x(5),Te("ngModel",n.SysExtended.tSU_STA),x(4),Te("ngModel",n.SysExtended.tSU_STO),x(5),Te("ngModel",n.SysExtended.tSU_DAT),x(4),Te("ngModel",n.SysExtended.IBIAbortCount),x(6),Te("ngModel",n.SysExtended.ACKCycle),x(),G("ngForOf",n.ackcycle),x(5),Te("ngModel",n.SysExtended.I2CMode),x(),G("ngForOf",n.I2CMode))},dependencies:[Mt,Tn,ii,qt,wi,ti,en,Jt,ei,Ji,Yt,Xt,yi,tn,nn,Mo,Ki],styles:[".exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:20px}.form-field[_ngcontent-%COMP%]{width:100%}.wrap-container[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.wrap-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:48%}.button-container[_ngcontent-%COMP%]{text-align:center}.exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.twofeild[_ngcontent-%COMP%]{display:flex;flex-direction:row}.label-container[_ngcontent-%COMP%]{background-color:#f9f1f6;color:#140c0c;padding:8px;min-width:150px;text-align:left;border:1px}.MessageTypecontainer[_ngcontent-%COMP%]{padding:8px;background-color:#fff;min-width:200px;text-align:left;border:1px}textarea[_ngcontent-%COMP%]{min-height:80px}"]})};function rP(t,e){if(t&1&&(f(0,"mat-option",12),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}var Md=class t{constructor(e){this.masterUIService=e;this.Sys.highTime=40,this.Sys.lowTime=200,this.Sys.resImg="sec",this.ImgReg=Object.keys(this.eimgRes).filter(i=>isNaN(Number(i))),this.masterUIService.scriptList$.subscribe(i=>{this.scriptList=i})}Sys=new Er;ImgReg=[];eimgRes=If;scriptList=[];onButtonClick(){try{this.masterUIService.addScript(this.Sys),this.publishMessage("Sys Configuration added successfully")}catch{this.publishMessage("Sys Configuration not added")}}publishMessage(e){console.log(e)}static \u0275fac=function(i){return new(i||t)(b(on))};static \u0275cmp=$({type:t,selectors:[["app-sys"]],standalone:!0,features:[K],decls:30,vars:7,consts:[[1,"wrap-container"],["appearance","outline",1,"form-field"],["matInput","","name","frequency","placeholder","Enter frequency",3,"ngModelChange","ngModel"],["matInput","","name","highPeriod","placeholder","Enter high period",3,"ngModelChange","ngModel"],["matInput","","name","lowPeriod","placeholder","Enter low period",3,"ngModelChange","ngModel"],[1,"gap-delay-container"],["matInput","","name","interMessageGap","placeholder","InterMessage Gap",3,"ngModelChange","ngModel"],["name","imgReg",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","clkDataDelay","placeholder","Enter delay",3,"ngModelChange","ngModel"],[1,"button-container"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(i,n){i&1&&(f(0,"form")(1,"div",0)(2,"mat-form-field",1)(3,"mat-label"),_(4,"Frequency (KHz)"),g(),f(5,"input",2),ke("ngModelChange",function(s){return Ie(n.Sys.freq,s)||(n.Sys.freq=s),s}),g()()(),f(6,"div",0)(7,"mat-form-field",1)(8,"mat-label"),_(9,"High Period (ns)"),g(),f(10,"input",3),ke("ngModelChange",function(s){return Ie(n.Sys.highTime,s)||(n.Sys.highTime=s),s}),g()(),f(11,"mat-form-field",1)(12,"mat-label"),_(13,"Low Period (ns)"),g(),f(14,"input",4),ke("ngModelChange",function(s){return Ie(n.Sys.lowTime,s)||(n.Sys.lowTime=s),s}),g()()(),f(15,"div",5)(16,"mat-form-field",1)(17,"mat-label"),_(18,"InterMessage Gap"),g(),f(19,"div",0)(20,"input",6),ke("ngModelChange",function(s){return Ie(n.Sys.tIMG,s)||(n.Sys.tIMG=s),s}),g(),f(21,"mat-select",7),ke("ngModelChange",function(s){return Ie(n.Sys.resImg,s)||(n.Sys.resImg=s),s}),de(22,rP,2,2,"mat-option",8),g()()(),f(23,"mat-form-field",1)(24,"mat-label"),_(25,"Clk-Data Delay (ns)"),g(),f(26,"input",9),ke("ngModelChange",function(s){return Ie(n.Sys.tCO,s)||(n.Sys.tCO=s),s}),g()()(),f(27,"div",10)(28,"button",11),Y("click",function(){return n.onButtonClick()}),_(29,"Add"),g()()()),i&2&&(x(5),Te("ngModel",n.Sys.freq),x(5),Te("ngModel",n.Sys.highTime),x(4),Te("ngModel",n.Sys.lowTime),x(6),Te("ngModel",n.Sys.tIMG),x(),Te("ngModel",n.Sys.resImg),x(),G("ngForOf",n.ImgReg),x(4),Te("ngModel",n.Sys.tCO))},dependencies:[Ro,yi,tn,Tn,ii,nn,Mo,Mt,qt,wi,ti,en,Jt,ei,Ji,Yt,Xt,Ki],styles:[".exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:20px}.form-field[_ngcontent-%COMP%]{width:100%}.wrapcontainer[_ngcontent-%COMP%], .wrap-container[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.wrap-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:48%}.button-container[_ngcontent-%COMP%]{text-align:center}"]})};var lP=["input"],cP=["label"],dP=["*"],uP=new ie("mat-checkbox-default-options",{providedIn:"root",factory:O_});function O_(){return{color:"accent",clickAction:"check-indeterminate"}}var ni=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(ni||{}),hP={provide:To,useExisting:mi(()=>$f),multi:!0},jf=class{},pP=0,F_=O_(),$f=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(n){let o=new jf;return o.source=this,o.checked=n,o}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,o,s,r,a,l){this._elementRef=n,this._changeDetectorRef=o,this._ngZone=s,this._animationMode=a,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new M,this.indeterminateChange=new M,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ni.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||F_,this.color=this._options.color||F_.color,this.tabIndex=parseInt(r)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++pP}`}ngOnChanges(n){n.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(n){n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(n){let o=n!=this._indeterminate;this._indeterminate=n,o&&(this._indeterminate?this._transitionCheckState(ni.Indeterminate):this._transitionCheckState(this.checked?ni.Checked:ni.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorChangeFn=n}_transitionCheckState(n){let o=this._currentCheckState,s=this._getAnimationTargetElement();if(!(o===n||!s)&&(this._currentAnimationClass&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(o,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);let r=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(r)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let n=this._options?.clickAction;!this.disabled&&n!=="noop"?(this.indeterminate&&n!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ni.Checked:ni.Unchecked),this._emitChangeEvent()):!this.disabled&&n==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(n){n.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(n,o){if(this._animationMode==="NoopAnimations")return"";switch(n){case ni.Init:if(o===ni.Checked)return this._animationClasses.uncheckedToChecked;if(o==ni.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ni.Unchecked:return o===ni.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ni.Checked:return o===ni.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ni.Indeterminate:return o===ni.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(n){let o=this._inputElement;o&&(o.nativeElement.indeterminate=n)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(n){n.target&&this._labelElement.nativeElement.contains(n.target)&&n.stopPropagation()}};e.\u0275fac=function(o){return new(o||e)(b(re),b(lt),b(pe),Ti("tabindex"),b(ft,8),b(uP,8))},e.\u0275cmp=$({type:e,selectors:[["mat-checkbox"]],viewQuery:function(o,s){if(o&1&&(Qe(lP,5),Qe(cP,5),Qe(Qi,5)),o&2){let r;xe(r=Ee())&&(s._inputElement=r.first),xe(r=Ee())&&(s._labelElement=r.first),xe(r=Ee())&&(s.ripple=r.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(o,s){o&2&&(Mi("id",s.id),Ge("tabindex",null)("aria-label",null)("aria-labelledby",null),Vt(s.color?"mat-"+s.color:"mat-accent"),Se("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mdc-checkbox--disabled",s.disabled)("mat-mdc-checkbox-disabled",s.disabled)("mat-mdc-checkbox-checked",s.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",ye],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",ye],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?void 0:Pi(n)],color:"color",checked:[2,"checked","checked",ye],disabled:[2,"disabled","disabled",ye],indeterminate:[2,"indeterminate","indeterminate",ye]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[$e([hP,{provide:Io,useExisting:e,multi:!0}]),et,Ct,K],ngContentSelectors:dP,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(o,s){if(o&1){let r=tt();it(),f(0,"div",3),Y("click",function(l){return ne(r),oe(s._preventBubblingFromLabel(l))}),f(1,"div",4,0)(3,"div",5),Y("click",function(){return ne(r),oe(s._onTouchTargetClick())}),g(),f(4,"input",6,1),Y("blur",function(){return ne(r),oe(s._onBlur())})("click",function(){return ne(r),oe(s._onInputClick())})("change",function(l){return ne(r),oe(s._onInteractionEvent(l))}),g(),ee(6,"div",7),f(7,"div",8),Vn(),f(8,"svg",9),ee(9,"path",10),g(),Mh(),ee(10,"div",11),g(),ee(11,"div",12),g(),f(12,"label",13,2),Ne(14),g()()}if(o&2){let r=Ot(2);G("labelPosition",s.labelPosition),x(4),Se("mdc-checkbox--selected",s.checked),G("checked",s.checked)("indeterminate",s.indeterminate)("disabled",s.disabled)("id",s.inputId)("required",s.required)("tabIndex",s.disabled?-1:s.tabIndex),Ge("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-describedby",s.ariaDescribedby)("aria-checked",s.indeterminate?"mixed":null)("name",s.name)("value",s.value),x(7),G("matRippleTrigger",r)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0),x(),G("for",s.inputId)}},dependencies:[Qi,sd],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();var Pd=class{data;subAddress;constructor(){this.data=[],this.subAddress=[]}frameType;get scriptType(){return 2}transferType;addressEnable;dataCount;get Data(){return this.data}set Data(e){this.data=e}hasStop;get SubAddress(){return this.subAddress}set SubAddress(e){this.subAddress=e}defineByte;address;nodeId;i2CAddressType;command;mode;bufferAccess;commandParity;dataParity;requestEnable;isEntdaa;ctsWord;ctsNonstandadFormat;isLogicEnable;ibiInterrupt;bitCount;byteCount;glitchResolution};var Ce=class{IsDataLimited;TransferType;DataCount;HasData;hasPECWithoutData;hasMultiplePattern;Pattern;constructor(e){Object.assign(this,e)}},Ao=class t{mipiMemberInfo=new xt([]);commandDirectory={};constructor(){this.createMemberInfo(),this.createCommandInfo()}getMemberInfo(){return this.mipiMemberInfo.asObservable()}createMemberInfo(){fetch("/assets/data/MIPIMember_Table.csv").then(e=>e.text()).then(e=>{let i=[];e.split(`
`).forEach(o=>{let s=o.split(","),r=parseInt(s[0],16);i.push({id:r,name:s[1]})}),this.mipiMemberInfo.next(i)}).catch(e=>{console.error("Error loading member info:",e)})}getI2CAddress(e){let i=0,n="7b";if(e){let o=e.split("h");if(o.length===2){switch(o[0]){case"7":n="7b";break;case"8":n="8b";break;case"10":n="10b";break}i=parseInt(o[1],16)}else o.length===1&&(n="7b",i=parseInt(e,16))}return i}createCommandInfo(){this.commandDirectory[0]=new Ce({TransferType:0,HasData:!0,IsDataLimited:!0,DataCount:1}),this.commandDirectory[1]=new Ce({TransferType:0,HasData:!0,IsDataLimited:!0,DataCount:1}),this.commandDirectory[2]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[3]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[4]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[5]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[6]=new Ce({TransferType:0,HasData:!1,hasPECWithoutData:!0}),this.commandDirectory[7]=new Ce({TransferType:1,HasData:!0,DataCount:9}),this.commandDirectory[9]=new Ce({TransferType:0,HasData:!0,DataCount:2,IsDataLimited:!0}),this.commandDirectory[10]=new Ce({TransferType:0,HasData:!0,DataCount:2,IsDataLimited:!0}),this.commandDirectory[8]=new Ce({TransferType:0,HasData:!0,DataCount:4,IsDataLimited:!1}),this.commandDirectory[11]=new Ce({TransferType:0,HasData:!0,IsDataLimited:!0,DataCount:1}),this.commandDirectory[12]=new Ce({TransferType:0,HasData:!0}),this.commandDirectory[32]=new Ce({TransferType:2,HasData:!0,IsDataLimited:!1}),this.commandDirectory[33]=new Ce({TransferType:2,HasData:!0,IsDataLimited:!1}),this.commandDirectory[34]=new Ce({TransferType:2,HasData:!0,IsDataLimited:!1}),this.commandDirectory[35]=new Ce({TransferType:2,HasData:!0,IsDataLimited:!1}),this.commandDirectory[36]=new Ce({TransferType:2,HasData:!0,IsDataLimited:!1}),this.commandDirectory[37]=new Ce({TransferType:2,HasData:!0,IsDataLimited:!1}),this.commandDirectory[38]=new Ce({TransferType:2,HasData:!0,IsDataLimited:!1}),this.commandDirectory[39]=new Ce({TransferType:2,HasData:!0,IsDataLimited:!1}),this.commandDirectory[40]=new Ce({TransferType:0,HasData:!0,DataCount:1,IsDataLimited:!0}),this.commandDirectory[41]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[42]=new Ce({TransferType:0,HasData:!0}),this.commandDirectory[97]=new Ce({TransferType:0,HasData:!0}),this.commandDirectory[98]=new Ce({TransferType:0,HasData:!0}),this.commandDirectory[43]=new Ce({TransferType:0,HasData:!0,DataCount:4,IsDataLimited:!1}),this.commandDirectory[18]=new Ce({TransferType:0,HasData:!0}),this.commandDirectory[44]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[45]=new Ce({TransferType:0,HasData:!0}),this.commandDirectory[128]=new Ce({TransferType:0,HasData:!0,IsDataLimited:!0,DataCount:1}),this.commandDirectory[129]=new Ce({TransferType:0,HasData:!0,IsDataLimited:!0,DataCount:1}),this.commandDirectory[130]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[131]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[132]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[133]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[134]=new Ce({TransferType:0,HasData:!1,hasPECWithoutData:!0}),this.commandDirectory[139]=new Ce({TransferType:1,HasData:!0,DataCount:2,IsDataLimited:!0}),this.commandDirectory[137]=new Ce({TransferType:0,HasData:!0,DataCount:2,IsDataLimited:!0}),this.commandDirectory[140]=new Ce({TransferType:1,HasData:!0,DataCount:2,IsDataLimited:!0}),this.commandDirectory[138]=new Ce({TransferType:0,HasData:!0,DataCount:2,IsDataLimited:!0}),this.commandDirectory[135]=new Ce({TransferType:0,HasData:!0,DataCount:1,IsDataLimited:!0}),this.commandDirectory[136]=new Ce({TransferType:0,HasData:!0,DataCount:1,IsDataLimited:!0}),this.commandDirectory[141]=new Ce({TransferType:1,HasData:!0,DataCount:6,IsDataLimited:!0}),this.commandDirectory[142]=new Ce({TransferType:1,HasData:!0,DataCount:1,IsDataLimited:!0}),this.commandDirectory[143]=new Ce({TransferType:1,HasData:!0,DataCount:1,IsDataLimited:!0}),this.commandDirectory[144]=new Ce({TransferType:1,HasData:!0,DataCount:2,IsDataLimited:!0,hasMultiplePattern:!0,Pattern:1}),this.commandDirectory[145]=new Ce({TransferType:1,HasData:!0,DataCount:2,IsDataLimited:!0}),this.commandDirectory[147]=new Ce({TransferType:0,HasData:!0,IsDataLimited:!1}),this.commandDirectory[148]=new Ce({TransferType:1,HasData:!0,DataCount:2,IsDataLimited:!0,hasMultiplePattern:!0,Pattern:1}),this.commandDirectory[149]=new Ce({TransferType:1,HasData:!0,DataCount:1,IsDataLimited:!0,hasMultiplePattern:!0,Pattern:1}),this.commandDirectory[152]=new Ce({TransferType:0,HasData:!0,DataCount:1,IsDataLimited:!0}),this.commandDirectory[153]=new Ce({TransferType:1,HasData:!0,DataCount:4,IsDataLimited:!0}),this.commandDirectory[224]=new Ce({TransferType:1,HasData:!0}),this.commandDirectory[154]=new Ce({TransferType:1,HasData:!0,hasMultiplePattern:!0,Pattern:1}),this.commandDirectory[151]=new Ce({TransferType:0,HasData:!0,hasMultiplePattern:!0,Pattern:1}),this.commandDirectory[146]=new Ce({TransferType:1,HasData:!0,hasMultiplePattern:!0,Pattern:1}),this.commandDirectory[155]=new Ce({TransferType:0,HasData:!0,DataCount:1,IsDataLimited:!0}),this.commandDirectory[156]=new Ce({TransferType:0,HasData:!1}),this.commandDirectory[157]=new Ce({TransferType:0,HasData:!0,hasMultiplePattern:!0,Pattern:1})}getCommandInfo(e){return e in this.commandDirectory?this.commandDirectory[e]:new Ce}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var mP=()=>["Private","I2C_Message"];function gP(t,e){if(t&1&&(f(0,"mat-option",13),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function vP(t,e){if(t&1&&(f(0,"mat-option",13),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function CP(t,e){if(t&1){let i=tt();f(0,"div",0)(1,"div",1)(2,"mat-label"),_(3,"BroadCast CCC"),g()(),f(4,"div",2)(5,"mat-select",14),ke("ngModelChange",function(o){ne(i);let s=X();return Ie(s.selectedBroadCastCCC,o)||(s.selectedBroadCastCCC=o),oe(o)}),de(6,vP,2,2,"mat-option",4),g()()()}if(t&2){let i=X();x(5),Te("ngModel",i.selectedBroadCastCCC),x(),G("ngForOf",i.BroadcastCCC)}}function bP(t,e){if(t&1&&(f(0,"mat-option",13),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function yP(t,e){if(t&1){let i=tt();f(0,"div",0)(1,"div",1)(2,"mat-label"),_(3,"Transfer Type"),g()(),f(4,"div",2)(5,"mat-select",15),ke("ngModelChange",function(o){ne(i);let s=X();return Ie(s.selectedTransferType,o)||(s.selectedTransferType=o),oe(o)}),de(6,bP,2,2,"mat-option",4),g()()()}if(t&2){let i=X();x(5),Te("ngModel",i.selectedTransferType),x(),G("ngForOf",i.TransferTypes)}}var Ad=class t{constructor(e,i){this.protocolInfoRepositoryService=e;this.masterUIService=i;this.MessageType=Object.keys(this.eMsgType).filter(n=>isNaN(Number(n))),this.BroadcastCCC=Object.keys(this.EBroadcastCCC).filter(n=>isNaN(Number(n))),this.DirectedCCC=Object.keys(this.EDirectedCCC).filter(n=>isNaN(Number(n))),this.TransferTypes=Object.keys(this.TransferType).filter(n=>isNaN(Number(n))),this.masterUIService.scriptList$.subscribe(n=>{this.scriptList=n})}MessageType=[];eMsgType=Pf;BroadcastCCC=[];EBroadcastCCC=ul;DirectedCCC=[];EDirectedCCC=Tf;TransferTypes=[];TransferType=Af;selectedCommand=null;selectedMessageType="BroadCast";selectedBroadCastCCC=0;selectedDirectedCastCCC="ENEC";selectedTransferType="Write";commandHasData=!1;txtData="";txtDCount="";chkStop=!1;chkCP=!1;chkDP=!1;scriptList=[];cmbCommandSelectionChanged(){}ItemSource=[];onButtonClick(){try{if(this.selectedMessageType==="BroadCast"){let e=new Pd;e.frameType=0,e.addressEnable=!1,e.command=this.selectedBroadCastCCC;let i=this.protocolInfoRepositoryService.getCommandInfo(e.command);i.HasData&&(i.TransferType===0?(e.transferType=0,e.data=this.txtData.split("-").map(n=>parseInt(n,16))):(e.transferType=1,e.dataCount=parseInt(this.txtDCount))),e.hasStop=this.chkStop,e.commandParity=this.chkCP,e.dataParity=this.chkDP,this.masterUIService.addScript(e),this.publishMessage("Broadcast Message added successfully")}}catch{this.publishMessage("Message not added. Please check the value.")}}publishMessage(e){console.log(e)}static \u0275fac=function(i){return new(i||t)(b(Ao),b(on))};static \u0275cmp=$({type:t,selectors:[["app-bus"]],standalone:!0,features:[K],decls:35,vars:10,consts:[[1,"twofield"],[1,"label-container"],[1,"selection-container"],["name","messageType",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","twofield",4,"ngIf"],["matInput","","name","data","required","",3,"ngModelChange","ngModel"],["matInput","","name","dataCount","required","",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[1,"period-container"],[1,"error-options"],[1,"button-container"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],["name","BroadCastCCC",3,"ngModelChange","ngModel"],["name","transfertype",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(f(0,"form")(1,"div",0)(2,"div",1)(3,"mat-label"),_(4,"Message Type"),g()(),f(5,"div",2)(6,"mat-select",3),ke("ngModelChange",function(s){return Ie(n.selectedMessageType,s)||(n.selectedMessageType=s),s}),de(7,gP,2,2,"mat-option",4),g()()(),de(8,CP,7,2,"div",5)(9,yP,7,2,"div",5),f(10,"div",0)(11,"div",1)(12,"mat-label"),_(13,"Data"),g()(),f(14,"div",2)(15,"input",6),ke("ngModelChange",function(s){return Ie(n.txtData,s)||(n.txtData=s),s}),g()()(),f(16,"div",0)(17,"div",1)(18,"mat-label"),_(19,"Data Count"),g()(),f(20,"div",2)(21,"input",7),ke("ngModelChange",function(s){return Ie(n.txtDCount,s)||(n.txtDCount=s),s}),g()()(),f(22,"mat-checkbox",8),ke("ngModelChange",function(s){return Ie(n.chkStop,s)||(n.chkStop=s),s}),_(23,"Stop"),g(),f(24,"div",9)(25,"fieldset",10)(26,"legend"),_(27,"Error"),g(),f(28,"mat-checkbox",8),ke("ngModelChange",function(s){return Ie(n.chkCP,s)||(n.chkCP=s),s}),_(29,"Command Parity"),g(),f(30,"mat-checkbox",8),ke("ngModelChange",function(s){return Ie(n.chkDP,s)||(n.chkDP=s),s}),_(31,"Data Parity"),g()()(),f(32,"div",11)(33,"button",12),Y("click",function(){return n.onButtonClick()}),_(34,"Add"),g()()()),i&2&&(x(6),Te("ngModel",n.selectedMessageType),x(),G("ngForOf",n.MessageType),x(),G("ngIf",n.selectedMessageType==="BroadCast"),x(),G("ngIf",Ab(9,mP).includes(n.selectedMessageType)),x(6),Te("ngModel",n.txtData),x(6),Te("ngModel",n.txtDCount),x(),Te("ngModel",n.chkStop),x(6),Te("ngModel",n.chkCP),x(2),Te("ngModel",n.chkDP))},dependencies:[Mt,ii,qt,wi,$f,Ki,ti,en,Jt,ei,Ji,Ef,Yt,Xt,fo],styles:[".twofield[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.label-container[_ngcontent-%COMP%]{background-color:#004085;color:#faf4f4;padding:8px;min-width:150px;text-align:left;border:1px solid black;margin-right:8px}.selection-container[_ngcontent-%COMP%]{background-color:#e7eaee;padding:8px;min-width:200px;text-align:left;border:1px solid rgb(27,26,26)}.button-container[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.period-container[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.period-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:48%}.mat-checkbox[_ngcontent-%COMP%]{margin-left:8px}"]})};function ys(t){let e=typeof t;if(e=="object"){if(Array.isArray(t))return"array";if(t===null)return"null"}return e}function Ir(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}var qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Fd=[];for(let t=0;t<qn.length;t++)Fd[qn[t].charCodeAt(0)]=t;Fd[45]=qn.indexOf("+");Fd[95]=qn.indexOf("/");function ml(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let i=new Uint8Array(e),n=0,o=0,s,r=0;for(let a=0;a<t.length;a++){if(s=Fd[t.charCodeAt(a)],s===void 0)switch(t[a]){case"=":o=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:r=s,o=1;break;case 1:i[n++]=r<<2|(s&48)>>4,r=s,o=2;break;case 2:i[n++]=(r&15)<<4|(s&60)>>2,r=s,o=3;break;case 3:i[n++]=(r&3)<<6|s,o=0;break}}if(o==1)throw Error("invalid base64 string.");return i.subarray(0,n)}function gl(t){let e="",i=0,n,o=0;for(let s=0;s<t.length;s++)switch(n=t[s],i){case 0:e+=qn[n>>2],o=(n&3)<<4,i=1;break;case 1:e+=qn[o|n>>4],o=(n&15)<<2,i=2;break;case 2:e+=qn[o|n>>6],e+=qn[n&63],i=0;break}return i&&(e+=qn[o],e+="=",i==1&&(e+="=")),e}var E;(function(t){t.symbol=Symbol.for("protobuf-ts/unknown"),t.onRead=(i,n,o,s,r)=>{(e(n)?n[t.symbol]:n[t.symbol]=[]).push({no:o,wireType:s,data:r})},t.onWrite=(i,n,o)=>{for(let{no:s,wireType:r,data:a}of t.list(n))o.tag(s,r).raw(a)},t.list=(i,n)=>{if(e(i)){let o=i[t.symbol];return n?o.filter(s=>s.no==n):o}return[]},t.last=(i,n)=>t.list(i,n).slice(-1)[0];let e=i=>i&&Array.isArray(i[t.symbol])})(E||(E={}));function qf(t,e){return Object.assign(Object.assign({},t),e)}var C=function(t){return t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32",t}(C||{});function N_(){let t=0,e=0;for(let n=0;n<28;n+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<n,!(o&128))return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,!(i&128))return this.assertBounds(),[t,e];for(let n=3;n<=31;n+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<n,!(o&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Nd(t,e,i){for(let s=0;s<28;s=s+7){let r=t>>>s,a=!(!(r>>>7)&&e==0),l=(a?r|128:r)&255;if(i.push(l),!a)return}let n=t>>>28&15|(e&7)<<4,o=!!(e>>3);if(i.push((o?n|128:n)&255),!!o){for(let s=3;s<31;s=s+7){let r=e>>>s,a=!!(r>>>7),l=(a?r|128:r)&255;if(i.push(l),!a)return}i.push(e>>>31&1)}}var Od=65536*65536;function Xf(t){let e=t[0]=="-";e&&(t=t.slice(1));let i=1e6,n=0,o=0;function s(r,a){let l=Number(t.slice(r,a));o*=i,n=n*i+l,n>=Od&&(o=o+(n/Od|0),n=n%Od)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[e,n,o]}function Ld(t,e){if(e>>>0<=2097151)return""+(Od*e+(t>>>0));let i=t&16777215,n=(t>>>24|e<<8)>>>0&16777215,o=e>>16&65535,s=i+n*6777216+o*6710656,r=n+o*8147497,a=o*2,l=1e7;s>=l&&(r+=Math.floor(s/l),s%=l),r>=l&&(a+=Math.floor(r/l),r%=l);function c(d,u){let p=d?String(d):"";return u?"0000000".slice(p.length)+p:p}return c(a,0)+c(r,a)+c(s,1)}function Yf(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}function L_(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;t&128&&i<10;i++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var mt;function wP(){let t=new DataView(new ArrayBuffer(8));mt=globalThis.BigInt!==void 0&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:t}:void 0}wP();function B_(t){if(!t)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}var V_=/^-?[0-9]+$/,Vd=4294967296,Bd=2147483648,Gd=class{constructor(e,i){this.lo=e|0,this.hi=i|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let e=this.hi*Vd+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}},Nt=class t extends Gd{static from(e){if(mt)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=mt.C(e);case"number":if(e===0)return this.ZERO;e=mt.C(e);case"bigint":if(!e)return this.ZERO;if(e<mt.UMIN)throw new Error("signed value for ulong");if(e>mt.UMAX)throw new Error("ulong too large");return mt.V.setBigUint64(0,e,!0),new t(mt.V.getInt32(0,!0),mt.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!V_.test(e))throw new Error("string is no integer");let[i,n,o]=Xf(e);if(i)throw new Error("signed value for ulong");return new t(n,o);case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new t(e,e/Vd)}throw new Error("unknown value "+typeof e)}toString(){return mt?this.toBigInt().toString():Ld(this.lo,this.hi)}toBigInt(){return B_(mt),mt.V.setInt32(0,this.lo,!0),mt.V.setInt32(4,this.hi,!0),mt.V.getBigUint64(0,!0)}};Nt.ZERO=new Nt(0,0);var St=class t extends Gd{static from(e){if(mt)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=mt.C(e);case"number":if(e===0)return this.ZERO;e=mt.C(e);case"bigint":if(!e)return this.ZERO;if(e<mt.MIN)throw new Error("signed long too small");if(e>mt.MAX)throw new Error("signed long too large");return mt.V.setBigInt64(0,e,!0),new t(mt.V.getInt32(0,!0),mt.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!V_.test(e))throw new Error("string is no integer");let[i,n,o]=Xf(e);if(i){if(o>Bd||o==Bd&&n!=0)throw new Error("signed long too small")}else if(o>=Bd)throw new Error("signed long too large");let s=new t(n,o);return i?s.negate():s;case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new t(e,e/Vd):new t(-e,-e/Vd).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return(this.hi&Bd)!==0}negate(){let e=~this.hi,i=this.lo;return i?i=~i+1:e+=1,new t(i,e)}toString(){if(mt)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+Ld(e.lo,e.hi)}return Ld(this.lo,this.hi)}toBigInt(){return B_(mt),mt.V.setInt32(0,this.lo,!0),mt.V.setInt32(4,this.hi,!0),mt.V.getBigInt64(0,!0)}};St.ZERO=new St(0,0);var G_={readUnknownField:!0,readerFactory:t=>new Qf(t)};function W_(t){return t?Object.assign(Object.assign({},G_),t):G_}var Qf=class{constructor(e,i){this.varint64=N_,this.uint32=L_,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=i??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),i=e>>>3,n=e&7;if(i<=0||n<0||n>5)throw new Error("illegal tag: field no "+i+" wire type "+n);return[i,n]}skip(e){let i=this.pos;switch(e){case C.Varint:for(;this.buf[this.pos++]&128;);break;case C.Bit64:this.pos+=4;case C.Bit32:this.pos+=4;break;case C.LengthDelimited:let n=this.uint32();this.pos+=n;break;case C.StartGroup:let o;for(;(o=this.tag()[1])!==C.EndGroup;)this.skip(o);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return new St(...this.varint64())}uint64(){return new Nt(...this.varint64())}sint64(){let[e,i]=this.varint64(),n=-(e&1);return e=(e>>>1|(i&1)<<31)^n,i=i>>>1^n,new St(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new Nt(this.sfixed32(),this.sfixed32())}sfixed64(){return new St(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.textDecoder.decode(this.bytes())}};function He(t,e){if(!t)throw new Error(e)}function Zf(t,e){throw new Error(e??"Unexpected object: "+t)}var _P=34028234663852886e22,SP=-34028234663852886e22,RP=4294967295,xP=2147483647,EP=-2147483648;function Xn(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>xP||t<EP)throw new Error("invalid int 32: "+t)}function Fo(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>RP||t<0)throw new Error("invalid uint 32: "+t)}function ws(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>_P||t<SP))throw new Error("invalid float 32: "+t)}var H_={writeUnknownFields:!0,writerFactory:()=>new Jf};function U_(t){return t?Object.assign(Object.assign({},H_),t):H_}var Jf=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let i=new Uint8Array(e),n=0;for(let o=0;o<this.chunks.length;o++)i.set(this.chunks[o],n),n+=this.chunks[o].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Fo(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Xn(e),Yf(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.textEncoder.encode(e);return this.uint32(i.byteLength),this.raw(i)}float(e){ws(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){Fo(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){Xn(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return Xn(e),e=(e<<1^e>>31)>>>0,Yf(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),o=St.from(e);return n.setInt32(0,o.lo,!0),n.setInt32(4,o.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),o=Nt.from(e);return n.setInt32(0,o.lo,!0),n.setInt32(4,o.hi,!0),this.raw(i)}int64(e){let i=St.from(e);return Nd(i.lo,i.hi,this.buf),this}sint64(e){let i=St.from(e),n=i.hi>>31,o=i.lo<<1^n,s=(i.hi<<1|i.lo>>>31)^n;return Nd(o,s,this.buf),this}uint64(e){let i=Nt.from(e);return Nd(i.lo,i.hi,this.buf),this}};var z_={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},j_={ignoreUnknownFields:!1};function em(t){return t?Object.assign(Object.assign({},j_),t):j_}function vl(t){return t?Object.assign(Object.assign({},z_),t):z_}function tm(t,e){var i,n;let o=Object.assign(Object.assign({},t),e);return o.typeRegistry=[...(i=t?.typeRegistry)!==null&&i!==void 0?i:[],...(n=e?.typeRegistry)!==null&&n!==void 0?n:[]],o}var Wd=Symbol.for("protobuf-ts/message-type");function kr(t){let e=!1,i=[];for(let n=0;n<t.length;n++){let o=t.charAt(n);o=="_"?e=!0:/\d/.test(o)?(i.push(o),e=!0):e?(i.push(o.toUpperCase()),e=!1):n==0?i.push(o.toLowerCase()):i.push(o)}return i.join("")}var V=function(t){return t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64",t}(V||{}),_i=function(t){return t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING",t[t.NUMBER=2]="NUMBER",t}(_i||{}),Hd=function(t){return t[t.NO=0]="NO",t[t.PACKED=1]="PACKED",t[t.UNPACKED=2]="UNPACKED",t}(Hd||{});function $_(t){var e,i,n,o;return t.localName=(e=t.localName)!==null&&e!==void 0?e:kr(t.name),t.jsonName=(i=t.jsonName)!==null&&i!==void 0?i:kr(t.name),t.repeat=(n=t.repeat)!==null&&n!==void 0?n:Hd.NO,t.opt=(o=t.opt)!==null&&o!==void 0?o:t.repeat||t.oneof?!1:t.kind=="message",t}function K_(t){if(typeof t!="object"||t===null||!t.hasOwnProperty("oneofKind"))return!1;switch(typeof t.oneofKind){case"string":return t[t.oneofKind]===void 0?!1:Object.keys(t).length==2;case"undefined":return Object.keys(t).length==1;default:return!1}}var Ud=class{constructor(e){var i;this.fields=(i=e.fields)!==null&&i!==void 0?i:[]}prepare(){if(this.data)return;let e=[],i=[],n=[];for(let o of this.fields)if(o.oneof)n.includes(o.oneof)||(n.push(o.oneof),e.push(o.oneof),i.push(o.oneof));else switch(i.push(o.localName),o.kind){case"scalar":case"enum":(!o.opt||o.repeat)&&e.push(o.localName);break;case"message":o.repeat&&e.push(o.localName);break;case"map":e.push(o.localName);break}this.data={req:e,known:i,oneofs:Object.values(n)}}is(e,i,n=!1){if(i<0)return!0;if(e==null||typeof e!="object")return!1;this.prepare();let o=Object.keys(e),s=this.data;if(o.length<s.req.length||s.req.some(r=>!o.includes(r))||!n&&o.some(r=>!s.known.includes(r)))return!1;if(i<1)return!0;for(let r of s.oneofs){let a=e[r];if(!K_(a))return!1;if(a.oneofKind===void 0)continue;let l=this.fields.find(c=>c.localName===a.oneofKind);if(!l||!this.field(a[a.oneofKind],l,n,i))return!1}for(let r of this.fields)if(r.oneof===void 0&&!this.field(e[r.localName],r,n,i))return!1;return!0}field(e,i,n,o){let s=i.repeat;switch(i.kind){case"scalar":return e===void 0?i.opt:s?this.scalars(e,i.T,o,i.L):this.scalar(e,i.T,i.L);case"enum":return e===void 0?i.opt:s?this.scalars(e,V.INT32,o):this.scalar(e,V.INT32);case"message":return e===void 0?!0:s?this.messages(e,i.T(),n,o):this.message(e,i.T(),n,o);case"map":if(typeof e!="object"||e===null)return!1;if(o<2)return!0;if(!this.mapKeys(e,i.K,o))return!1;switch(i.V.kind){case"scalar":return this.scalars(Object.values(e),i.V.T,o,i.V.L);case"enum":return this.scalars(Object.values(e),V.INT32,o);case"message":return this.messages(Object.values(e),i.V.T(),n,o)}break}return!0}message(e,i,n,o){return n?i.isAssignable(e,o):i.is(e,o)}messages(e,i,n,o){if(!Array.isArray(e))return!1;if(o<2)return!0;if(n){for(let s=0;s<e.length&&s<o;s++)if(!i.isAssignable(e[s],o-1))return!1}else for(let s=0;s<e.length&&s<o;s++)if(!i.is(e[s],o-1))return!1;return!0}scalar(e,i,n){let o=typeof e;switch(i){case V.UINT64:case V.FIXED64:case V.INT64:case V.SFIXED64:case V.SINT64:switch(n){case _i.BIGINT:return o=="bigint";case _i.NUMBER:return o=="number"&&!isNaN(e);default:return o=="string"}case V.BOOL:return o=="boolean";case V.STRING:return o=="string";case V.BYTES:return e instanceof Uint8Array;case V.DOUBLE:case V.FLOAT:return o=="number"&&!isNaN(e);default:return o=="number"&&Number.isInteger(e)}}scalars(e,i,n,o){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e)){for(let s=0;s<e.length&&s<n;s++)if(!this.scalar(e[s],i,o))return!1}return!0}mapKeys(e,i,n){let o=Object.keys(e);switch(i){case V.INT32:case V.FIXED32:case V.SFIXED32:case V.SINT32:case V.UINT32:return this.scalars(o.slice(0,n).map(s=>parseInt(s)),i,n);case V.BOOL:return this.scalars(o.slice(0,n).map(s=>s=="true"?!0:s=="false"?!1:s),i,n);default:return this.scalars(o,i,n,_i.STRING)}}};function Si(t,e){switch(e){case _i.BIGINT:return t.toBigInt();case _i.NUMBER:return t.toNumber();default:return t.toString()}}var zd=class{constructor(e){this.info=e}prepare(){var e;if(this.fMap===void 0){this.fMap={};let i=(e=this.info.fields)!==null&&e!==void 0?e:[];for(let n of i)this.fMap[n.name]=n,this.fMap[n.jsonName]=n,this.fMap[n.localName]=n}}assert(e,i,n){if(!e){let o=ys(n);throw(o=="number"||o=="boolean")&&(o=n.toString()),new Error(`Cannot parse JSON ${o} for ${this.info.typeName}#${i}`)}}read(e,i,n){this.prepare();let o=[];for(let[s,r]of Object.entries(e)){let a=this.fMap[s];if(!a){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${s}`);continue}let l=a.localName,c;if(a.oneof){if(r===null&&(a.kind!=="enum"||a.T()[0]!=="google.protobuf.NullValue"))continue;if(o.includes(a.oneof))throw new Error(`Multiple members of the oneof group "${a.oneof}" of ${this.info.typeName} are present in JSON.`);o.push(a.oneof),c=i[a.oneof]={oneofKind:l}}else c=i;if(a.kind=="map"){if(r===null)continue;this.assert(Ir(r),a.name,r);let d=c[l];for(let[u,p]of Object.entries(r)){this.assert(p!==null,a.name+" map value",null);let m;switch(a.V.kind){case"message":m=a.V.T().internalJsonRead(p,n);break;case"enum":if(m=this.enum(a.V.T(),p,a.name,n.ignoreUnknownFields),m===!1)continue;break;case"scalar":m=this.scalar(p,a.V.T,a.V.L,a.name);break}this.assert(m!==void 0,a.name+" map value",p);let y=u;a.K==V.BOOL&&(y=y=="true"?!0:y=="false"?!1:y),y=this.scalar(y,a.K,_i.STRING,a.name).toString(),d[y]=m}}else if(a.repeat){if(r===null)continue;this.assert(Array.isArray(r),a.name,r);let d=c[l];for(let u of r){this.assert(u!==null,a.name,null);let p;switch(a.kind){case"message":p=a.T().internalJsonRead(u,n);break;case"enum":if(p=this.enum(a.T(),u,a.name,n.ignoreUnknownFields),p===!1)continue;break;case"scalar":p=this.scalar(u,a.T,a.L,a.name);break}this.assert(p!==void 0,a.name,r),d.push(p)}}else switch(a.kind){case"message":if(r===null&&a.T().typeName!="google.protobuf.Value"){this.assert(a.oneof===void 0,a.name+" (oneof member)",null);continue}c[l]=a.T().internalJsonRead(r,n,c[l]);break;case"enum":let d=this.enum(a.T(),r,a.name,n.ignoreUnknownFields);if(d===!1)continue;c[l]=d;break;case"scalar":c[l]=this.scalar(r,a.T,a.L,a.name);break}}}enum(e,i,n,o){if(e[0]=="google.protobuf.NullValue"&&He(i===null||i==="NULL_VALUE",`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),i===null)return 0;switch(typeof i){case"number":return He(Number.isInteger(i),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${i}.`),i;case"string":let s=i;e[2]&&i.substring(0,e[2].length)===e[2]&&(s=i.substring(e[2].length));let r=e[1][s];return typeof r>"u"&&o?!1:(He(typeof r=="number",`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${i}".`),r)}He(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof i}".`)}scalar(e,i,n,o){let s;try{switch(i){case V.DOUBLE:case V.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""){s="empty string";break}if(typeof e=="string"&&e.trim().length!==e.length){s="extra whitespace";break}if(typeof e!="string"&&typeof e!="number")break;let r=Number(e);if(Number.isNaN(r)){s="not a number";break}if(!Number.isFinite(r)){s="too large or small";break}return i==V.FLOAT&&ws(r),r;case V.INT32:case V.FIXED32:case V.SFIXED32:case V.SINT32:case V.UINT32:if(e===null)return 0;let a;if(typeof e=="number"?a=e:e===""?s="empty string":typeof e=="string"&&(e.trim().length!==e.length?s="extra whitespace":a=Number(e)),a===void 0)break;return i==V.UINT32?Fo(a):Xn(a),a;case V.INT64:case V.SFIXED64:case V.SINT64:if(e===null)return Si(St.ZERO,n);if(typeof e!="number"&&typeof e!="string")break;return Si(St.from(e),n);case V.FIXED64:case V.UINT64:if(e===null)return Si(Nt.ZERO,n);if(typeof e!="number"&&typeof e!="string")break;return Si(Nt.from(e),n);case V.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case V.STRING:if(e===null)return"";if(typeof e!="string"){s="extra whitespace";break}try{encodeURIComponent(e)}catch(l){l="invalid UTF8";break}return e;case V.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return ml(e)}}catch(r){s=r.message}this.assert(!1,o+(s?" - "+s:""),e)}};var jd=class{constructor(e){var i;this.fields=(i=e.fields)!==null&&i!==void 0?i:[]}write(e,i){let n={},o=e;for(let s of this.fields){if(!s.oneof){let c=this.field(s,o[s.localName],i);c!==void 0&&(n[i.useProtoFieldName?s.name:s.jsonName]=c);continue}let r=o[s.oneof];if(r.oneofKind!==s.localName)continue;let a=s.kind=="scalar"||s.kind=="enum"?Object.assign(Object.assign({},i),{emitDefaultValues:!0}):i,l=this.field(s,r[s.localName],a);He(l!==void 0),n[i.useProtoFieldName?s.name:s.jsonName]=l}return n}field(e,i,n){let o;if(e.kind=="map"){He(typeof i=="object"&&i!==null);let s={};switch(e.V.kind){case"scalar":for(let[l,c]of Object.entries(i)){let d=this.scalar(e.V.T,c,e.name,!1,!0);He(d!==void 0),s[l.toString()]=d}break;case"message":let r=e.V.T();for(let[l,c]of Object.entries(i)){let d=this.message(r,c,e.name,n);He(d!==void 0),s[l.toString()]=d}break;case"enum":let a=e.V.T();for(let[l,c]of Object.entries(i)){He(c===void 0||typeof c=="number");let d=this.enum(a,c,e.name,!1,!0,n.enumAsInteger);He(d!==void 0),s[l.toString()]=d}break}(n.emitDefaultValues||Object.keys(s).length>0)&&(o=s)}else if(e.repeat){He(Array.isArray(i));let s=[];switch(e.kind){case"scalar":for(let l=0;l<i.length;l++){let c=this.scalar(e.T,i[l],e.name,e.opt,!0);He(c!==void 0),s.push(c)}break;case"enum":let r=e.T();for(let l=0;l<i.length;l++){He(i[l]===void 0||typeof i[l]=="number");let c=this.enum(r,i[l],e.name,e.opt,!0,n.enumAsInteger);He(c!==void 0),s.push(c)}break;case"message":let a=e.T();for(let l=0;l<i.length;l++){let c=this.message(a,i[l],e.name,n);He(c!==void 0),s.push(c)}break}(n.emitDefaultValues||s.length>0||n.emitDefaultValues)&&(o=s)}else switch(e.kind){case"scalar":o=this.scalar(e.T,i,e.name,e.opt,n.emitDefaultValues);break;case"enum":o=this.enum(e.T(),i,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":o=this.message(e.T(),i,e.name,n);break}return o}enum(e,i,n,o,s,r){if(e[0]=="google.protobuf.NullValue")return!s&&!o?void 0:null;if(i===void 0){He(o);return}if(!(i===0&&!s&&!o))return He(typeof i=="number"),He(Number.isInteger(i)),r||!e[1].hasOwnProperty(i)?i:e[2]?e[2]+e[1][i]:e[1][i]}message(e,i,n,o){return i===void 0?o.emitDefaultValues?null:void 0:e.internalJsonWrite(i,o)}scalar(e,i,n,o,s){if(i===void 0){He(o);return}let r=s||o;switch(e){case V.INT32:case V.SFIXED32:case V.SINT32:return i===0?r?0:void 0:(Xn(i),i);case V.FIXED32:case V.UINT32:return i===0?r?0:void 0:(Fo(i),i);case V.FLOAT:ws(i);case V.DOUBLE:return i===0?r?0:void 0:(He(typeof i=="number"),Number.isNaN(i)?"NaN":i===Number.POSITIVE_INFINITY?"Infinity":i===Number.NEGATIVE_INFINITY?"-Infinity":i);case V.STRING:return i===""?r?"":void 0:(He(typeof i=="string"),i);case V.BOOL:return i===!1?r?!1:void 0:(He(typeof i=="boolean"),i);case V.UINT64:case V.FIXED64:He(typeof i=="number"||typeof i=="string"||typeof i=="bigint");let a=Nt.from(i);return a.isZero()&&!r?void 0:a.toString();case V.INT64:case V.SFIXED64:case V.SINT64:He(typeof i=="number"||typeof i=="string"||typeof i=="bigint");let l=St.from(i);return l.isZero()&&!r?void 0:l.toString();case V.BYTES:return He(i instanceof Uint8Array),i.byteLength?gl(i):r?"":void 0}}};function Cl(t,e=_i.STRING){switch(t){case V.BOOL:return!1;case V.UINT64:case V.FIXED64:return Si(Nt.ZERO,e);case V.INT64:case V.SFIXED64:case V.SINT64:return Si(St.ZERO,e);case V.DOUBLE:case V.FLOAT:return 0;case V.BYTES:return new Uint8Array(0);case V.STRING:return"";default:return 0}}var $d=class{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let i=(e=this.info.fields)!==null&&e!==void 0?e:[];this.fieldNoToField=new Map(i.map(n=>[n.no,n]))}}read(e,i,n,o){this.prepare();let s=o===void 0?e.len:e.pos+o;for(;e.pos<s;){let[r,a]=e.tag(),l=this.fieldNoToField.get(r);if(!l){let p=n.readUnknownField;if(p=="throw")throw new Error(`Unknown field ${r} (wire type ${a}) for ${this.info.typeName}`);let m=e.skip(a);p!==!1&&(p===!0?E.onRead:p)(this.info.typeName,i,r,a,m);continue}let c=i,d=l.repeat,u=l.localName;switch(l.oneof&&(c=c[l.oneof],c.oneofKind!==u&&(c=i[l.oneof]={oneofKind:u})),l.kind){case"scalar":case"enum":let p=l.kind=="enum"?V.INT32:l.T,m=l.kind=="scalar"?l.L:void 0;if(d){let S=c[u];if(a==C.LengthDelimited&&p!=V.STRING&&p!=V.BYTES){let k=e.uint32()+e.pos;for(;e.pos<k;)S.push(this.scalar(e,p,m))}else S.push(this.scalar(e,p,m))}else c[u]=this.scalar(e,p,m);break;case"message":if(d){let S=c[u],k=l.T().internalBinaryRead(e,e.uint32(),n);S.push(k)}else c[u]=l.T().internalBinaryRead(e,e.uint32(),n,c[u]);break;case"map":let[y,R]=this.mapEntry(l,e,n);c[u][y]=R;break}}}mapEntry(e,i,n){let o=i.uint32(),s=i.pos+o,r,a;for(;i.pos<s;){let[l,c]=i.tag();switch(l){case 1:e.K==V.BOOL?r=i.bool().toString():r=this.scalar(i,e.K,_i.STRING);break;case 2:switch(e.V.kind){case"scalar":a=this.scalar(i,e.V.T,e.V.L);break;case"enum":a=i.int32();break;case"message":a=e.V.T().internalBinaryRead(i,i.uint32(),n);break}break;default:throw new Error(`Unknown field ${l} (wire type ${c}) in map entry for ${this.info.typeName}#${e.name}`)}}if(r===void 0){let l=Cl(e.K);r=e.K==V.BOOL?l.toString():l}if(a===void 0)switch(e.V.kind){case"scalar":a=Cl(e.V.T,e.V.L);break;case"enum":a=0;break;case"message":a=e.V.T().create();break}return[r,a]}scalar(e,i,n){switch(i){case V.INT32:return e.int32();case V.STRING:return e.string();case V.BOOL:return e.bool();case V.DOUBLE:return e.double();case V.FLOAT:return e.float();case V.INT64:return Si(e.int64(),n);case V.UINT64:return Si(e.uint64(),n);case V.FIXED64:return Si(e.fixed64(),n);case V.FIXED32:return e.fixed32();case V.BYTES:return e.bytes();case V.UINT32:return e.uint32();case V.SFIXED32:return e.sfixed32();case V.SFIXED64:return Si(e.sfixed64(),n);case V.SINT32:return e.sint32();case V.SINT64:return Si(e.sint64(),n)}}};var Kd=class{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((i,n)=>i.no-n.no)}}write(e,i,n){this.prepare();for(let s of this.fields){let r,a,l=s.repeat,c=s.localName;if(s.oneof){let d=e[s.oneof];if(d.oneofKind!==c)continue;r=d[c],a=!0}else r=e[c],a=!1;switch(s.kind){case"scalar":case"enum":let d=s.kind=="enum"?V.INT32:s.T;if(l)if(He(Array.isArray(r)),l==Hd.PACKED)this.packed(i,d,s.no,r);else for(let u of r)this.scalar(i,d,s.no,u,!0);else r===void 0?He(s.opt):this.scalar(i,d,s.no,r,a||s.opt);break;case"message":if(l){He(Array.isArray(r));for(let u of r)this.message(i,n,s.T(),s.no,u)}else this.message(i,n,s.T(),s.no,r);break;case"map":He(typeof r=="object"&&r!==null);for(let[u,p]of Object.entries(r))this.mapEntry(i,n,s,u,p);break}}let o=n.writeUnknownFields;o!==!1&&(o===!0?E.onWrite:o)(this.info.typeName,e,i)}mapEntry(e,i,n,o,s){e.tag(n.no,C.LengthDelimited),e.fork();let r=o;switch(n.K){case V.INT32:case V.FIXED32:case V.UINT32:case V.SFIXED32:case V.SINT32:r=Number.parseInt(o);break;case V.BOOL:He(o=="true"||o=="false"),r=o=="true";break}switch(this.scalar(e,n.K,1,r,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,s,!0);break;case"enum":this.scalar(e,V.INT32,2,s,!0);break;case"message":this.message(e,i,n.V.T(),2,s);break}e.join()}message(e,i,n,o,s){s!==void 0&&(n.internalBinaryWrite(s,e.tag(o,C.LengthDelimited).fork(),i),e.join())}scalar(e,i,n,o,s){let[r,a,l]=this.scalarInfo(i,o);(!l||s)&&(e.tag(n,r),e[a](o))}packed(e,i,n,o){if(!o.length)return;He(i!==V.BYTES&&i!==V.STRING),e.tag(n,C.LengthDelimited),e.fork();let[,s]=this.scalarInfo(i);for(let r=0;r<o.length;r++)e[s](o[r]);e.join()}scalarInfo(e,i){let n=C.Varint,o,s=i===void 0,r=i===0;switch(e){case V.INT32:o="int32";break;case V.STRING:r=s||!i.length,n=C.LengthDelimited,o="string";break;case V.BOOL:r=i===!1,o="bool";break;case V.UINT32:o="uint32";break;case V.DOUBLE:n=C.Bit64,o="double";break;case V.FLOAT:n=C.Bit32,o="float";break;case V.INT64:r=s||St.from(i).isZero(),o="int64";break;case V.UINT64:r=s||Nt.from(i).isZero(),o="uint64";break;case V.FIXED64:r=s||Nt.from(i).isZero(),n=C.Bit64,o="fixed64";break;case V.BYTES:r=s||!i.byteLength,n=C.LengthDelimited,o="bytes";break;case V.FIXED32:n=C.Bit32,o="fixed32";break;case V.SFIXED32:n=C.Bit32,o="sfixed32";break;case V.SFIXED64:r=s||St.from(i).isZero(),n=C.Bit64,o="sfixed64";break;case V.SINT32:o="sint32";break;case V.SINT64:r=s||St.from(i).isZero(),o="sint64";break}return[n,o,s||r]}};function q_(t){let e=t.messagePrototype?Object.create(t.messagePrototype):Object.defineProperty({},Wd,{value:t});for(let i of t.fields){let n=i.localName;if(!i.opt)if(i.oneof)e[i.oneof]={oneofKind:void 0};else if(i.repeat)e[n]=[];else switch(i.kind){case"scalar":e[n]=Cl(i.T,i.L);break;case"enum":e[n]=0;break;case"map":e[n]={};break}}return e}function H(t,e,i){let n,o=i,s;for(let r of t.fields){let a=r.localName;if(r.oneof){let l=o[r.oneof];if(l?.oneofKind==null)continue;if(n=l[a],s=e[r.oneof],s.oneofKind=l.oneofKind,n==null){delete s[a];continue}}else if(n=o[a],s=e,n==null)continue;switch(r.repeat&&(s[a].length=n.length),r.kind){case"scalar":case"enum":if(r.repeat)for(let c=0;c<n.length;c++)s[a][c]=n[c];else s[a]=n;break;case"message":let l=r.T();if(r.repeat)for(let c=0;c<n.length;c++)s[a][c]=l.create(n[c]);else s[a]===void 0?s[a]=l.create(n):l.mergePartial(s[a],n);break;case"map":switch(r.V.kind){case"scalar":case"enum":Object.assign(s[a],n);break;case"message":let c=r.V.T();for(let d of Object.keys(n))s[a][d]=c.create(n[d]);break}break}}}function Q_(t,e,i){if(e===i)return!0;if(!e||!i)return!1;for(let n of t.fields){let o=n.localName,s=n.oneof?e[n.oneof][o]:e[o],r=n.oneof?i[n.oneof][o]:i[o];switch(n.kind){case"enum":case"scalar":let a=n.kind=="enum"?V.INT32:n.T;if(!(n.repeat?X_(a,s,r):Z_(a,s,r)))return!1;break;case"map":if(!(n.V.kind=="message"?Y_(n.V.T(),qd(s),qd(r)):X_(n.V.kind=="enum"?V.INT32:n.V.T,qd(s),qd(r))))return!1;break;case"message":let l=n.T();if(!(n.repeat?Y_(l,s,r):l.equals(s,r)))return!1;break}}return!0}var qd=Object.values;function Z_(t,e,i){if(e===i)return!0;if(t!==V.BYTES)return!1;let n=e,o=i;if(n.length!==o.length)return!1;for(let s=0;s<n.length;s++)if(n[s]!=o[s])return!1;return!0}function X_(t,e,i){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(!Z_(t,e[n],i[n]))return!1;return!0}function Y_(t,e,i){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(!t.equals(e[n],i[n]))return!1;return!0}var DP=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({})),z=class{constructor(e,i,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=i.map($_),this.options=n??{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},DP),{[Wd]:{value:this}})),this.refTypeCheck=new Ud(this),this.refJsonReader=new zd(this),this.refJsonWriter=new jd(this),this.refBinReader=new $d(this),this.refBinWriter=new Kd(this)}create(e){let i=q_(this);return e!==void 0&&H(this,i,e),i}clone(e){let i=this.create();return H(this,i,e),i}equals(e,i){return Q_(this,e,i)}is(e,i=this.defaultCheckDepth){return this.refTypeCheck.is(e,i,!1)}isAssignable(e,i=this.defaultCheckDepth){return this.refTypeCheck.is(e,i,!0)}mergePartial(e,i){H(this,e,i)}fromBinary(e,i){let n=W_(i);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,i){return this.internalJsonRead(e,em(i))}fromJsonString(e,i){let n=JSON.parse(e);return this.fromJson(n,i)}toJson(e,i){return this.internalJsonWrite(e,vl(i))}toJsonString(e,i){var n;let o=this.toJson(e,i);return JSON.stringify(o,null,(n=i?.prettySpaces)!==null&&n!==void 0?n:0)}toBinary(e,i){let n=U_(i);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,i,n){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){let o=n??this.create();return this.refJsonReader.read(e,o,i),o}throw new Error(`Unable to parse message ${this.typeName} from JSON ${ys(e)}.`)}internalJsonWrite(e,i){return this.refJsonWriter.write(e,i)}internalBinaryWrite(e,i,n){return this.refBinWriter.write(e,i,n),i}internalBinaryRead(e,i,n,o){let s=o??this.create();return this.refBinReader.read(e,s,n,i),s}};var im=class extends z{constructor(){super("google.protobuf.Empty",[])}create(e){let i=globalThis.Object.create(this.messagePrototype);return e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){return o??this.create()}internalBinaryWrite(e,i,n){let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Mr=new im;function J_(t,e){var i,n,o;let s=t;return s.service=e,s.localName=(i=s.localName)!==null&&i!==void 0?i:kr(s.name),s.serverStreaming=!!s.serverStreaming,s.clientStreaming=!!s.clientStreaming,s.options=(n=s.options)!==null&&n!==void 0?n:{},s.idempotency=(o=s.idempotency)!==null&&o!==void 0?o:void 0,s}var bl=class{constructor(e,i,n){this.typeName=e,this.methods=i.map(o=>J_(o,this)),this.options=n??{}}};var rt=class extends Error{constructor(e,i="UNKNOWN",n){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=i,this.meta=n??{}}toString(){let e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let i=Object.entries(this.meta);if(i.length){e.push(""),e.push("Meta:");for(let[n,o]of i)e.push(`  ${n}: ${o}`)}return e.join(`
`)}};function nm(t,e){if(!e)return t;let i={};Xd(t,i),Xd(e,i);for(let n of Object.keys(e)){let o=e[n];switch(n){case"jsonOptions":i.jsonOptions=tm(t.jsonOptions,i.jsonOptions);break;case"binaryOptions":i.binaryOptions=qf(t.binaryOptions,i.binaryOptions);break;case"meta":i.meta={},Xd(t.meta,i.meta),Xd(e.meta,i.meta);break;case"interceptors":i.interceptors=t.interceptors?t.interceptors.concat(o):o.concat();break}}return i}function Xd(t,e){if(!t)return;let i=e;for(let[n,o]of Object.entries(t))o instanceof Date?i[n]=new Date(o.getTime()):Array.isArray(o)?i[n]=o.concat():i[n]=o}var Li=function(t){return t[t.PENDING=0]="PENDING",t[t.REJECTED=1]="REJECTED",t[t.RESOLVED=2]="RESOLVED",t}(Li||{}),Bi=class{constructor(e=!0){this._state=Li.PENDING,this._promise=new Promise((i,n)=>{this._resolve=i,this._reject=n}),e&&this._promise.catch(i=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==Li.PENDING)throw new Error(`cannot resolve ${Li[this.state].toLowerCase()}`);this._resolve(e),this._state=Li.RESOLVED}reject(e){if(this.state!==Li.PENDING)throw new Error(`cannot reject ${Li[this.state].toLowerCase()}`);this._reject(e),this._state=Li.REJECTED}resolvePending(e){this._state===Li.PENDING&&this.resolve(e)}rejectPending(e){this._state===Li.PENDING&&this.reject(e)}};var yl=class{constructor(){this._lis={nxt:[],msg:[],err:[],cmp:[]},this._closed=!1}onNext(e){return this.addLis(e,this._lis.nxt)}onMessage(e){return this.addLis(e,this._lis.msg)}onError(e){return this.addLis(e,this._lis.err)}onComplete(e){return this.addLis(e,this._lis.cmp)}addLis(e,i){return i.push(e),()=>{let n=i.indexOf(e);n>=0&&i.splice(n,1)}}clearLis(){for(let e of Object.values(this._lis))e.splice(0,e.length)}get closed(){return this._closed!==!1}notifyNext(e,i,n){He((e?1:0)+(i?1:0)+(n?1:0)<=1,"only one emission at a time"),e&&this.notifyMessage(e),i&&this.notifyError(i),n&&this.notifyComplete()}notifyMessage(e){He(!this.closed,"stream is closed"),this.pushIt({value:e,done:!1}),this._lis.msg.forEach(i=>i(e)),this._lis.nxt.forEach(i=>i(e,void 0,!1))}notifyError(e){He(!this.closed,"stream is closed"),this._closed=e,this.pushIt(e),this._lis.err.forEach(i=>i(e)),this._lis.nxt.forEach(i=>i(void 0,e,!1)),this.clearLis()}notifyComplete(){He(!this.closed,"stream is closed"),this._closed=!0,this.pushIt({value:null,done:!0}),this._lis.cmp.forEach(e=>e()),this._lis.nxt.forEach(e=>e(void 0,void 0,!0)),this.clearLis()}[Symbol.asyncIterator](){return this._itState||(this._itState={q:[]}),this._closed===!0?this.pushIt({value:null,done:!0}):this._closed!==!1&&this.pushIt(this._closed),{next:()=>{let e=this._itState;He(e,"bad state"),He(!e.p,"iterator contract broken");let i=e.q.shift();return i?"value"in i?Promise.resolve(i):Promise.reject(i):(e.p=new Bi,e.p.promise)}}}pushIt(e){let i=this._itState;if(i)if(i.p){let n=i.p;He(n.state==Li.PENDING,"iterator contract broken"),"value"in e?n.resolve(e):n.reject(e),delete i.p}else i.q.push(e)}};var TP=function(t,e,i,n){function o(s){return s instanceof i?s:new i(function(r){r(s)})}return new(i||(i=Promise))(function(s,r){function a(d){try{c(n.next(d))}catch(u){r(u)}}function l(d){try{c(n.throw(d))}catch(u){r(u)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})},wl=class{constructor(e,i,n,o,s,r,a){this.method=e,this.requestHeaders=i,this.request=n,this.headers=o,this.response=s,this.status=r,this.trailers=a}then(e,i){return this.promiseFinished().then(n=>e?Promise.resolve(e(n)):n,n=>i?Promise.resolve(i(n)):Promise.reject(n))}promiseFinished(){return TP(this,void 0,void 0,function*(){let[e,i,n,o]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:i,status:n,trailers:o}})}};var IP=function(t,e,i,n){function o(s){return s instanceof i?s:new i(function(r){r(s)})}return new(i||(i=Promise))(function(s,r){function a(d){try{c(n.next(d))}catch(u){r(u)}}function l(d){try{c(n.throw(d))}catch(u){r(u)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})},_l=class{constructor(e,i,n,o,s,r,a){this.method=e,this.requestHeaders=i,this.request=n,this.headers=o,this.responses=s,this.status=r,this.trailers=a}then(e,i){return this.promiseFinished().then(n=>e?Promise.resolve(e(n)):n,n=>i?Promise.resolve(i(n)):Promise.reject(n))}promiseFinished(){return IP(this,void 0,void 0,function*(){let[e,i,n]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,status:i,trailers:n}})}};function Oo(t,e,i,n,o){var s,r,a,l;if(t=="unary"){let c=(d,u,p)=>e.unary(d,u,p);for(let d of((s=n.interceptors)!==null&&s!==void 0?s:[]).filter(u=>u.interceptUnary).reverse()){let u=c;c=(p,m,y)=>d.interceptUnary(u,p,m,y)}return c(i,o,n)}if(t=="serverStreaming"){let c=(d,u,p)=>e.serverStreaming(d,u,p);for(let d of((r=n.interceptors)!==null&&r!==void 0?r:[]).filter(u=>u.interceptServerStreaming).reverse()){let u=c;c=(p,m,y)=>d.interceptServerStreaming(u,p,m,y)}return c(i,o,n)}if(t=="clientStreaming"){let c=(d,u)=>e.clientStreaming(d,u);for(let d of((a=n.interceptors)!==null&&a!==void 0?a:[]).filter(u=>u.interceptClientStreaming).reverse()){let u=c;c=(p,m)=>d.interceptClientStreaming(u,p,m)}return c(i,n)}if(t=="duplex"){let c=(d,u)=>e.duplex(d,u);for(let d of((l=n.interceptors)!==null&&l!==void 0?l:[]).filter(u=>u.interceptDuplex).reverse()){let u=c;c=(p,m)=>d.interceptDuplex(u,p,m)}return c(i,n)}Zf(t)}var om=class extends z{constructor(){super("google.protobuf.Any",[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}])}pack(e,i){return{typeUrl:this.typeNameToUrl(i.typeName),value:i.toBinary(e)}}unpack(e,i,n){if(!this.contains(e,i))throw new Error("Cannot unpack google.protobuf.Any with typeUrl '"+e.typeUrl+"' as "+i.typeName+".");return i.fromBinary(e.value,n)}contains(e,i){if(!e.typeUrl.length)return!1;let n=typeof i=="string"?i:i.typeName,o=this.typeUrlToName(e.typeUrl);return n===o}internalJsonWrite(e,i){if(e.typeUrl==="")return{};let n=this.typeUrlToName(e.typeUrl),o=vl(i),s=o.typeRegistry?.find(l=>l.typeName===n);if(!s)throw new globalThis.Error("Unable to convert google.protobuf.Any with typeUrl '"+e.typeUrl+"' to JSON. The specified type "+n+" is not available in the type registry.");let r=s.fromBinary(e.value,{readUnknownField:!1}),a=s.internalJsonWrite(r,o);return(n.startsWith("google.protobuf.")||!Ir(a))&&(a={value:a}),a["@type"]=e.typeUrl,a}internalJsonRead(e,i,n){if(!Ir(e))throw new globalThis.Error("Unable to parse google.protobuf.Any from JSON "+ys(e)+".");if(typeof e["@type"]!="string"||e["@type"]=="")return this.create();let o=this.typeUrlToName(e["@type"]),s=i?.typeRegistry?.find(a=>a.typeName==o);if(!s)throw new globalThis.Error("Unable to parse google.protobuf.Any from JSON. The specified type "+o+" is not available in the type registry.");let r;if(o.startsWith("google.protobuf.")&&e.hasOwnProperty("value"))r=s.fromJson(e.value,i);else{let a=Object.assign({},e);delete a["@type"],r=s.fromJson(a,i)}return n===void 0&&(n=this.create()),n.typeUrl=e["@type"],n.value=s.toBinary(r),n}typeNameToUrl(e){if(!e.length)throw new Error("invalid type name: "+e);return"type.googleapis.com/"+e}typeUrlToName(e){if(!e.length)throw new Error("invalid type url: "+e);let i=e.lastIndexOf("/"),n=i>0?e.substring(i+1):e;if(!n.length)throw new Error("invalid type url: "+e);return n}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.typeUrl="",i.value=new Uint8Array(0),e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.typeUrl=e.string();break;case 2:s.value=e.bytes();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.typeUrl!==""&&i.tag(1,C.LengthDelimited).string(e.typeUrl),e.value.length&&i.tag(2,C.LengthDelimited).bytes(e.value);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},We=new om;var sm=class extends z{constructor(){super("ConnectMessage",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:2,name:"AppServerAddress",kind:"scalar",jsonName:"AppServerAddress",T:9},{no:3,name:"IsAnalyzer",kind:"scalar",jsonName:"IsAnalyzer",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",i.appServerAddress="",i.isAnalyzer=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 2:s.appServerAddress=e.string();break;case 3:s.isAnalyzer=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.appServerAddress!==""&&i.tag(2,C.LengthDelimited).string(e.appServerAddress),e.isAnalyzer!==!1&&i.tag(3,C.Varint).bool(e.isAnalyzer);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},cm=new sm,rm=class extends z{constructor(){super("ConnectionStatus",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:2,name:"IsConnected",kind:"scalar",jsonName:"IsConnected",T:8},{no:3,name:"IsSessionResumed",kind:"scalar",jsonName:"IsSessionResumed",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",i.isConnected=!1,i.isSessionResumed=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 2:s.isConnected=e.bool();break;case 3:s.isSessionResumed=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.isConnected!==!1&&i.tag(2,C.Varint).bool(e.isConnected),e.isSessionResumed!==!1&&i.tag(3,C.Varint).bool(e.isSessionResumed);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},kP=new rm,am=class extends z{constructor(){super("MessageWrapper",[{no:1,name:"Message",kind:"message",jsonName:"Message",T:()=>We}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.message=We.internalBinaryRead(e,e.uint32(),n,s.message);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.message&&We.internalBinaryWrite(e.message,i.tag(1,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},oi=new am,lm=class extends z{constructor(){super("ResponseMessageWrapper",[{no:1,name:"ResponseMessage",kind:"message",jsonName:"ResponseMessage",T:()=>We}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.responseMessage=We.internalBinaryRead(e,e.uint32(),n,s.responseMessage);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.responseMessage&&We.internalBinaryWrite(e.responseMessage,i.tag(1,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},MP=new lm,Yd=new bl("ProtoService",[{name:"Connect",options:{},I:cm,O:kP},{name:"Disconnect",options:{},I:Mr,O:Mr},{name:"SendMessage",options:{},I:oi,O:Mr},{name:"Request",options:{},I:oi,O:MP},{name:"RequestEventStream",serverStreaming:!0,options:{},I:Mr,O:oi},{name:"RequestEvent",options:{},I:Mr,O:oi}]);var jm=(r=>(r[r.Auto=0]="Auto",r[r.Pattern=1]="Pattern",r[r.Protocol=2]="Protocol",r[r.Timing=3]="Timing",r[r.Message=4]="Message",r[r.Advanced=5]="Advanced",r))(jm||{}),Qd=(i=>(i[i.UI=0]="UI",i[i.CaptureService=1]="CaptureService",i))(Qd||{}),xl=(u=>(u[u.SystemStates_Waiting=0]="SystemStates_Waiting",u[u.Ready=1]="Ready",u[u.Setup=2]="Setup",u[u.SetupDevice=3]="SetupDevice",u[u.InitializeRun=4]="InitializeRun",u[u.StartRun=5]="StartRun",u[u.StopRun=6]="StopRun",u[u.RunCompleted=7]="RunCompleted",u[u.TerminateRun=8]="TerminateRun",u[u.SaveRun=9]="SaveRun",u[u.CleanupRun=10]="CleanupRun",u))(xl||{}),No=(Z=>(Z[Z.Ch1=0]="Ch1",Z[Z.Ch2=1]="Ch2",Z[Z.Ch3=2]="Ch3",Z[Z.Ch4=3]="Ch4",Z[Z.Ch5=4]="Ch5",Z[Z.Ch6=5]="Ch6",Z[Z.Ch7=6]="Ch7",Z[Z.Ch8=7]="Ch8",Z[Z.Ch9=8]="Ch9",Z[Z.Ch10=9]="Ch10",Z[Z.Ch11=10]="Ch11",Z[Z.Ch12=11]="Ch12",Z[Z.Ch13=12]="Ch13",Z[Z.Ch14=13]="Ch14",Z[Z.Ch15=14]="Ch15",Z[Z.Ch16=15]="Ch16",Z[Z.Ch17=16]="Ch17",Z[Z.Ch18=17]="Ch18",Z[Z.Ch19=18]="Ch19",Z[Z.Ch20=19]="Ch20",Z[Z.Ch21=20]="Ch21",Z[Z.Ch22=21]="Ch22",Z[Z.Ch23=22]="Ch23",Z[Z.Ch24=23]="Ch24",Z[Z.Channels_Invalid=-1]="Channels_Invalid",Z))(No||{}),Yn=(r=>(r[r._1_0V=0]="_1_0V",r[r._1_2V=1]="_1_2V",r[r._1_8V=2]="_1_8V",r[r._2_5V=3]="_2_5V",r[r._3_3V=4]="_3_3V",r[r._5_0V=5]="_5_0V",r))(Yn||{}),$m=(l=>(l[l.SR_125=0]="SR_125",l[l.SR_142=1]="SR_142",l[l.SR_166=2]="SR_166",l[l.SR_200=3]="SR_200",l[l.SR_250=4]="SR_250",l[l.SR_333=5]="SR_333",l[l.SR_500=6]="SR_500",l[l.SR_1000=7]="SR_1000",l))($m||{}),e0=(o=>(o[o.Analyzer=0]="Analyzer",o[o.Exerciser=1]="Exerciser",o[o.ScopeBased=2]="ScopeBased",o[o.SoftWareType_Invalid=-1]="SoftWareType_Invalid",o))(e0||{}),hm=class extends z{constructor(){super("CommonTypes.MessageInterval",[{no:1,name:"StartTime",kind:"scalar",jsonName:"StartTime",T:1},{no:2,name:"EndTime",kind:"scalar",jsonName:"EndTime",T:1}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.startTime=0,i.endTime=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.startTime=e.double();break;case 2:s.endTime=e.double();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.startTime!==0&&i.tag(1,C.Bit64).double(e.startTime),e.endTime!==0&&i.tag(2,C.Bit64).double(e.endTime);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},qe=new hm,pm=class extends z{constructor(){super("CommonTypes.TimeBasedDataSubset",[{no:1,name:"StartTime",kind:"scalar",jsonName:"StartTime",T:1},{no:2,name:"EndTime",kind:"scalar",jsonName:"EndTime",T:1}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.startTime=0,i.endTime=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.startTime=e.double();break;case 2:s.endTime=e.double();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.startTime!==0&&i.tag(1,C.Bit64).double(e.startTime),e.endTime!==0&&i.tag(2,C.Bit64).double(e.endTime);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Zd=new pm,fm=class extends z{constructor(){super("CommonTypes.IndexBasedDataSubset",[{no:1,name:"Offset",kind:"scalar",jsonName:"Offset",T:3,L:0},{no:2,name:"Count",kind:"scalar",jsonName:"Count",T:3,L:0}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.offset=0n,i.count=0n,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.offset=e.int64().toBigInt();break;case 2:s.count=e.int64().toBigInt();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.offset!==0n&&i.tag(1,C.Varint).int64(e.offset),e.count!==0n&&i.tag(2,C.Varint).int64(e.count);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Jd=new fm,mm=class extends z{constructor(){super("CommonTypes.SuccessResponse",[{no:1,name:"success",kind:"scalar",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.success=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.success=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.success!==!1&&i.tag(1,C.Varint).bool(e.success);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},f$=new mm,gm=class extends z{constructor(){super("CommonTypes.DeviceInfo",[{no:1,name:"Name",kind:"scalar",jsonName:"Name",T:9},{no:2,name:"Address",kind:"scalar",jsonName:"Address",T:9},{no:3,name:"Description",kind:"scalar",jsonName:"Description",T:9},{no:4,name:"HardwareVersion",kind:"scalar",jsonName:"HardwareVersion",T:5},{no:5,name:"FPGA_Version",kind:"scalar",jsonName:"FPGAVersion",T:5},{no:6,name:"CTS_Status",kind:"scalar",jsonName:"CTSStatus",T:8},{no:7,name:"DeviceProgBoard",kind:"scalar",jsonName:"DeviceProgBoard",T:8},{no:8,name:"MctpEnable",kind:"scalar",jsonName:"MctpEnable",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.name="",i.address="",i.description="",i.hardwareVersion=0,i.fPGAVersion=0,i.cTSStatus=!1,i.deviceProgBoard=!1,i.mctpEnable=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.name=e.string();break;case 2:s.address=e.string();break;case 3:s.description=e.string();break;case 4:s.hardwareVersion=e.int32();break;case 5:s.fPGAVersion=e.int32();break;case 6:s.cTSStatus=e.bool();break;case 7:s.deviceProgBoard=e.bool();break;case 8:s.mctpEnable=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.name!==""&&i.tag(1,C.LengthDelimited).string(e.name),e.address!==""&&i.tag(2,C.LengthDelimited).string(e.address),e.description!==""&&i.tag(3,C.LengthDelimited).string(e.description),e.hardwareVersion!==0&&i.tag(4,C.Varint).int32(e.hardwareVersion),e.fPGAVersion!==0&&i.tag(5,C.Varint).int32(e.fPGAVersion),e.cTSStatus!==!1&&i.tag(6,C.Varint).bool(e.cTSStatus),e.deviceProgBoard!==!1&&i.tag(7,C.Varint).bool(e.deviceProgBoard),e.mctpEnable!==!1&&i.tag(8,C.Varint).bool(e.mctpEnable);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Vi=new gm,vm=class extends z{constructor(){super("CommonTypes.SetupSystemMessage",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:2,name:"Configuration",kind:"message",jsonName:"Configuration",T:()=>Rl},{no:3,name:"CaptureServiceName",kind:"scalar",jsonName:"CaptureServiceName",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",i.captureServiceName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 2:s.configuration=Rl.internalBinaryRead(e,e.uint32(),n,s.configuration);break;case 3:s.captureServiceName=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.configuration&&Rl.internalBinaryWrite(e.configuration,i.tag(2,C.LengthDelimited).fork(),n).join(),e.captureServiceName!==""&&i.tag(3,C.LengthDelimited).string(e.captureServiceName);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Km=new vm,Cm=class extends z{constructor(){super("CommonTypes.SetupDeviceMessage",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:3,name:"SelectedDevice",kind:"message",jsonName:"SelectedDevice",T:()=>Vi}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 3:s.selectedDevice=Vi.internalBinaryRead(e,e.uint32(),n,s.selectedDevice);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.selectedDevice&&Vi.internalBinaryWrite(e.selectedDevice,i.tag(3,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},qm=new Cm,bm=class extends z{constructor(){super("CommonTypes.InitializeRunMessage",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:2,name:"RunId",kind:"scalar",jsonName:"RunId",T:13},{no:3,name:"Live",kind:"scalar",jsonName:"Live",oneof:"dataSource",T:8},{no:4,name:"DatFilePath",kind:"scalar",jsonName:"DatFilePath",oneof:"dataSource",T:9},{no:5,name:"BinFilePath",kind:"scalar",jsonName:"BinFilePath",oneof:"dataSource",T:9},{no:6,name:"Configuration",kind:"message",jsonName:"Configuration",T:()=>Pr}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",i.runId=0,i.dataSource={oneofKind:void 0},e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 2:s.runId=e.uint32();break;case 3:s.dataSource={oneofKind:"live",live:e.bool()};break;case 4:s.dataSource={oneofKind:"datFilePath",datFilePath:e.string()};break;case 5:s.dataSource={oneofKind:"binFilePath",binFilePath:e.string()};break;case 6:s.configuration=Pr.internalBinaryRead(e,e.uint32(),n,s.configuration);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.runId!==0&&i.tag(2,C.Varint).uint32(e.runId),e.dataSource.oneofKind==="live"&&i.tag(3,C.Varint).bool(e.dataSource.live),e.dataSource.oneofKind==="datFilePath"&&i.tag(4,C.LengthDelimited).string(e.dataSource.datFilePath),e.dataSource.oneofKind==="binFilePath"&&i.tag(5,C.LengthDelimited).string(e.dataSource.binFilePath),e.configuration&&Pr.internalBinaryWrite(e.configuration,i.tag(6,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},El=new bm,ym=class extends z{constructor(){super("CommonTypes.StartRunMessage",[{no:1,name:"RunId",kind:"scalar",jsonName:"RunId",T:13}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.runId=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.runId=e.uint32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.runId!==0&&i.tag(1,C.Varint).uint32(e.runId);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},eu=new ym,wm=class extends z{constructor(){super("CommonTypes.StopRunMessage",[{no:1,name:"RunId",kind:"scalar",jsonName:"RunId",T:13}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.runId=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.runId=e.uint32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.runId!==0&&i.tag(1,C.Varint).uint32(e.runId);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},t0=new wm,_m=class extends z{constructor(){super("CommonTypes.RunCompletedMessage",[{no:1,name:"RunId",kind:"scalar",jsonName:"RunId",T:13}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.runId=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.runId=e.uint32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.runId!==0&&i.tag(1,C.Varint).uint32(e.runId);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},m$=new _m,Sm=class extends z{constructor(){super("CommonTypes.TerminateRunMessage",[{no:1,name:"RunId",kind:"scalar",jsonName:"RunId",T:13}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.runId=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.runId=e.uint32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.runId!==0&&i.tag(1,C.Varint).uint32(e.runId);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},g$=new Sm,Rm=class extends z{constructor(){super("CommonTypes.SaveRunMessage",[{no:1,name:"RunId",kind:"scalar",jsonName:"RunId",T:13},{no:2,name:"FilePath",kind:"scalar",jsonName:"FilePath",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.runId=0,i.filePath="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.runId=e.uint32();break;case 2:s.filePath=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.runId!==0&&i.tag(1,C.Varint).uint32(e.runId),e.filePath!==""&&i.tag(2,C.LengthDelimited).string(e.filePath);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},v$=new Rm,xm=class extends z{constructor(){super("CommonTypes.CleanupRunMessage",[{no:1,name:"RunId",kind:"scalar",jsonName:"RunId",T:13}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.runId=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.runId=e.uint32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.runId!==0&&i.tag(1,C.Varint).uint32(e.runId);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},C$=new xm,Em=class extends z{constructor(){super("CommonTypes.StateChangeAcceptance",[{no:1,name:"Accepted",kind:"scalar",jsonName:"Accepted",T:8},{no:2,name:"State",kind:"enum",jsonName:"State",T:()=>["CommonTypes.SystemStates",xl]}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.accepted=!1,i.state=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.accepted=e.bool();break;case 2:s.state=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.accepted!==!1&&i.tag(1,C.Varint).bool(e.accepted),e.state!==0&&i.tag(2,C.Varint).int32(e.state);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},b$=new Em,Dm=class extends z{constructor(){super("CommonTypes.RunConfiguration",[{no:1,name:"ConnectedChannels",kind:"enum",jsonName:"ConnectedChannels",repeat:1,T:()=>["CommonTypes.Channels",No]},{no:2,name:"ProtocolConfigurations",kind:"message",jsonName:"ProtocolConfigurations",repeat:1,T:()=>Ar},{no:3,name:"TriggerConfiguration",kind:"message",jsonName:"TriggerConfiguration",T:()=>Sl},{no:4,name:"SelectedVoltage",kind:"message",jsonName:"SelectedVoltage",T:()=>dm},{no:5,name:"SelectedSampleRate",kind:"enum",jsonName:"SelectedSampleRate",T:()=>["CommonTypes.SampleRate",$m]}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.connectedChannels=[],i.protocolConfigurations=[],i.selectedSampleRate=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:if(l===C.LengthDelimited)for(let u=e.int32()+e.pos;e.pos<u;)s.connectedChannels.push(e.int32());else s.connectedChannels.push(e.int32());break;case 2:s.protocolConfigurations.push(Ar.internalBinaryRead(e,e.uint32(),n));break;case 3:s.triggerConfiguration=Sl.internalBinaryRead(e,e.uint32(),n,s.triggerConfiguration);break;case 4:s.selectedVoltage=dm.internalBinaryRead(e,e.uint32(),n,s.selectedVoltage);break;case 5:s.selectedSampleRate=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){if(e.connectedChannels.length){i.tag(1,C.LengthDelimited).fork();for(let s=0;s<e.connectedChannels.length;s++)i.int32(e.connectedChannels[s]);i.join()}for(let s=0;s<e.protocolConfigurations.length;s++)Ar.internalBinaryWrite(e.protocolConfigurations[s],i.tag(2,C.LengthDelimited).fork(),n).join();e.triggerConfiguration&&Sl.internalBinaryWrite(e.triggerConfiguration,i.tag(3,C.LengthDelimited).fork(),n).join(),e.selectedVoltage&&dm.internalBinaryWrite(e.selectedVoltage,i.tag(4,C.LengthDelimited).fork(),n).join(),e.selectedSampleRate!==0&&i.tag(5,C.Varint).int32(e.selectedSampleRate);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Pr=new Dm,Tm=class extends z{constructor(){super("CommonTypes.VolatgeSelectedForChannel",[{no:1,name:"SingnalAMp_CH1_CH2",kind:"enum",jsonName:"SingnalAMpCH1CH2",T:()=>["CommonTypes.VoltageList",Yn]},{no:2,name:"SingnalAMp_CH3_CH4",kind:"enum",jsonName:"SingnalAMpCH3CH4",T:()=>["CommonTypes.VoltageList",Yn]},{no:3,name:"SingnalAMp_CH5_CH6",kind:"enum",jsonName:"SingnalAMpCH5CH6",T:()=>["CommonTypes.VoltageList",Yn]},{no:4,name:"SingnalAMp_CH7_CH8",kind:"enum",jsonName:"SingnalAMpCH7CH8",T:()=>["CommonTypes.VoltageList",Yn]},{no:5,name:"SingnalAMp_CH9_CH10",kind:"enum",jsonName:"SingnalAMpCH9CH10",T:()=>["CommonTypes.VoltageList",Yn]},{no:6,name:"SingnalAMp_CH11_CH12",kind:"enum",jsonName:"SingnalAMpCH11CH12",T:()=>["CommonTypes.VoltageList",Yn]},{no:7,name:"SingnalAMp_CH13_CH14",kind:"enum",jsonName:"SingnalAMpCH13CH14",T:()=>["CommonTypes.VoltageList",Yn]},{no:8,name:"SingnalAMp_CH15_CH16",kind:"enum",jsonName:"SingnalAMpCH15CH16",T:()=>["CommonTypes.VoltageList",Yn]}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.singnalAMpCH1CH2=0,i.singnalAMpCH3CH4=0,i.singnalAMpCH5CH6=0,i.singnalAMpCH7CH8=0,i.singnalAMpCH9CH10=0,i.singnalAMpCH11CH12=0,i.singnalAMpCH13CH14=0,i.singnalAMpCH15CH16=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.singnalAMpCH1CH2=e.int32();break;case 2:s.singnalAMpCH3CH4=e.int32();break;case 3:s.singnalAMpCH5CH6=e.int32();break;case 4:s.singnalAMpCH7CH8=e.int32();break;case 5:s.singnalAMpCH9CH10=e.int32();break;case 6:s.singnalAMpCH11CH12=e.int32();break;case 7:s.singnalAMpCH13CH14=e.int32();break;case 8:s.singnalAMpCH15CH16=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.singnalAMpCH1CH2!==0&&i.tag(1,C.Varint).int32(e.singnalAMpCH1CH2),e.singnalAMpCH3CH4!==0&&i.tag(2,C.Varint).int32(e.singnalAMpCH3CH4),e.singnalAMpCH5CH6!==0&&i.tag(3,C.Varint).int32(e.singnalAMpCH5CH6),e.singnalAMpCH7CH8!==0&&i.tag(4,C.Varint).int32(e.singnalAMpCH7CH8),e.singnalAMpCH9CH10!==0&&i.tag(5,C.Varint).int32(e.singnalAMpCH9CH10),e.singnalAMpCH11CH12!==0&&i.tag(6,C.Varint).int32(e.singnalAMpCH11CH12),e.singnalAMpCH13CH14!==0&&i.tag(7,C.Varint).int32(e.singnalAMpCH13CH14),e.singnalAMpCH15CH16!==0&&i.tag(8,C.Varint).int32(e.singnalAMpCH15CH16);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},dm=new Tm,Im=class extends z{constructor(){super("CommonTypes.TriggerConfiguration",[{no:1,name:"ProtocolType",kind:"scalar",jsonName:"ProtocolType",T:9},{no:2,name:"TriggerType",kind:"enum",jsonName:"TriggerType",T:()=>["CommonTypes.TriggerType",jm]},{no:3,name:"Trigger",kind:"message",jsonName:"Trigger",T:()=>We}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolType="",i.triggerType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolType=e.string();break;case 2:s.triggerType=e.int32();break;case 3:s.trigger=We.internalBinaryRead(e,e.uint32(),n,s.trigger);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolType!==""&&i.tag(1,C.LengthDelimited).string(e.protocolType),e.triggerType!==0&&i.tag(2,C.Varint).int32(e.triggerType),e.trigger&&We.internalBinaryWrite(e.trigger,i.tag(3,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Sl=new Im,km=class extends z{constructor(){super("CommonTypes.ProcessConfiguration",[{no:1,name:"UseCompression",kind:"scalar",jsonName:"UseCompression",T:8},{no:2,name:"RawDataProcessorConcurrency",kind:"scalar",jsonName:"RawDataProcessorConcurrency",T:5},{no:3,name:"WaveformProcessorConcurrency",kind:"scalar",jsonName:"WaveformProcessorConcurrency",T:5},{no:4,name:"EdgeProcessorConcurrency",kind:"scalar",jsonName:"EdgeProcessorConcurrency",T:5}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.useCompression=!1,i.rawDataProcessorConcurrency=0,i.waveformProcessorConcurrency=0,i.edgeProcessorConcurrency=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.useCompression=e.bool();break;case 2:s.rawDataProcessorConcurrency=e.int32();break;case 3:s.waveformProcessorConcurrency=e.int32();break;case 4:s.edgeProcessorConcurrency=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.useCompression!==!1&&i.tag(1,C.Varint).bool(e.useCompression),e.rawDataProcessorConcurrency!==0&&i.tag(2,C.Varint).int32(e.rawDataProcessorConcurrency),e.waveformProcessorConcurrency!==0&&i.tag(3,C.Varint).int32(e.waveformProcessorConcurrency),e.edgeProcessorConcurrency!==0&&i.tag(4,C.Varint).int32(e.edgeProcessorConcurrency);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Rl=new km,Mm=class extends z{constructor(){super("CommonTypes.SystemStatusUpdate",[{no:1,name:"CurrentState",kind:"enum",jsonName:"CurrentState",T:()=>["CommonTypes.SystemStates",xl]},{no:2,name:"TargetState",kind:"enum",jsonName:"TargetState",T:()=>["CommonTypes.SystemStates",xl]},{no:3,name:"Reason",kind:"scalar",jsonName:"Reason",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.currentState=0,i.targetState=0,i.reason="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.currentState=e.int32();break;case 2:s.targetState=e.int32();break;case 3:s.reason=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.currentState!==0&&i.tag(1,C.Varint).int32(e.currentState),e.targetState!==0&&i.tag(2,C.Varint).int32(e.targetState),e.reason!==""&&i.tag(3,C.LengthDelimited).string(e.reason);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},tu=new Mm,Pm=class extends z{constructor(){super("CommonTypes.SessionBegin",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:2,name:"ClientType",kind:"enum",jsonName:"ClientType",T:()=>["CommonTypes.ClientType",Qd]},{no:3,name:"SoftWareType",kind:"enum",jsonName:"SoftWareType",T:()=>["CommonTypes.SoftWareType",e0]}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",i.clientType=0,i.softWareType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 2:s.clientType=e.int32();break;case 3:s.softWareType=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.clientType!==0&&i.tag(2,C.Varint).int32(e.clientType),e.softWareType!==0&&i.tag(3,C.Varint).int32(e.softWareType);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},y$=new Pm,Am=class extends z{constructor(){super("CommonTypes.SessionEnd",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:2,name:"ClientType",kind:"enum",jsonName:"ClientType",T:()=>["CommonTypes.ClientType",Qd]}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",i.clientType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 2:s.clientType=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.clientType!==0&&i.tag(2,C.Varint).int32(e.clientType);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},w$=new Am,Fm=class extends z{constructor(){super("CommonTypes.SessionStatus",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:2,name:"Connected",kind:"scalar",jsonName:"Connected",T:8},{no:3,name:"Address",kind:"scalar",jsonName:"Address",T:9},{no:4,name:"Id",kind:"scalar",jsonName:"Id",T:9},{no:5,name:"ClientType",kind:"enum",jsonName:"ClientType",T:()=>["CommonTypes.ClientType",Qd]}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",i.connected=!1,i.address="",i.id="",i.clientType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 2:s.connected=e.bool();break;case 3:s.address=e.string();break;case 4:s.id=e.string();break;case 5:s.clientType=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.connected!==!1&&i.tag(2,C.Varint).bool(e.connected),e.address!==""&&i.tag(3,C.LengthDelimited).string(e.address),e.id!==""&&i.tag(4,C.LengthDelimited).string(e.id),e.clientType!==0&&i.tag(5,C.Varint).int32(e.clientType);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},_$=new Fm,Om=class extends z{constructor(){super("CommonTypes.RequestRemoteEvents",[{no:1,name:"ClientName",kind:"scalar",jsonName:"ClientName",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.clientName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.clientName=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.clientName!==""&&i.tag(1,C.LengthDelimited).string(e.clientName);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},S$=new Om,Nm=class extends z{constructor(){super("CommonTypes.RemoteEventsResponse",[{no:1,name:"ClientName",kind:"scalar",jsonName:"ClientName",T:9},{no:2,name:"Connected",kind:"scalar",jsonName:"Connected",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.clientName="",i.connected=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.clientName=e.string();break;case 2:s.connected=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.clientName!==""&&i.tag(1,C.LengthDelimited).string(e.clientName),e.connected!==!1&&i.tag(2,C.Varint).bool(e.connected);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},R$=new Nm,Lm=class extends z{constructor(){super("CommonTypes.EventStreamMessage",[{no:1,name:"UserName",kind:"scalar",jsonName:"UserName",T:9},{no:2,name:"Message",kind:"message",jsonName:"Message",T:()=>We}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.userName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.userName=e.string();break;case 2:s.message=We.internalBinaryRead(e,e.uint32(),n,s.message);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.userName!==""&&i.tag(1,C.LengthDelimited).string(e.userName),e.message&&We.internalBinaryWrite(e.message,i.tag(2,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},x$=new Lm,Bm=class extends z{constructor(){super("CommonTypes.ProtocolConfiguration",[{no:1,name:"ProtocolType",kind:"scalar",jsonName:"ProtocolType",T:9},{no:2,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9},{no:3,name:"Configuration",kind:"message",jsonName:"Configuration",T:()=>We}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolType="",i.protocolName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolType=e.string();break;case 2:s.protocolName=e.string();break;case 3:s.configuration=We.internalBinaryRead(e,e.uint32(),n,s.configuration);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolType!==""&&i.tag(1,C.LengthDelimited).string(e.protocolType),e.protocolName!==""&&i.tag(2,C.LengthDelimited).string(e.protocolName),e.configuration&&We.internalBinaryWrite(e.configuration,i.tag(3,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Ar=new Bm,Vm=class extends z{constructor(){super("CommonTypes.EachProtocolInfo",[{no:1,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9},{no:2,name:"ClockChannel",kind:"enum",jsonName:"ClockChannel",T:()=>["CommonTypes.Channels",No]},{no:3,name:"DataChannel",kind:"enum",jsonName:"DataChannel",repeat:1,T:()=>["CommonTypes.Channels",No]}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolName="",i.clockChannel=0,i.dataChannel=[],e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolName=e.string();break;case 2:s.clockChannel=e.int32();break;case 3:if(l===C.LengthDelimited)for(let u=e.int32()+e.pos;e.pos<u;)s.dataChannel.push(e.int32());else s.dataChannel.push(e.int32());break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){if(e.protocolName!==""&&i.tag(1,C.LengthDelimited).string(e.protocolName),e.clockChannel!==0&&i.tag(2,C.Varint).int32(e.clockChannel),e.dataChannel.length){i.tag(3,C.LengthDelimited).fork();for(let s=0;s<e.dataChannel.length;s++)i.int32(e.dataChannel[s]);i.join()}let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},E$=new Vm,Gm=class extends z{constructor(){super("CommonTypes.TriggerConfiguraiton",[{no:1,name:"ProtocolType",kind:"scalar",jsonName:"ProtocolType",T:9},{no:2,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolType="",i.protocolName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolType=e.string();break;case 2:s.protocolName=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolType!==""&&i.tag(1,C.LengthDelimited).string(e.protocolType),e.protocolName!==""&&i.tag(2,C.LengthDelimited).string(e.protocolName);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},D$=new Gm,Wm=class extends z{constructor(){super("CommonTypes.RequestExport",[{no:1,name:"FilePath",kind:"scalar",jsonName:"FilePath",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.filePath="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.filePath=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.filePath!==""&&i.tag(1,C.LengthDelimited).string(e.filePath);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},um=new Wm,Hm=class extends z{constructor(){super("CommonTypes.ExportResponse",[{no:1,name:"Request",kind:"message",jsonName:"Request",T:()=>um},{no:2,name:"Success",kind:"scalar",jsonName:"Success",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.success=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.request=um.internalBinaryRead(e,e.uint32(),n,s.request);break;case 2:s.success=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.request&&um.internalBinaryWrite(e.request,i.tag(1,C.LengthDelimited).fork(),n).join(),e.success!==!1&&i.tag(2,C.Varint).bool(e.success);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},T$=new Hm,Um=class extends z{constructor(){super("CommonTypes.RunningCtsTestCaseMessage",[{no:1,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9},{no:2,name:"Message",kind:"message",jsonName:"Message",T:()=>We}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolName=e.string();break;case 2:s.message=We.internalBinaryRead(e,e.uint32(),n,s.message);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolName!==""&&i.tag(1,C.LengthDelimited).string(e.protocolName),e.message&&We.internalBinaryWrite(e.message,i.tag(2,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},I$=new Um,zm=class extends z{constructor(){super("CommonTypes.RunningCtsTestCaseResponse",[{no:1,name:"Accepted",kind:"scalar",jsonName:"Accepted",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.accepted=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.accepted=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.accepted!==!1&&i.tag(1,C.Varint).bool(e.accepted);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},k$=new zm;var nu=(i=>(i[i.Zero=0]="Zero",i[i.One=1]="One",i))(nu||{}),Lo=(u=>(u[u.Command=0]="Command",u[u.Address=1]="Address",u[u.Data=2]="Data",u[u.PIDDAA=3]="PIDDAA",u[u.HDR_Command=4]="HDR_Command",u[u.HDR_Data=5]="HDR_Data",u[u.HDR_CRC=6]="HDR_CRC",u[u.HDR_Exit=7]="HDR_Exit",u[u.HDR_Restart=8]="HDR_Restart",u[u.Slave_Reset=9]="Slave_Reset",u[u.I3CPacketType_Unknown=10]="I3CPacketType_Unknown",u))(Lo||{}),Ss=(h=>(h[h.Broadcast_ENEC=0]="Broadcast_ENEC",h[h.Broadcast_DISEC=1]="Broadcast_DISEC",h[h.Broadcast_ENTAS0=2]="Broadcast_ENTAS0",h[h.Broadcast_ENTAS1=3]="Broadcast_ENTAS1",h[h.Broadcast_ENTAS2=4]="Broadcast_ENTAS2",h[h.Broadcast_ENTAS3=5]="Broadcast_ENTAS3",h[h.Broadcast_RSTDAA=6]="Broadcast_RSTDAA",h[h.Broadcast_ENTDAA=7]="Broadcast_ENTDAA",h[h.Broadcast_DEFSLVS=8]="Broadcast_DEFSLVS",h[h.Broadcast_SETMWL=9]="Broadcast_SETMWL",h[h.Broadcast_SETMRL=10]="Broadcast_SETMRL",h[h.Broadcast_ENTTM=11]="Broadcast_ENTTM",h[h.Broadcast_SETBUSCON=12]="Broadcast_SETBUSCON",h[h.Broadcast_MIPI_RESERVED_0x0D=13]="Broadcast_MIPI_RESERVED_0x0D",h[h.Broadcast_MIPI_RESERVED_0x0E=14]="Broadcast_MIPI_RESERVED_0x0E",h[h.Broadcast_MIPI_RESERVED_0x0F=15]="Broadcast_MIPI_RESERVED_0x0F",h[h.Broadcast_MIPI_RESERVED_0x10=16]="Broadcast_MIPI_RESERVED_0x10",h[h.Broadcast_MIPI_RESERVED_0x11=17]="Broadcast_MIPI_RESERVED_0x11",h[h.Broadcast_ENDXFER=18]="Broadcast_ENDXFER",h[h.Broadcast_MIPI_RESERVED_0x13=19]="Broadcast_MIPI_RESERVED_0x13",h[h.Broadcast_MIPI_RESERVED_0x14=20]="Broadcast_MIPI_RESERVED_0x14",h[h.Broadcast_MIPI_RESERVED_0x15=21]="Broadcast_MIPI_RESERVED_0x15",h[h.Broadcast_MIPI_RESERVED_0x16=22]="Broadcast_MIPI_RESERVED_0x16",h[h.Broadcast_MIPI_RESERVED_0x17=23]="Broadcast_MIPI_RESERVED_0x17",h[h.Broadcast_MIPI_RESERVED_0x18=24]="Broadcast_MIPI_RESERVED_0x18",h[h.Broadcast_MIPI_RESERVED_0x19=25]="Broadcast_MIPI_RESERVED_0x19",h[h.Broadcast_MIPI_RESERVED_0x1A=26]="Broadcast_MIPI_RESERVED_0x1A",h[h.Broadcast_MIPI_RESERVED_0x1B=27]="Broadcast_MIPI_RESERVED_0x1B",h[h.Broadcast_MIPI_RESERVED_0x1C=28]="Broadcast_MIPI_RESERVED_0x1C",h[h.Broadcast_MIPI_RESERVED_0x1D=29]="Broadcast_MIPI_RESERVED_0x1D",h[h.Broadcast_MIPI_RESERVED_0x1E=30]="Broadcast_MIPI_RESERVED_0x1E",h[h.Broadcast_MIPI_RESERVED_0x1F=31]="Broadcast_MIPI_RESERVED_0x1F",h[h.Broadcast_ENTHDR0=32]="Broadcast_ENTHDR0",h[h.Broadcast_ENTHDR1=33]="Broadcast_ENTHDR1",h[h.Broadcast_ENTHDR2=34]="Broadcast_ENTHDR2",h[h.Broadcast_ENTHDR3=35]="Broadcast_ENTHDR3",h[h.Broadcast_ENTHDR4=36]="Broadcast_ENTHDR4",h[h.Broadcast_ENTHDR5=37]="Broadcast_ENTHDR5",h[h.Broadcast_ENTHDR6=38]="Broadcast_ENTHDR6",h[h.Broadcast_ENTHDR7=39]="Broadcast_ENTHDR7",h[h.Broadcast_SETXTIME=40]="Broadcast_SETXTIME",h[h.Broadcast_SETAASA=41]="Broadcast_SETAASA",h[h.Broadcast_RSTACT=42]="Broadcast_RSTACT",h[h.Broadcast_DEFGRPA=43]="Broadcast_DEFGRPA",h[h.Broadcast_RSTGRPA=44]="Broadcast_RSTGRPA",h[h.Broadcast_MLANE=45]="Broadcast_MLANE",h[h.Broadcast_SENSOR_WG_0X2E=46]="Broadcast_SENSOR_WG_0X2E",h[h.Broadcast_SENSOR_WG_0X2F=47]="Broadcast_SENSOR_WG_0X2F",h[h.Broadcast_SENSOR_WG_0X30=48]="Broadcast_SENSOR_WG_0X30",h[h.Broadcast_SENSOR_WG_0X31=49]="Broadcast_SENSOR_WG_0X31",h[h.Broadcast_SENSOR_WG_0X32=50]="Broadcast_SENSOR_WG_0X32",h[h.Broadcast_SENSOR_WG_0X33=51]="Broadcast_SENSOR_WG_0X33",h[h.Broadcast_SENSOR_WG_0X34=52]="Broadcast_SENSOR_WG_0X34",h[h.Broadcast_SENSOR_WG_0X35=53]="Broadcast_SENSOR_WG_0X35",h[h.Broadcast_SENSOR_WG_0X36=54]="Broadcast_SENSOR_WG_0X36",h[h.Broadcast_SENSOR_WG_0X37=55]="Broadcast_SENSOR_WG_0X37",h[h.Broadcast_SENSOR_WG_0X38=56]="Broadcast_SENSOR_WG_0X38",h[h.Broadcast_SENSOR_WG_0X39=57]="Broadcast_SENSOR_WG_0X39",h[h.Broadcast_SENSOR_WG_0X3A=58]="Broadcast_SENSOR_WG_0X3A",h[h.Broadcast_SENSOR_WG_0X3B=59]="Broadcast_SENSOR_WG_0X3B",h[h.Broadcast_SENSOR_WG_0X3C=60]="Broadcast_SENSOR_WG_0X3C",h[h.Broadcast_SENSOR_WG_0X3D=61]="Broadcast_SENSOR_WG_0X3D",h[h.Broadcast_SENSOR_WG_0X3E=62]="Broadcast_SENSOR_WG_0X3E",h[h.Broadcast_SENSOR_WG_0X3F=63]="Broadcast_SENSOR_WG_0X3F",h[h.Broadcast_SENSOR_WG_0X40=64]="Broadcast_SENSOR_WG_0X40",h[h.Broadcast_SENSOR_WG_0X41=65]="Broadcast_SENSOR_WG_0X41",h[h.Broadcast_SENSOR_WG_0X42=66]="Broadcast_SENSOR_WG_0X42",h[h.Broadcast_SENSOR_WG_0X43=67]="Broadcast_SENSOR_WG_0X43",h[h.Broadcast_SENSOR_WG_0X44=68]="Broadcast_SENSOR_WG_0X44",h[h.Broadcast_SENSOR_WG_0X45=69]="Broadcast_SENSOR_WG_0X45",h[h.Broadcast_SENSOR_WG_0X46=70]="Broadcast_SENSOR_WG_0X46",h[h.Broadcast_SENSOR_WG_0X47=71]="Broadcast_SENSOR_WG_0X47",h[h.Broadcast_SENSOR_WG_0X48=72]="Broadcast_SENSOR_WG_0X48",h[h.Broadcast_NON_SENSOR_WG_0X49=73]="Broadcast_NON_SENSOR_WG_0X49",h[h.Broadcast_NON_SENSOR_WG_0X4A=74]="Broadcast_NON_SENSOR_WG_0X4A",h[h.Broadcast_NON_SENSOR_WG_0X4B=75]="Broadcast_NON_SENSOR_WG_0X4B",h[h.Broadcast_NON_SENSOR_WG_0X4C=76]="Broadcast_NON_SENSOR_WG_0X4C",h[h.Broadcast_NON_SENSOR_WG_0X4D=77]="Broadcast_NON_SENSOR_WG_0X4D",h[h.Broadcast_NON_SENSOR_WG_0X4E=78]="Broadcast_NON_SENSOR_WG_0X4E",h[h.Broadcast_NON_SENSOR_WG_0X4F=79]="Broadcast_NON_SENSOR_WG_0X4F",h[h.Broadcast_NON_SENSOR_WG_0X50=80]="Broadcast_NON_SENSOR_WG_0X50",h[h.Broadcast_NON_SENSOR_WG_0X51=81]="Broadcast_NON_SENSOR_WG_0X51",h[h.Broadcast_NON_SENSOR_WG_0X52=82]="Broadcast_NON_SENSOR_WG_0X52",h[h.Broadcast_NON_SENSOR_WG_0X53=83]="Broadcast_NON_SENSOR_WG_0X53",h[h.Broadcast_NON_SENSOR_WG_0X54=84]="Broadcast_NON_SENSOR_WG_0X54",h[h.Broadcast_NON_SENSOR_WG_0X55=85]="Broadcast_NON_SENSOR_WG_0X55",h[h.Broadcast_NON_SENSOR_WG_0X56=86]="Broadcast_NON_SENSOR_WG_0X56",h[h.Broadcast_NON_SENSOR_WG_0X57=87]="Broadcast_NON_SENSOR_WG_0X57",h[h.Broadcast_DEBUG_WG_0X58=88]="Broadcast_DEBUG_WG_0X58",h[h.Broadcast_DEBUG_WG_0X59=89]="Broadcast_DEBUG_WG_0X59",h[h.Broadcast_DEBUG_WG_0X5A=90]="Broadcast_DEBUG_WG_0X5A",h[h.Broadcast_DEBUG_WG_0X5B=91]="Broadcast_DEBUG_WG_0X5B",h[h.Broadcast_RIO_WG_0X5C=92]="Broadcast_RIO_WG_0X5C",h[h.Broadcast_RIO_WG_0X5D=93]="Broadcast_RIO_WG_0X5D",h[h.Broadcast_RIO_WG_0X5E=94]="Broadcast_RIO_WG_0X5E",h[h.Broadcast_RIO_WG_0X5F=95]="Broadcast_RIO_WG_0X5F",h[h.Broadcast_RIO_WG_0X60=96]="Broadcast_RIO_WG_0X60",h[h.Broadcast_SETHID=97]="Broadcast_SETHID",h[h.Broadcast_DEVCTRL=98]="Broadcast_DEVCTRL",h[h.Broadcast_VENDOR_EXT_63=99]="Broadcast_VENDOR_EXT_63",h[h.Broadcast_VENDOR_EXT_64=100]="Broadcast_VENDOR_EXT_64",h[h.Broadcast_VENDOR_EXT_65=101]="Broadcast_VENDOR_EXT_65",h[h.Broadcast_VENDOR_EXT_66=102]="Broadcast_VENDOR_EXT_66",h[h.Broadcast_VENDOR_EXT_67=103]="Broadcast_VENDOR_EXT_67",h[h.Broadcast_VENDOR_EXT_68=104]="Broadcast_VENDOR_EXT_68",h[h.Broadcast_VENDOR_EXT_69=105]="Broadcast_VENDOR_EXT_69",h[h.Broadcast_VENDOR_EXT_6A=106]="Broadcast_VENDOR_EXT_6A",h[h.Broadcast_VENDOR_EXT_6B=107]="Broadcast_VENDOR_EXT_6B",h[h.Broadcast_VENDOR_EXT_6C=108]="Broadcast_VENDOR_EXT_6C",h[h.Broadcast_VENDOR_EXT_6D=109]="Broadcast_VENDOR_EXT_6D",h[h.Broadcast_VENDOR_EXT_6E=110]="Broadcast_VENDOR_EXT_6E",h[h.Broadcast_VENDOR_EXT_6F=111]="Broadcast_VENDOR_EXT_6F",h[h.Broadcast_VENDOR_EXT_70=112]="Broadcast_VENDOR_EXT_70",h[h.Broadcast_VENDOR_EXT_71=113]="Broadcast_VENDOR_EXT_71",h[h.Broadcast_VENDOR_EXT_72=114]="Broadcast_VENDOR_EXT_72",h[h.Broadcast_VENDOR_EXT_73=115]="Broadcast_VENDOR_EXT_73",h[h.Broadcast_VENDOR_EXT_74=116]="Broadcast_VENDOR_EXT_74",h[h.Broadcast_VENDOR_EXT_75=117]="Broadcast_VENDOR_EXT_75",h[h.Broadcast_VENDOR_EXT_76=118]="Broadcast_VENDOR_EXT_76",h[h.Broadcast_VENDOR_EXT_77=119]="Broadcast_VENDOR_EXT_77",h[h.Broadcast_VENDOR_EXT_78=120]="Broadcast_VENDOR_EXT_78",h[h.Broadcast_VENDOR_EXT_79=121]="Broadcast_VENDOR_EXT_79",h[h.Broadcast_VENDOR_EXT_7A=122]="Broadcast_VENDOR_EXT_7A",h[h.Broadcast_VENDOR_EXT_7B=123]="Broadcast_VENDOR_EXT_7B",h[h.Broadcast_VENDOR_EXT_7C=124]="Broadcast_VENDOR_EXT_7C",h[h.Broadcast_VENDOR_EXT_7D=125]="Broadcast_VENDOR_EXT_7D",h[h.Broadcast_VENDOR_EXT_7E=126]="Broadcast_VENDOR_EXT_7E",h[h.Broadcast_VENDOR_EXT_7F=127]="Broadcast_VENDOR_EXT_7F",h[h.Directed_ENEC=128]="Directed_ENEC",h[h.Directed_DISEC=129]="Directed_DISEC",h[h.Directed_ENTAS0=130]="Directed_ENTAS0",h[h.Directed_ENTAS1=131]="Directed_ENTAS1",h[h.Directed_ENTAS2=132]="Directed_ENTAS2",h[h.Directed_ENTAS3=133]="Directed_ENTAS3",h[h.Directed_RSTDAA=134]="Directed_RSTDAA",h[h.Directed_SETDASA=135]="Directed_SETDASA",h[h.Directed_SETNEWDA=136]="Directed_SETNEWDA",h[h.Directed_SETMWL=137]="Directed_SETMWL",h[h.Directed_SETMRL=138]="Directed_SETMRL",h[h.Directed_GETMWL=139]="Directed_GETMWL",h[h.Directed_GETMRL=140]="Directed_GETMRL",h[h.Directed_GETPID=141]="Directed_GETPID",h[h.Directed_GETBCR=142]="Directed_GETBCR",h[h.Directed_GETDCR=143]="Directed_GETDCR",h[h.Directed_GETSTATUS=144]="Directed_GETSTATUS",h[h.Directed_GETACCMST=145]="Directed_GETACCMST",h[h.Directed_ENDXFER=146]="Directed_ENDXFER",h[h.Directed_SETBRGTGT=147]="Directed_SETBRGTGT",h[h.Directed_GETMXDS=148]="Directed_GETMXDS",h[h.Directed_GETCAPS=149]="Directed_GETCAPS",h[h.Directed_SETROUTE=150]="Directed_SETROUTE",h[h.Directed_D2DXFER=151]="Directed_D2DXFER",h[h.Directed_SETXTIME=152]="Directed_SETXTIME",h[h.Directed_GETXTIME=153]="Directed_GETXTIME",h[h.Directed_RSTACT=154]="Directed_RSTACT",h[h.Directed_SETGRPA=155]="Directed_SETGRPA",h[h.Directed_RSTGRPA=156]="Directed_RSTGRPA",h[h.Directed_MLANE=157]="Directed_MLANE",h[h.Directed_SENSOR_WG_0x9E=158]="Directed_SENSOR_WG_0x9E",h[h.Directed_SENSOR_WG_0x9F=159]="Directed_SENSOR_WG_0x9F",h[h.Directed_SENSOR_WG_0xA0=160]="Directed_SENSOR_WG_0xA0",h[h.Directed_SENSOR_WG_0xA1=161]="Directed_SENSOR_WG_0xA1",h[h.Directed_SENSOR_WG_0xA2=162]="Directed_SENSOR_WG_0xA2",h[h.Directed_SENSOR_WG_0xA3=163]="Directed_SENSOR_WG_0xA3",h[h.Directed_SENSOR_WG_0xA4=164]="Directed_SENSOR_WG_0xA4",h[h.Directed_SENSOR_WG_0xA5=165]="Directed_SENSOR_WG_0xA5",h[h.Directed_SENSOR_WG_0xA6=166]="Directed_SENSOR_WG_0xA6",h[h.Directed_SENSOR_WG_0xA7=167]="Directed_SENSOR_WG_0xA7",h[h.Directed_SENSOR_WG_0xA8=168]="Directed_SENSOR_WG_0xA8",h[h.Directed_SENSOR_WG_0xA9=169]="Directed_SENSOR_WG_0xA9",h[h.Directed_SENSOR_WG_0xAA=170]="Directed_SENSOR_WG_0xAA",h[h.Directed_SENSOR_WG_0xAB=171]="Directed_SENSOR_WG_0xAB",h[h.Directed_SENSOR_WG_0xAC=172]="Directed_SENSOR_WG_0xAC",h[h.Directed_SENSOR_WG_0xAD=173]="Directed_SENSOR_WG_0xAD",h[h.Directed_SENSOR_WG_0xAE=174]="Directed_SENSOR_WG_0xAE",h[h.Directed_SENSOR_WG_0xAF=175]="Directed_SENSOR_WG_0xAF",h[h.Directed_SENSOR_WG_0xB0=176]="Directed_SENSOR_WG_0xB0",h[h.Directed_SENSOR_WG_0xB1=177]="Directed_SENSOR_WG_0xB1",h[h.Directed_SENSOR_WG_0xB2=178]="Directed_SENSOR_WG_0xB2",h[h.Directed_SENSOR_WG_0xB3=179]="Directed_SENSOR_WG_0xB3",h[h.Directed_SENSOR_WG_0xB4=180]="Directed_SENSOR_WG_0xB4",h[h.Directed_SENSOR_WG_0xB5=181]="Directed_SENSOR_WG_0xB5",h[h.Directed_SENSOR_WG_0xB6=182]="Directed_SENSOR_WG_0xB6",h[h.Directed_SENSOR_WG_0xB7=183]="Directed_SENSOR_WG_0xB7",h[h.Directed_SENSOR_WG_0xB8=184]="Directed_SENSOR_WG_0xB8",h[h.Directed_SENSOR_WG_0xB9=185]="Directed_SENSOR_WG_0xB9",h[h.Directed_SENSOR_WG_0xBA=186]="Directed_SENSOR_WG_0xBA",h[h.Directed_SENSOR_WG_0xBB=187]="Directed_SENSOR_WG_0xBB",h[h.Directed_SENSOR_WG_0xBC=188]="Directed_SENSOR_WG_0xBC",h[h.Directed_SENSOR_WG_0xBD=189]="Directed_SENSOR_WG_0xBD",h[h.Directed_SENSOR_WG_0xBE=190]="Directed_SENSOR_WG_0xBE",h[h.Directed_SENSOR_WG_0xBF=191]="Directed_SENSOR_WG_0xBF",h[h.Directed_NON_SENSOR_WG_0xC0=192]="Directed_NON_SENSOR_WG_0xC0",h[h.Directed_NON_SENSOR_WG_0xC1=193]="Directed_NON_SENSOR_WG_0xC1",h[h.Directed_NON_SENSOR_WG_0xC2=194]="Directed_NON_SENSOR_WG_0xC2",h[h.Directed_NON_SENSOR_WG_0xC3=195]="Directed_NON_SENSOR_WG_0xC3",h[h.Directed_NON_SENSOR_WG_0xC4=196]="Directed_NON_SENSOR_WG_0xC4",h[h.Directed_NON_SENSOR_WG_0xC5=197]="Directed_NON_SENSOR_WG_0xC5",h[h.Directed_NON_SENSOR_WG_0xC6=198]="Directed_NON_SENSOR_WG_0xC6",h[h.Directed_NON_SENSOR_WG_0xC7=199]="Directed_NON_SENSOR_WG_0xC7",h[h.Directed_NON_SENSOR_WG_0xC8=200]="Directed_NON_SENSOR_WG_0xC8",h[h.Directed_NON_SENSOR_WG_0xC9=201]="Directed_NON_SENSOR_WG_0xC9",h[h.Directed_NON_SENSOR_WG_0xCA=202]="Directed_NON_SENSOR_WG_0xCA",h[h.Directed_NON_SENSOR_WG_0xCB=203]="Directed_NON_SENSOR_WG_0xCB",h[h.Directed_NON_SENSOR_WG_0xCC=204]="Directed_NON_SENSOR_WG_0xCC",h[h.Directed_NON_SENSOR_WG_0xCD=205]="Directed_NON_SENSOR_WG_0xCD",h[h.Directed_NON_SENSOR_WG_0xCE=206]="Directed_NON_SENSOR_WG_0xCE",h[h.Directed_NON_SENSOR_WG_0xCF=207]="Directed_NON_SENSOR_WG_0xCF",h[h.Directed_NON_SENSOR_WG_0xD0=208]="Directed_NON_SENSOR_WG_0xD0",h[h.Directed_NON_SENSOR_WG_0xD1=209]="Directed_NON_SENSOR_WG_0xD1",h[h.Directed_NON_SENSOR_WG_0xD2=210]="Directed_NON_SENSOR_WG_0xD2",h[h.Directed_NON_SENSOR_WG_0xD3=211]="Directed_NON_SENSOR_WG_0xD3",h[h.Directed_NON_SENSOR_WG_0xD4=212]="Directed_NON_SENSOR_WG_0xD4",h[h.Directed_NON_SENSOR_WG_0xD5=213]="Directed_NON_SENSOR_WG_0xD5",h[h.Directed_NON_SENSOR_WG_0xD6=214]="Directed_NON_SENSOR_WG_0xD6",h[h.Directed_DEBUG_WG_0xD7=215]="Directed_DEBUG_WG_0xD7",h[h.Directed_DEBUG_WG_0xD8=216]="Directed_DEBUG_WG_0xD8",h[h.Directed_DEBUG_WG_0xD9=217]="Directed_DEBUG_WG_0xD9",h[h.Directed_DEBUG_WG_0xDA=218]="Directed_DEBUG_WG_0xDA",h[h.Directed_RIO_WG_0xDB=219]="Directed_RIO_WG_0xDB",h[h.Directed_RIO_WG_0xDC=220]="Directed_RIO_WG_0xDC",h[h.Directed_RIO_WG_0xDD=221]="Directed_RIO_WG_0xDD",h[h.Directed_RIO_WG_0xDE=222]="Directed_RIO_WG_0xDE",h[h.Directed_RIO_WG_0xDF=223]="Directed_RIO_WG_0xDF",h[h.Directed_DEVCAP=224]="Directed_DEVCAP",h[h.Directed_VENDOR_E1=225]="Directed_VENDOR_E1",h[h.Directed_VENDOR_E2=226]="Directed_VENDOR_E2",h[h.Directed_VENDOR_E3=227]="Directed_VENDOR_E3",h[h.Directed_VENDOR_E4=228]="Directed_VENDOR_E4",h[h.Directed_VENDOR_E5=229]="Directed_VENDOR_E5",h[h.Directed_VENDOR_E6=230]="Directed_VENDOR_E6",h[h.Directed_VENDOR_E7=231]="Directed_VENDOR_E7",h[h.Directed_VENDOR_E8=232]="Directed_VENDOR_E8",h[h.Directed_VENDOR_E9=233]="Directed_VENDOR_E9",h[h.Directed_VENDOR_EA=234]="Directed_VENDOR_EA",h[h.Directed_VENDOR_EB=235]="Directed_VENDOR_EB",h[h.Directed_VENDOR_EC=236]="Directed_VENDOR_EC",h[h.Directed_VENDOR_ED=237]="Directed_VENDOR_ED",h[h.Directed_VENDOR_EE=238]="Directed_VENDOR_EE",h[h.Directed_VENDOR_EF=239]="Directed_VENDOR_EF",h[h.Directed_VENDOR_F0=240]="Directed_VENDOR_F0",h[h.Directed_VENDOR_F1=241]="Directed_VENDOR_F1",h[h.Directed_VENDOR_F2=242]="Directed_VENDOR_F2",h[h.Directed_VENDOR_F3=243]="Directed_VENDOR_F3",h[h.Directed_VENDOR_F4=244]="Directed_VENDOR_F4",h[h.Directed_VENDOR_F5=245]="Directed_VENDOR_F5",h[h.Directed_VENDOR_F6=246]="Directed_VENDOR_F6",h[h.Directed_VENDOR_F7=247]="Directed_VENDOR_F7",h[h.Directed_VENDOR_F8=248]="Directed_VENDOR_F8",h[h.Directed_VENDOR_F9=249]="Directed_VENDOR_F9",h[h.Directed_VENDOR_FA=250]="Directed_VENDOR_FA",h[h.Directed_VENDOR_FB=251]="Directed_VENDOR_FB",h[h.Directed_VENDOR_FC=252]="Directed_VENDOR_FC",h[h.Directed_VENDOR_FD=253]="Directed_VENDOR_FD",h[h.Directed_VENDOR_FE=254]="Directed_VENDOR_FE",h[h.Directed_SENSOR_WG_FF=255]="Directed_SENSOR_WG_FF",h[h.Hot_Join=256]="Hot_Join",h[h.Private_Message=257]="Private_Message",h[h.IBI_OR_PVT_Message=258]="IBI_OR_PVT_Message",h[h.I2C_Message=259]="I2C_Message",h[h.HDR_Exit_Pattern=260]="HDR_Exit_Pattern",h[h.Slave_Reset_Pattern=261]="Slave_Reset_Pattern",h[h.Broadcast_Address=262]="Broadcast_Address",h[h.NACK_Message=263]="NACK_Message",h[h.Address_Message=264]="Address_Message",h[h.FrameType_Unknown=-1]="FrameType_Unknown",h))(Ss||{}),Bo=(n=>(n[n.HostDeviceType_NA=0]="HostDeviceType_NA",n[n.MASTER=1]="MASTER",n[n.SLAVE=2]="SLAVE",n))(Bo||{}),ou=(i=>(i[i.I3C=0]="I3C",i[i.I2C=1]="I2C",i))(ou||{}),Vo=(r=>(r[r.ProtocolMode_NA=0]="ProtocolMode_NA",r[r.SDR=1]="SDR",r[r.HDR_DDR=2]="HDR_DDR",r[r.HDR_TSP=3]="HDR_TSP",r[r.HDR_TSL=4]="HDR_TSL",r[r.HDR=5]="HDR",r))(Vo||{}),kn=(Re=>(Re[Re.ErrorType_None=0]="ErrorType_None",Re[Re.S0=1]="S0",Re[Re.S1=2]="S1",Re[Re.S2=3]="S2",Re[Re.S3=4]="S3",Re[Re.S4=5]="S4",Re[Re.S5=6]="S5",Re[Re.S6=7]="S6",Re[Re.M0=8]="M0",Re[Re.M1=9]="M1",Re[Re.M2=10]="M2",Re[Re.InSufficientBits=11]="InSufficientBits",Re[Re.Preamble=12]="Preamble",Re[Re.Cp=13]="Cp",Re[Re.Ap=14]="Ap",Re[Re.Dp=15]="Dp",Re[Re.Bp=16]="Bp",Re[Re.ByteCountMismatch=17]="ByteCountMismatch",Re[Re.Nack=18]="Nack",Re[Re.Intr=19]="Intr",Re[Re.CRCError=20]="CRCError",Re[Re.FormError=21]="FormError",Re[Re.BitStuffError=22]="BitStuffError",Re[Re.BitError=23]="BitError",Re[Re.AckError=24]="AckError",Re[Re.ParityError=25]="ParityError",Re[Re.NoHDRExit=26]="NoHDRExit",Re[Re.CRCTokenError=27]="CRCTokenError",Re))(kn||{}),su=(a=>(a[a.WR=0]="WR",a[a.RD=1]="RD",a[a.Both=2]="Both",a[a.RegisterRead=3]="RegisterRead",a[a.AUTHENTICATE=4]="AUTHENTICATE",a[a.MOH=5]="MOH",a[a.TransferType_NA=-1]="TransferType_NA",a))(su||{}),Dl=(i=>(i[i.S=0]="S",i[i.Sr=1]="Sr",i))(Dl||{});var i0=(c=>(c[c.BroadCast_Address=0]="BroadCast_Address",c[c.I3C_Slave_Address=1]="I3C_Slave_Address",c[c.I3C_Reserved=2]="I3C_Reserved",c[c.I2C_Slave_Address=3]="I2C_Slave_Address",c[c.BroadCast_Address_Error=4]="BroadCast_Address_Error",c[c.Hot_Joint_address=5]="Hot_Joint_address",c[c.I3C_Slave_OR_Legacy_I2C=6]="I3C_Slave_OR_Legacy_I2C",c[c.Static_Address_SETDASA=7]="Static_Address_SETDASA",c[c.AddressType_NA=8]="AddressType_NA",c))(i0||{}),_s=(n=>(n[n.ACK=0]="ACK",n[n.NACK=1]="NACK",n[n.AcknowledgeType_NA=-1]="AcknowledgeType_NA",n))(_s||{}),_g=(m=>(m[m.DataDescription_Data=0]="DataDescription_Data",m[m.BCR=1]="BCR",m[m.DCR=2]="DCR",m[m.BCRValue=3]="BCRValue",m[m.DCRValue=4]="DCRValue",m[m.Count=5]="Count",m[m.DAADynamicAddress=6]="DAADynamicAddress",m[m.DynamicAddress=7]="DynamicAddress",m[m.BridgeMSB=8]="BridgeMSB",m[m.BridgeLSB=9]="BridgeLSB",m[m.StaticAddress=10]="StaticAddress",m[m.PID=11]="PID",m[m.DefiningByte=12]="DefiningByte",m))(_g||{});var n0=(a=>(a[a.PreambleState_Command=0]="PreambleState_Command",a[a.Read_Command=1]="Read_Command",a[a.Read_Data=2]="Read_Data",a[a.Write_Command=3]="Write_Command",a[a.Write_Data=4]="Write_Data",a[a.CRC=5]="CRC",a[a.PreambleState_NA=-1]="PreambleState_NA",a))(n0||{}),o0=(n=>(n[n.DUAL=0]="DUAL",n[n.QUAD=1]="QUAD",n[n.MLaneType_NA=-1]="MLaneType_NA",n))(o0||{});var Sg=(n=>(n[n.SlaveType_I3C=0]="SlaveType_I3C",n[n.SlaveType_I2C=1]="SlaveType_I2C",n[n.SlaveType_MCTP=2]="SlaveType_MCTP",n))(Sg||{}),rg=class extends z{constructor(){super("I3C.Configuration_I3C",[{no:1,name:"Id",kind:"scalar",jsonName:"Id",T:5},{no:2,name:"ChannelIndex_SCL",kind:"enum",jsonName:"ChannelIndexSCL",T:()=>["CommonTypes.Channels",No]},{no:3,name:"ChannelIndex_SDA",kind:"enum",jsonName:"ChannelIndexSDA",repeat:1,T:()=>["CommonTypes.Channels",No]},{no:4,name:"IsMCTPEnabled",kind:"scalar",jsonName:"IsMCTPEnabled",T:8},{no:5,name:"Slaveinfo",kind:"map",jsonName:"Slaveinfo",K:5,V:{kind:"message",T:()=>iu}}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.id=0,i.channelIndexSCL=0,i.channelIndexSDA=[],i.isMCTPEnabled=!1,i.slaveinfo={},e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.id=e.int32();break;case 2:s.channelIndexSCL=e.int32();break;case 3:if(l===C.LengthDelimited)for(let u=e.int32()+e.pos;e.pos<u;)s.channelIndexSDA.push(e.int32());else s.channelIndexSDA.push(e.int32());break;case 4:s.isMCTPEnabled=e.bool();break;case 5:this.binaryReadMap5(s.slaveinfo,e,n);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}binaryReadMap5(e,i,n){let o=i.uint32(),s=i.pos+o,r,a;for(;i.pos<s;){let[l,c]=i.tag();switch(l){case 1:r=i.int32();break;case 2:a=iu.internalBinaryRead(i,i.uint32(),n);break;default:throw new globalThis.Error("unknown map entry field for field I3C.Configuration_I3C.Slaveinfo")}}e[r??0]=a??iu.create()}internalBinaryWrite(e,i,n){if(e.id!==0&&i.tag(1,C.Varint).int32(e.id),e.channelIndexSCL!==0&&i.tag(2,C.Varint).int32(e.channelIndexSCL),e.channelIndexSDA.length){i.tag(3,C.LengthDelimited).fork();for(let s=0;s<e.channelIndexSDA.length;s++)i.int32(e.channelIndexSDA[s]);i.join()}e.isMCTPEnabled!==!1&&i.tag(4,C.Varint).bool(e.isMCTPEnabled);for(let s of globalThis.Object.keys(e.slaveinfo))i.tag(5,C.LengthDelimited).fork().tag(1,C.Varint).int32(parseInt(s)),i.tag(2,C.LengthDelimited).fork(),iu.internalBinaryWrite(e.slaveinfo[s],i,n),i.join().join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Tl=new rg,ag=class extends z{constructor(){super("I3C.ProtocolTriggerConfig_I3C",[{no:1,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9},{no:2,name:"Broadcast",kind:"message",jsonName:"Broadcast",oneof:"protocolTriggerConfigCommonType",T:()=>Xm},{no:3,name:"Directed",kind:"message",jsonName:"Directed",oneof:"protocolTriggerConfigCommonType",T:()=>Ym},{no:4,name:"Private",kind:"message",jsonName:"Private",oneof:"protocolTriggerConfigCommonType",T:()=>Qm}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolName="",i.protocolTriggerConfigCommonType={oneofKind:void 0},e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolName=e.string();break;case 2:s.protocolTriggerConfigCommonType={oneofKind:"broadcast",broadcast:Xm.internalBinaryRead(e,e.uint32(),n,s.protocolTriggerConfigCommonType.broadcast)};break;case 3:s.protocolTriggerConfigCommonType={oneofKind:"directed",directed:Ym.internalBinaryRead(e,e.uint32(),n,s.protocolTriggerConfigCommonType.directed)};break;case 4:s.protocolTriggerConfigCommonType={oneofKind:"private",private:Qm.internalBinaryRead(e,e.uint32(),n,s.protocolTriggerConfigCommonType.private)};break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolName!==""&&i.tag(1,C.LengthDelimited).string(e.protocolName),e.protocolTriggerConfigCommonType.oneofKind==="broadcast"&&Xm.internalBinaryWrite(e.protocolTriggerConfigCommonType.broadcast,i.tag(2,C.LengthDelimited).fork(),n).join(),e.protocolTriggerConfigCommonType.oneofKind==="directed"&&Ym.internalBinaryWrite(e.protocolTriggerConfigCommonType.directed,i.tag(3,C.LengthDelimited).fork(),n).join(),e.protocolTriggerConfigCommonType.oneofKind==="private"&&Qm.internalBinaryWrite(e.protocolTriggerConfigCommonType.private,i.tag(4,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},B$=new ag,lg=class extends z{constructor(){super("I3C.BroadcastTriggerCommand",[{no:1,name:"AckType",kind:"enum",jsonName:"AckType",T:()=>["I3C.AcknowledgeType",_s]},{no:2,name:"BroadcastCommandType",kind:"enum",jsonName:"BroadcastCommandType",T:()=>["I3C.FrameType",Ss]},{no:3,name:"HDRCommand",kind:"scalar",jsonName:"HDRCommand",opt:!0,T:9},{no:4,name:"Data",kind:"scalar",jsonName:"Data",opt:!0,T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.ackType=0,i.broadcastCommandType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.ackType=e.int32();break;case 2:s.broadcastCommandType=e.int32();break;case 3:s.hDRCommand=e.string();break;case 4:s.data=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.ackType!==0&&i.tag(1,C.Varint).int32(e.ackType),e.broadcastCommandType!==0&&i.tag(2,C.Varint).int32(e.broadcastCommandType),e.hDRCommand!==void 0&&i.tag(3,C.LengthDelimited).string(e.hDRCommand),e.data!==void 0&&i.tag(4,C.LengthDelimited).string(e.data);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Xm=new lg,cg=class extends z{constructor(){super("I3C.DirectedTriggerCommand",[{no:1,name:"AckType",kind:"enum",jsonName:"AckType",T:()=>["I3C.AcknowledgeType",_s]},{no:2,name:"DirectedCommandType",kind:"enum",jsonName:"DirectedCommandType",T:()=>["I3C.FrameType",Ss]},{no:3,name:"SlaveAdress",kind:"scalar",jsonName:"SlaveAdress",T:9},{no:4,name:"SlaveTransferType",kind:"enum",jsonName:"SlaveTransferType",T:()=>["I3C.TransferType",su]},{no:5,name:"SlaveAck",kind:"enum",jsonName:"SlaveAck",T:()=>["I3C.AcknowledgeType",_s]},{no:6,name:"Data",kind:"scalar",jsonName:"Data",opt:!0,T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.ackType=0,i.directedCommandType=0,i.slaveAdress="",i.slaveTransferType=0,i.slaveAck=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.ackType=e.int32();break;case 2:s.directedCommandType=e.int32();break;case 3:s.slaveAdress=e.string();break;case 4:s.slaveTransferType=e.int32();break;case 5:s.slaveAck=e.int32();break;case 6:s.data=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.ackType!==0&&i.tag(1,C.Varint).int32(e.ackType),e.directedCommandType!==0&&i.tag(2,C.Varint).int32(e.directedCommandType),e.slaveAdress!==""&&i.tag(3,C.LengthDelimited).string(e.slaveAdress),e.slaveTransferType!==0&&i.tag(4,C.Varint).int32(e.slaveTransferType),e.slaveAck!==0&&i.tag(5,C.Varint).int32(e.slaveAck),e.data!==void 0&&i.tag(6,C.LengthDelimited).string(e.data);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Ym=new cg,dg=class extends z{constructor(){super("I3C.PrivateTriggerCommand",[{no:1,name:"SlaveAdress",kind:"scalar",jsonName:"SlaveAdress",T:9},{no:2,name:"SlaveTransferType",kind:"enum",jsonName:"SlaveTransferType",T:()=>["I3C.TransferType",su]},{no:3,name:"SlaveAck",kind:"enum",jsonName:"SlaveAck",T:()=>["I3C.AcknowledgeType",_s]},{no:4,name:"Data",kind:"scalar",jsonName:"Data",opt:!0,T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.slaveAdress="",i.slaveTransferType=0,i.slaveAck=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.slaveAdress=e.string();break;case 2:s.slaveTransferType=e.int32();break;case 3:s.slaveAck=e.int32();break;case 4:s.data=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.slaveAdress!==""&&i.tag(1,C.LengthDelimited).string(e.slaveAdress),e.slaveTransferType!==0&&i.tag(2,C.Varint).int32(e.slaveTransferType),e.slaveAck!==0&&i.tag(3,C.Varint).int32(e.slaveAck),e.data!==void 0&&i.tag(4,C.LengthDelimited).string(e.data);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Qm=new dg,ug=class extends z{constructor(){super("I3C.AddressFrame",[{no:1,name:"AddressValue",kind:"scalar",jsonName:"AddressValue",T:13},{no:2,name:"PacketType",kind:"enum",jsonName:"PacketType",T:()=>["I3C.PacketType",Lo]},{no:3,name:"ProtocolMode",kind:"enum",jsonName:"ProtocolMode",T:()=>["I3C.ProtocolMode",Vo]},{no:4,name:"HostDevice",kind:"enum",jsonName:"HostDevice",T:()=>["I3C.HostDeviceType",Bo]},{no:5,name:"Description",kind:"enum",jsonName:"Description",T:()=>["I3C.AddressType",i0]},{no:6,name:"TransferType",kind:"enum",jsonName:"TransferType",T:()=>["I3C.TransferType",su]},{no:7,name:"ErrorType",kind:"enum",jsonName:"ErrorType",T:()=>["I3C.ErrorType",kn]},{no:8,name:"AckType",kind:"enum",jsonName:"AckType",T:()=>["I3C.AcknowledgeType",_s]},{no:9,name:"Is10Bit",kind:"scalar",jsonName:"Is10Bit",T:8},{no:10,name:"StartType",kind:"enum",jsonName:"StartType",T:()=>["I3C.StartType",Dl]},{no:11,name:"AddressInterval",kind:"message",jsonName:"AddressInterval",T:()=>qe},{no:12,name:"TransferInterval",kind:"message",jsonName:"TransferInterval",T:()=>qe},{no:13,name:"AckInterval",kind:"message",jsonName:"AckInterval",T:()=>qe}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.addressValue=0,i.packetType=0,i.protocolMode=0,i.hostDevice=0,i.description=0,i.transferType=0,i.errorType=0,i.ackType=0,i.is10Bit=!1,i.startType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.addressValue=e.uint32();break;case 2:s.packetType=e.int32();break;case 3:s.protocolMode=e.int32();break;case 4:s.hostDevice=e.int32();break;case 5:s.description=e.int32();break;case 6:s.transferType=e.int32();break;case 7:s.errorType=e.int32();break;case 8:s.ackType=e.int32();break;case 9:s.is10Bit=e.bool();break;case 10:s.startType=e.int32();break;case 11:s.addressInterval=qe.internalBinaryRead(e,e.uint32(),n,s.addressInterval);break;case 12:s.transferInterval=qe.internalBinaryRead(e,e.uint32(),n,s.transferInterval);break;case 13:s.ackInterval=qe.internalBinaryRead(e,e.uint32(),n,s.ackInterval);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.addressValue!==0&&i.tag(1,C.Varint).uint32(e.addressValue),e.packetType!==0&&i.tag(2,C.Varint).int32(e.packetType),e.protocolMode!==0&&i.tag(3,C.Varint).int32(e.protocolMode),e.hostDevice!==0&&i.tag(4,C.Varint).int32(e.hostDevice),e.description!==0&&i.tag(5,C.Varint).int32(e.description),e.transferType!==0&&i.tag(6,C.Varint).int32(e.transferType),e.errorType!==0&&i.tag(7,C.Varint).int32(e.errorType),e.ackType!==0&&i.tag(8,C.Varint).int32(e.ackType),e.is10Bit!==!1&&i.tag(9,C.Varint).bool(e.is10Bit),e.startType!==0&&i.tag(10,C.Varint).int32(e.startType),e.addressInterval&&qe.internalBinaryWrite(e.addressInterval,i.tag(11,C.LengthDelimited).fork(),n).join(),e.transferInterval&&qe.internalBinaryWrite(e.transferInterval,i.tag(12,C.LengthDelimited).fork(),n).join(),e.ackInterval&&qe.internalBinaryWrite(e.ackInterval,i.tag(13,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Zm=new ug,hg=class extends z{constructor(){super("I3C.CommandFrame",[{no:1,name:"CommandValue",kind:"scalar",jsonName:"CommandValue",T:13},{no:2,name:"PacketType",kind:"enum",jsonName:"PacketType",T:()=>["I3C.PacketType",Lo]},{no:3,name:"ProtocolMode",kind:"enum",jsonName:"ProtocolMode",T:()=>["I3C.ProtocolMode",Vo]},{no:4,name:"HostDevice",kind:"enum",jsonName:"HostDevice",T:()=>["I3C.HostDeviceType",Bo]},{no:5,name:"Description",kind:"enum",jsonName:"Description",T:()=>["I3C.FrameType",Ss]},{no:6,name:"Parity",kind:"enum",jsonName:"Parity",T:()=>["I3C.ParityType",nu]},{no:7,name:"ErrorType",kind:"enum",jsonName:"ErrorType",T:()=>["I3C.ErrorType",kn]},{no:8,name:"CommandInterval",kind:"message",jsonName:"CommandInterval",T:()=>qe},{no:9,name:"CommandParityInterval",kind:"message",jsonName:"CommandParityInterval",T:()=>qe}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.commandValue=0,i.packetType=0,i.protocolMode=0,i.hostDevice=0,i.description=0,i.parity=0,i.errorType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.commandValue=e.uint32();break;case 2:s.packetType=e.int32();break;case 3:s.protocolMode=e.int32();break;case 4:s.hostDevice=e.int32();break;case 5:s.description=e.int32();break;case 6:s.parity=e.int32();break;case 7:s.errorType=e.int32();break;case 8:s.commandInterval=qe.internalBinaryRead(e,e.uint32(),n,s.commandInterval);break;case 9:s.commandParityInterval=qe.internalBinaryRead(e,e.uint32(),n,s.commandParityInterval);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.commandValue!==0&&i.tag(1,C.Varint).uint32(e.commandValue),e.packetType!==0&&i.tag(2,C.Varint).int32(e.packetType),e.protocolMode!==0&&i.tag(3,C.Varint).int32(e.protocolMode),e.hostDevice!==0&&i.tag(4,C.Varint).int32(e.hostDevice),e.description!==0&&i.tag(5,C.Varint).int32(e.description),e.parity!==0&&i.tag(6,C.Varint).int32(e.parity),e.errorType!==0&&i.tag(7,C.Varint).int32(e.errorType),e.commandInterval&&qe.internalBinaryWrite(e.commandInterval,i.tag(8,C.LengthDelimited).fork(),n).join(),e.commandParityInterval&&qe.internalBinaryWrite(e.commandParityInterval,i.tag(9,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Jm=new hg,pg=class extends z{constructor(){super("I3C.DataFrame",[{no:1,name:"DataValue",kind:"scalar",jsonName:"DataValue",T:4,L:0},{no:2,name:"PacketType",kind:"enum",jsonName:"PacketType",T:()=>["I3C.PacketType",Lo]},{no:3,name:"ProtocolMode",kind:"enum",jsonName:"ProtocolMode",T:()=>["I3C.ProtocolMode",Vo]},{no:4,name:"HostDevice",kind:"enum",jsonName:"HostDevice",T:()=>["I3C.HostDeviceType",Bo]},{no:5,name:"Description",kind:"enum",jsonName:"Description",T:()=>["I3C.DataDescription",_g]},{no:6,name:"TransmitBit",kind:"enum",jsonName:"TransmitBit",T:()=>["I3C.ParityType",nu]},{no:7,name:"ErrorType",kind:"enum",jsonName:"ErrorType",T:()=>["I3C.ErrorType",kn]},{no:8,name:"MLaneType",kind:"enum",jsonName:"MLaneType",T:()=>["I3C.MLaneType",o0]},{no:9,name:"DataInterval",kind:"message",jsonName:"DataInterval",T:()=>qe},{no:10,name:"DataTransmitInterval",kind:"message",jsonName:"DataTransmitInterval",T:()=>qe}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.dataValue=0n,i.packetType=0,i.protocolMode=0,i.hostDevice=0,i.description=0,i.transmitBit=0,i.errorType=0,i.mLaneType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.dataValue=e.uint64().toBigInt();break;case 2:s.packetType=e.int32();break;case 3:s.protocolMode=e.int32();break;case 4:s.hostDevice=e.int32();break;case 5:s.description=e.int32();break;case 6:s.transmitBit=e.int32();break;case 7:s.errorType=e.int32();break;case 8:s.mLaneType=e.int32();break;case 9:s.dataInterval=qe.internalBinaryRead(e,e.uint32(),n,s.dataInterval);break;case 10:s.dataTransmitInterval=qe.internalBinaryRead(e,e.uint32(),n,s.dataTransmitInterval);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.dataValue!==0n&&i.tag(1,C.Varint).uint64(e.dataValue),e.packetType!==0&&i.tag(2,C.Varint).int32(e.packetType),e.protocolMode!==0&&i.tag(3,C.Varint).int32(e.protocolMode),e.hostDevice!==0&&i.tag(4,C.Varint).int32(e.hostDevice),e.description!==0&&i.tag(5,C.Varint).int32(e.description),e.transmitBit!==0&&i.tag(6,C.Varint).int32(e.transmitBit),e.errorType!==0&&i.tag(7,C.Varint).int32(e.errorType),e.mLaneType!==0&&i.tag(8,C.Varint).int32(e.mLaneType),e.dataInterval&&qe.internalBinaryWrite(e.dataInterval,i.tag(9,C.LengthDelimited).fork(),n).join(),e.dataTransmitInterval&&qe.internalBinaryWrite(e.dataTransmitInterval,i.tag(10,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},eg=new pg,fg=class extends z{constructor(){super("I3C.HDRFrame",[{no:1,name:"HDRValue",kind:"scalar",jsonName:"HDRValue",T:13},{no:2,name:"PacketType",kind:"enum",jsonName:"PacketType",T:()=>["I3C.PacketType",Lo]},{no:3,name:"ProtocolMode",kind:"enum",jsonName:"ProtocolMode",T:()=>["I3C.ProtocolMode",Vo]},{no:4,name:"HostDevice",kind:"enum",jsonName:"HostDevice",T:()=>["I3C.HostDeviceType",Bo]},{no:5,name:"Description",kind:"enum",jsonName:"Description",T:()=>["I3C.PreambleState",n0]},{no:6,name:"TransmitBit",kind:"enum",jsonName:"TransmitBit",T:()=>["I3C.ParityType",nu]},{no:7,name:"ErrorType",kind:"enum",jsonName:"ErrorType",T:()=>["I3C.ErrorType",kn]},{no:8,name:"Preamble",kind:"scalar",jsonName:"Preamble",T:5},{no:9,name:"IsMaster1_1",kind:"scalar",jsonName:"IsMaster11",T:8},{no:10,name:"HDRDataInterval",kind:"message",jsonName:"HDRDataInterval",T:()=>qe}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.hDRValue=0,i.packetType=0,i.protocolMode=0,i.hostDevice=0,i.description=0,i.transmitBit=0,i.errorType=0,i.preamble=0,i.isMaster11=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.hDRValue=e.uint32();break;case 2:s.packetType=e.int32();break;case 3:s.protocolMode=e.int32();break;case 4:s.hostDevice=e.int32();break;case 5:s.description=e.int32();break;case 6:s.transmitBit=e.int32();break;case 7:s.errorType=e.int32();break;case 8:s.preamble=e.int32();break;case 9:s.isMaster11=e.bool();break;case 10:s.hDRDataInterval=qe.internalBinaryRead(e,e.uint32(),n,s.hDRDataInterval);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.hDRValue!==0&&i.tag(1,C.Varint).uint32(e.hDRValue),e.packetType!==0&&i.tag(2,C.Varint).int32(e.packetType),e.protocolMode!==0&&i.tag(3,C.Varint).int32(e.protocolMode),e.hostDevice!==0&&i.tag(4,C.Varint).int32(e.hostDevice),e.description!==0&&i.tag(5,C.Varint).int32(e.description),e.transmitBit!==0&&i.tag(6,C.Varint).int32(e.transmitBit),e.errorType!==0&&i.tag(7,C.Varint).int32(e.errorType),e.preamble!==0&&i.tag(8,C.Varint).int32(e.preamble),e.isMaster11!==!1&&i.tag(9,C.Varint).bool(e.isMaster11),e.hDRDataInterval&&qe.internalBinaryWrite(e.hDRDataInterval,i.tag(10,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},tg=new fg,mg=class extends z{constructor(){super("I3C.StartFrame",[{no:1,name:"StartType",kind:"enum",jsonName:"StartType",T:()=>["I3C.StartType",Dl]},{no:2,name:"StartInterval",kind:"message",jsonName:"StartInterval",T:()=>qe}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.startType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.startType=e.int32();break;case 2:s.startInterval=qe.internalBinaryRead(e,e.uint32(),n,s.startInterval);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.startType!==0&&i.tag(1,C.Varint).int32(e.startType),e.startInterval&&qe.internalBinaryWrite(e.startInterval,i.tag(2,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},ig=new mg,gg=class extends z{constructor(){super("I3C.StopFrame",[{no:1,name:"StopInterval",kind:"message",jsonName:"StopInterval",T:()=>qe}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.stopInterval=qe.internalBinaryRead(e,e.uint32(),n,s.stopInterval);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.stopInterval&&qe.internalBinaryWrite(e.stopInterval,i.tag(1,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},ng=new gg,vg=class extends z{constructor(){super("I3C.ExtendedAddressFrame",[{no:1,name:"AddressValue",kind:"scalar",jsonName:"AddressValue",T:13},{no:2,name:"ParityValue",kind:"scalar",jsonName:"ParityValue",T:13},{no:3,name:"PacketType",kind:"enum",jsonName:"PacketType",T:()=>["I3C.PacketType",Lo]},{no:4,name:"ProtocolMode",kind:"enum",jsonName:"ProtocolMode",T:()=>["I3C.ProtocolMode",Vo]},{no:5,name:"HostDevice",kind:"enum",jsonName:"HostDevice",T:()=>["I3C.HostDeviceType",Bo]},{no:6,name:"Description",kind:"enum",jsonName:"Description",T:()=>["I3C.DataDescription",_g]},{no:7,name:"ErrorType",kind:"enum",jsonName:"ErrorType",T:()=>["I3C.ErrorType",kn]},{no:8,name:"AckType",kind:"enum",jsonName:"AckType",T:()=>["I3C.AcknowledgeType",_s]},{no:9,name:"AddressInterval",kind:"message",jsonName:"AddressInterval",T:()=>qe},{no:10,name:"TransferInterval",kind:"message",jsonName:"TransferInterval",T:()=>qe},{no:11,name:"AckInterval",kind:"message",jsonName:"AckInterval",T:()=>qe}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.addressValue=0,i.parityValue=0,i.packetType=0,i.protocolMode=0,i.hostDevice=0,i.description=0,i.errorType=0,i.ackType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.addressValue=e.uint32();break;case 2:s.parityValue=e.uint32();break;case 3:s.packetType=e.int32();break;case 4:s.protocolMode=e.int32();break;case 5:s.hostDevice=e.int32();break;case 6:s.description=e.int32();break;case 7:s.errorType=e.int32();break;case 8:s.ackType=e.int32();break;case 9:s.addressInterval=qe.internalBinaryRead(e,e.uint32(),n,s.addressInterval);break;case 10:s.transferInterval=qe.internalBinaryRead(e,e.uint32(),n,s.transferInterval);break;case 11:s.ackInterval=qe.internalBinaryRead(e,e.uint32(),n,s.ackInterval);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.addressValue!==0&&i.tag(1,C.Varint).uint32(e.addressValue),e.parityValue!==0&&i.tag(2,C.Varint).uint32(e.parityValue),e.packetType!==0&&i.tag(3,C.Varint).int32(e.packetType),e.protocolMode!==0&&i.tag(4,C.Varint).int32(e.protocolMode),e.hostDevice!==0&&i.tag(5,C.Varint).int32(e.hostDevice),e.description!==0&&i.tag(6,C.Varint).int32(e.description),e.errorType!==0&&i.tag(7,C.Varint).int32(e.errorType),e.ackType!==0&&i.tag(8,C.Varint).int32(e.ackType),e.addressInterval&&qe.internalBinaryWrite(e.addressInterval,i.tag(9,C.LengthDelimited).fork(),n).join(),e.transferInterval&&qe.internalBinaryWrite(e.transferInterval,i.tag(10,C.LengthDelimited).fork(),n).join(),e.ackInterval&&qe.internalBinaryWrite(e.ackInterval,i.tag(11,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},og=new vg,Cg=class extends z{constructor(){super("I3C.ExtendedFrame_I3C",[{no:1,name:"Frame",kind:"enum",jsonName:"Frame",T:()=>["I3C.FrameType",Ss]},{no:2,name:"Error",kind:"enum",jsonName:"Error",T:()=>["I3C.ErrorType",kn]},{no:3,name:"Packets",kind:"message",jsonName:"Packets",repeat:1,T:()=>sg}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.frame=0,i.error=0,i.packets=[],e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.frame=e.int32();break;case 2:s.error=e.int32();break;case 3:s.packets.push(sg.internalBinaryRead(e,e.uint32(),n));break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.frame!==0&&i.tag(1,C.Varint).int32(e.frame),e.error!==0&&i.tag(2,C.Varint).int32(e.error);for(let s=0;s<e.packets.length;s++)sg.internalBinaryWrite(e.packets[s],i.tag(3,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Rg=new Cg,bg=class extends z{constructor(){super("I3C.PacketI3C",[{no:1,name:"HasStop",kind:"scalar",jsonName:"HasStop",T:8},{no:2,name:"Address",kind:"message",jsonName:"Address",oneof:"packet",T:()=>Zm},{no:3,name:"Command",kind:"message",jsonName:"Command",oneof:"packet",T:()=>Jm},{no:4,name:"Data",kind:"message",jsonName:"Data",oneof:"packet",T:()=>eg},{no:5,name:"HDR",kind:"message",jsonName:"HDR",oneof:"packet",T:()=>tg},{no:6,name:"Start",kind:"message",jsonName:"Start",oneof:"packet",T:()=>ig},{no:7,name:"Stop",kind:"message",jsonName:"Stop",oneof:"packet",T:()=>ng},{no:8,name:"ExtendedAddress",kind:"message",jsonName:"ExtendedAddress",oneof:"packet",T:()=>og}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.hasStop=!1,i.packet={oneofKind:void 0},e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.hasStop=e.bool();break;case 2:s.packet={oneofKind:"address",address:Zm.internalBinaryRead(e,e.uint32(),n,s.packet.address)};break;case 3:s.packet={oneofKind:"command",command:Jm.internalBinaryRead(e,e.uint32(),n,s.packet.command)};break;case 4:s.packet={oneofKind:"data",data:eg.internalBinaryRead(e,e.uint32(),n,s.packet.data)};break;case 5:s.packet={oneofKind:"hDR",hDR:tg.internalBinaryRead(e,e.uint32(),n,s.packet.hDR)};break;case 6:s.packet={oneofKind:"start",start:ig.internalBinaryRead(e,e.uint32(),n,s.packet.start)};break;case 7:s.packet={oneofKind:"stop",stop:ng.internalBinaryRead(e,e.uint32(),n,s.packet.stop)};break;case 8:s.packet={oneofKind:"extendedAddress",extendedAddress:og.internalBinaryRead(e,e.uint32(),n,s.packet.extendedAddress)};break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.hasStop!==!1&&i.tag(1,C.Varint).bool(e.hasStop),e.packet.oneofKind==="address"&&Zm.internalBinaryWrite(e.packet.address,i.tag(2,C.LengthDelimited).fork(),n).join(),e.packet.oneofKind==="command"&&Jm.internalBinaryWrite(e.packet.command,i.tag(3,C.LengthDelimited).fork(),n).join(),e.packet.oneofKind==="data"&&eg.internalBinaryWrite(e.packet.data,i.tag(4,C.LengthDelimited).fork(),n).join(),e.packet.oneofKind==="hDR"&&tg.internalBinaryWrite(e.packet.hDR,i.tag(5,C.LengthDelimited).fork(),n).join(),e.packet.oneofKind==="start"&&ig.internalBinaryWrite(e.packet.start,i.tag(6,C.LengthDelimited).fork(),n).join(),e.packet.oneofKind==="stop"&&ng.internalBinaryWrite(e.packet.stop,i.tag(7,C.LengthDelimited).fork(),n).join(),e.packet.oneofKind==="extendedAddress"&&og.internalBinaryWrite(e.packet.extendedAddress,i.tag(8,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},sg=new bg,yg=class extends z{constructor(){super("I3C.I3CCTSInfo",[{no:1,name:"TestCode",kind:"scalar",jsonName:"TestCode",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.testCode="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.testCode=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.testCode!==""&&i.tag(1,C.LengthDelimited).string(e.testCode);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},V$=new yg,wg=class extends z{constructor(){super("I3C.I3CSlavesInfo",[{no:1,name:"SlaveType",kind:"enum",jsonName:"SlaveType",T:()=>["I3C.SlaveType",Sg]},{no:2,name:"StaticAddress",kind:"scalar",jsonName:"StaticAddress",T:5}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.slaveType=0,i.staticAddress=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.slaveType=e.int32();break;case 2:s.staticAddress=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.slaveType!==0&&i.tag(1,C.Varint).int32(e.slaveType),e.staticAddress!==0&&i.tag(2,C.Varint).int32(e.staticAddress);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},iu=new wg;var Go=class t{constructor(){}createSetupSystemMessage(e,i,n,o,s,r){let a=Rl.create();a.useCompression=i,a.rawDataProcessorConcurrency=n,a.waveformProcessorConcurrency=o,a.edgeProcessorConcurrency=s;let l=Km.create();l.userName=e,l.captureServiceName=r,l.configuration=a;let c=oi.create();return c.message=We.pack(l,Km),c}createRunConfiguration(){let e=Pr.create();e.connectedChannels=[11,10,9,8,7];let i=Tl.create();i.id=1,i.channelIndexSCL=11,i.channelIndexSDA=[10,9,8,7];let n=Ar.create();return n.protocolType="I3C",n.protocolName="I3C__1",n.configuration=We.pack(i,Tl),e.protocolConfigurations=[n],e}createInitializeRunMessage(e,i,n,o,s){let r=El.create();r.userName=e,r.runId=n,r.configuration=o,r.dataSource={oneofKind:"datFilePath",datFilePath:i};let a=oi.create();return a.message=We.pack(r,El),a}createStartRunMessage(e){let i=eu.create();i.runId=e;let n=oi.create();return n.message=We.pack(i,eu),n}createStopRunMessage(e){let i=t0.create();i.runId=e;let n=oi.create();return n.message=We.pack(i,eu),n}createRunConfigurationLive(){let e=Pr.create();e.connectedChannels=[11,10,9,8,7];let i=Tl.create();i.id=1,i.channelIndexSCL=11,i.channelIndexSDA=[10,9,8,7],i.isMCTPEnabled=!1;for(let[s,r]of Object.entries(ll)){let a=Number(s),l=r===204?2:0;i.slaveinfo[a]={staticAddress:a,slaveType:l}}for(let s of al)i.slaveinfo[s]={staticAddress:s,slaveType:1};console.log(i.slaveinfo);let n=Ar.create();n.protocolType="I3C",n.protocolName="I3C__1",n.configuration=We.pack(i,Tl),e.selectedSampleRate=0,e.protocolConfigurations=[n];let o=Sl.create();return o.triggerType=0,e.triggerConfiguration=o,e}createInitializeRunLiveMessage(e,i,n,o){let s=El.create();s.userName=e,s.runId=i,s.configuration=n,s.dataSource={oneofKind:"live",live:o};let r=oi.create();return r.message=We.pack(s,El),r}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ul=tE(W0());var Vg=class extends z{constructor(){super("DecoderTypes.StorageFrameBatch",[{no:1,name:"Messages",kind:"message",jsonName:"Messages",repeat:1,T:()=>Vr}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.messages=[],e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.messages.push(Vr.internalBinaryRead(e,e.uint32(),n));break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){for(let s=0;s<e.messages.length;s++)Vr.internalBinaryWrite(e.messages[s],i.tag(1,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},oK=new Vg,Gg=class extends z{constructor(){super("DecoderTypes.ProtocolFrame",[{no:1,name:"StartTime",kind:"scalar",jsonName:"StartTime",T:1},{no:2,name:"StopTime",kind:"scalar",jsonName:"StopTime",T:1},{no:5,name:"ExtendedFrame",kind:"message",jsonName:"ExtendedFrame",T:()=>We}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.startTime=0,i.stopTime=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.startTime=e.double();break;case 2:s.stopTime=e.double();break;case 5:s.extendedFrame=We.internalBinaryRead(e,e.uint32(),n,s.extendedFrame);break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.startTime!==0&&i.tag(1,C.Bit64).double(e.startTime),e.stopTime!==0&&i.tag(2,C.Bit64).double(e.stopTime),e.extendedFrame&&We.internalBinaryWrite(e.extendedFrame,i.tag(5,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Vr=new Gg,Wg=class extends z{constructor(){super("DecoderTypes.ProtocolBusAnnotation",[{no:1,name:"StartTime",kind:"scalar",jsonName:"StartTime",T:1},{no:2,name:"StopTime",kind:"scalar",jsonName:"StopTime",T:1},{no:3,name:"BitWidth",kind:"scalar",jsonName:"BitWidth",T:5},{no:4,name:"Annotation",kind:"scalar",jsonName:"Annotation",T:9},{no:5,name:"Value",kind:"scalar",jsonName:"Value",T:3,L:0},{no:6,name:"ShowValue",kind:"scalar",jsonName:"ShowValue",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.startTime=0,i.stopTime=0,i.bitWidth=0,i.annotation="",i.value=0n,i.showValue=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.startTime=e.double();break;case 2:s.stopTime=e.double();break;case 3:s.bitWidth=e.int32();break;case 4:s.annotation=e.string();break;case 5:s.value=e.int64().toBigInt();break;case 6:s.showValue=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.startTime!==0&&i.tag(1,C.Bit64).double(e.startTime),e.stopTime!==0&&i.tag(2,C.Bit64).double(e.stopTime),e.bitWidth!==0&&i.tag(3,C.Varint).int32(e.bitWidth),e.annotation!==""&&i.tag(4,C.LengthDelimited).string(e.annotation),e.value!==0n&&i.tag(5,C.Varint).int64(e.value),e.showValue!==!1&&i.tag(6,C.Varint).bool(e.showValue);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},sK=new Wg,Hg=class extends z{constructor(){super("DecoderTypes.BitFieldOrderAndWidth",[{no:1,name:"Order",kind:"scalar",jsonName:"Order",T:5},{no:2,name:"Width",kind:"scalar",jsonName:"Width",T:5},{no:3,name:"Annotation",kind:"scalar",jsonName:"Annotation",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.order=0,i.width=0,i.annotation="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.order=e.int32();break;case 2:s.width=e.int32();break;case 3:s.annotation=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.order!==0&&i.tag(1,C.Varint).int32(e.order),e.width!==0&&i.tag(2,C.Varint).int32(e.width),e.annotation!==""&&i.tag(3,C.LengthDelimited).string(e.annotation);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},rK=new Hg,Ug=class extends z{constructor(){super("DecoderTypes.FrameStructureFieldOptions",[])}create(e){let i=globalThis.Object.create(this.messagePrototype);return e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){return o??this.create()}internalBinaryWrite(e,i,n){let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},aK=new Ug,zg=class extends z{constructor(){super("DecoderTypes.RequestMessageAvailability",[{no:1,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolName=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolName!==""&&i.tag(1,C.LengthDelimited).string(e.protocolName);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},lK=new zg,jg=class extends z{constructor(){super("DecoderTypes.MessagesAvailableResponse",[{no:1,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9},{no:2,name:"TotalMessages",kind:"scalar",jsonName:"TotalMessages",T:3,L:0}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolName="",i.totalMessages=0n,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolName=e.string();break;case 2:s.totalMessages=e.int64().toBigInt();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolName!==""&&i.tag(1,C.LengthDelimited).string(e.protocolName),e.totalMessages!==0n&&i.tag(2,C.Varint).int64(e.totalMessages);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Zg=new jg,$g=class extends z{constructor(){super("DecoderTypes.RequestMessages",[{no:1,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9},{no:2,name:"IndexBased",kind:"message",jsonName:"IndexBased",oneof:"request",T:()=>Jd},{no:3,name:"TimeBased",kind:"message",jsonName:"TimeBased",oneof:"request",T:()=>Zd}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolName="",i.request={oneofKind:void 0},e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolName=e.string();break;case 2:s.request={oneofKind:"indexBased",indexBased:Jd.internalBinaryRead(e,e.uint32(),n,s.request.indexBased)};break;case 3:s.request={oneofKind:"timeBased",timeBased:Zd.internalBinaryRead(e,e.uint32(),n,s.request.timeBased)};break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolName!==""&&i.tag(1,C.LengthDelimited).string(e.protocolName),e.request.oneofKind==="indexBased"&&Jd.internalBinaryWrite(e.request.indexBased,i.tag(2,C.LengthDelimited).fork(),n).join(),e.request.oneofKind==="timeBased"&&Zd.internalBinaryWrite(e.request.timeBased,i.tag(3,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Gr=new $g,Kg=class extends z{constructor(){super("DecoderTypes.RequestMessagesTimeBased",[{no:1,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9},{no:2,name:"StartTime",kind:"scalar",jsonName:"StartTime",T:1},{no:3,name:"EndTime",kind:"scalar",jsonName:"EndTime",T:1}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolName="",i.startTime=0,i.endTime=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolName=e.string();break;case 2:s.startTime=e.double();break;case 3:s.endTime=e.double();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolName!==""&&i.tag(1,C.LengthDelimited).string(e.protocolName),e.startTime!==0&&i.tag(2,C.Bit64).double(e.startTime),e.endTime!==0&&i.tag(3,C.Bit64).double(e.endTime);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},cK=new Kg,qg=class extends z{constructor(){super("DecoderTypes.MessagesResponse",[{no:1,name:"Request",kind:"message",jsonName:"Request",T:()=>Gr},{no:2,name:"Messages",kind:"message",jsonName:"Messages",repeat:1,T:()=>Vr}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.messages=[],e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.request=Gr.internalBinaryRead(e,e.uint32(),n,s.request);break;case 2:s.messages.push(Vr.internalBinaryRead(e,e.uint32(),n));break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.request&&Gr.internalBinaryWrite(e.request,i.tag(1,C.LengthDelimited).fork(),n).join();for(let s=0;s<e.messages.length;s++)Vr.internalBinaryWrite(e.messages[s],i.tag(2,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},H0=new qg,Xg=class extends z{constructor(){super("DecoderTypes.RequestBus",[{no:1,name:"ProtocolName",kind:"scalar",jsonName:"ProtocolName",T:9},{no:2,name:"StartTime",kind:"scalar",jsonName:"StartTime",T:1},{no:3,name:"EndTime",kind:"scalar",jsonName:"EndTime",T:1}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.protocolName="",i.startTime=0,i.endTime=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.protocolName=e.string();break;case 2:s.startTime=e.double();break;case 3:s.endTime=e.double();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.protocolName!==""&&i.tag(1,C.LengthDelimited).string(e.protocolName),e.startTime!==0&&i.tag(2,C.Bit64).double(e.startTime),e.endTime!==0&&i.tag(3,C.Bit64).double(e.endTime);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Lg=new Xg,Yg=class extends z{constructor(){super("DecoderTypes.PacketBus",[{no:1,name:"StartTime",kind:"scalar",jsonName:"StartTime",T:1},{no:2,name:"EndTime",kind:"scalar",jsonName:"EndTime",T:1},{no:3,name:"Content",kind:"scalar",jsonName:"Content",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.startTime=0,i.endTime=0,i.content="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.startTime=e.double();break;case 2:s.endTime=e.double();break;case 3:s.content=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.startTime!==0&&i.tag(1,C.Bit64).double(e.startTime),e.endTime!==0&&i.tag(2,C.Bit64).double(e.endTime),e.content!==""&&i.tag(3,C.LengthDelimited).string(e.content);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Bg=new Yg,Qg=class extends z{constructor(){super("DecoderTypes.BusResponse",[{no:1,name:"Request",kind:"message",jsonName:"Request",T:()=>Lg},{no:2,name:"Buses",kind:"message",jsonName:"Buses",repeat:1,T:()=>Bg}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.buses=[],e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.request=Lg.internalBinaryRead(e,e.uint32(),n,s.request);break;case 2:s.buses.push(Bg.internalBinaryRead(e,e.uint32(),n));break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.request&&Lg.internalBinaryWrite(e.request,i.tag(1,C.LengthDelimited).fork(),n).join();for(let s=0;s<e.buses.length;s++)Bg.internalBinaryWrite(e.buses[s],i.tag(2,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},dK=new Qg;var U0=(o=>(o[o.HardwareStatusType_None=0]="HardwareStatusType_None",o[o.Hardware_Memory_Buffer_Is_Full=1]="Hardware_Memory_Buffer_Is_Full",o[o.Trigger_Found=2]="Trigger_Found",o[o.Initial_Trigger=3]="Initial_Trigger",o))(U0||{}),yv=(i=>(i[i.Tunning=0]="Tunning",i[i.ExerciserDataExchange=1]="ExerciserDataExchange",i))(yv||{}),ev=class extends z{constructor(){super("CaptureService.ServiceConfigurationMessage",[{no:2,name:"captureFolderPath",kind:"scalar",T:9},{no:3,name:"maxFileSizeInBytes",kind:"scalar",T:5},{no:4,name:"useCompression",kind:"scalar",T:8},{no:5,name:"startPacket",kind:"scalar",T:12},{no:6,name:"stopPacket",kind:"scalar",T:12},{no:7,name:"advancedTriggerPacket",kind:"scalar",T:12}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.captureFolderPath="",i.maxFileSizeInBytes=0,i.useCompression=!1,i.startPacket=new Uint8Array(0),i.stopPacket=new Uint8Array(0),i.advancedTriggerPacket=new Uint8Array(0),e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 2:s.captureFolderPath=e.string();break;case 3:s.maxFileSizeInBytes=e.int32();break;case 4:s.useCompression=e.bool();break;case 5:s.startPacket=e.bytes();break;case 6:s.stopPacket=e.bytes();break;case 7:s.advancedTriggerPacket=e.bytes();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.captureFolderPath!==""&&i.tag(2,C.LengthDelimited).string(e.captureFolderPath),e.maxFileSizeInBytes!==0&&i.tag(3,C.Varint).int32(e.maxFileSizeInBytes),e.useCompression!==!1&&i.tag(4,C.Varint).bool(e.useCompression),e.startPacket.length&&i.tag(5,C.LengthDelimited).bytes(e.startPacket),e.stopPacket.length&&i.tag(6,C.LengthDelimited).bytes(e.stopPacket),e.advancedTriggerPacket.length&&i.tag(7,C.LengthDelimited).bytes(e.advancedTriggerPacket);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},vK=new ev,tv=class extends z{constructor(){super("CaptureService.EstablishLinkMessage",[{no:1,name:"device",kind:"message",T:()=>Vi},{no:2,name:"linkBytes",kind:"scalar",T:12}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.linkBytes=new Uint8Array(0),e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.device=Vi.internalBinaryRead(e,e.uint32(),n,s.device);break;case 2:s.linkBytes=e.bytes();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.device&&Vi.internalBinaryWrite(e.device,i.tag(1,C.LengthDelimited).fork(),n).join(),e.linkBytes.length&&i.tag(2,C.LengthDelimited).bytes(e.linkBytes);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},CK=new tv,iv=class extends z{constructor(){super("CaptureService.GetDeviceListMessage",[])}create(e){let i=globalThis.Object.create(this.messagePrototype);return e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){return o??this.create()}internalBinaryWrite(e,i,n){let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},wv=new iv,nv=class extends z{constructor(){super("CaptureService.DeviceListResponse",[{no:1,name:"devices",kind:"message",repeat:1,T:()=>Vi}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.devices=[],e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.devices.push(Vi.internalBinaryRead(e,e.uint32(),n));break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){for(let s=0;s<e.devices.length;s++)Vi.internalBinaryWrite(e.devices[s],i.tag(1,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},z0=new nv,ov=class extends z{constructor(){super("CaptureService.GetDeviceStatusMessage",[])}create(e){let i=globalThis.Object.create(this.messagePrototype);return e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){return o??this.create()}internalBinaryWrite(e,i,n){let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},bK=new ov,sv=class extends z{constructor(){super("CaptureService.DeviceStatusResponse",[{no:1,name:"device",kind:"message",T:()=>Vi},{no:2,name:"isConnected",kind:"scalar",T:8},{no:3,name:"isLinkEstablished",kind:"scalar",T:8},{no:4,name:"isCapturing",kind:"scalar",T:8},{no:5,name:"Error",kind:"scalar",jsonName:"Error",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.isConnected=!1,i.isLinkEstablished=!1,i.isCapturing=!1,i.error="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.device=Vi.internalBinaryRead(e,e.uint32(),n,s.device);break;case 2:s.isConnected=e.bool();break;case 3:s.isLinkEstablished=e.bool();break;case 4:s.isCapturing=e.bool();break;case 5:s.error=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.device&&Vi.internalBinaryWrite(e.device,i.tag(1,C.LengthDelimited).fork(),n).join(),e.isConnected!==!1&&i.tag(2,C.Varint).bool(e.isConnected),e.isLinkEstablished!==!1&&i.tag(3,C.Varint).bool(e.isLinkEstablished),e.isCapturing!==!1&&i.tag(4,C.Varint).bool(e.isCapturing),e.error!==""&&i.tag(5,C.LengthDelimited).string(e.error);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},_v=new sv,rv=class extends z{constructor(){super("CaptureService.StartCaptureMessage",[])}create(e){let i=globalThis.Object.create(this.messagePrototype);return e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){return o??this.create()}internalBinaryWrite(e,i,n){let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},yK=new rv,av=class extends z{constructor(){super("CaptureService.StopCaptureMessage",[{no:1,name:"Force",kind:"scalar",jsonName:"Force",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.force=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.force=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.force!==!1&&i.tag(1,C.Varint).bool(e.force);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},wK=new av,lv=class extends z{constructor(){super("CaptureService.FileDataResponse",[{no:1,name:"fileSizeUncompressed",kind:"scalar",T:3,L:0},{no:2,name:"fileName",kind:"scalar",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.fileSizeUncompressed=0n,i.fileName="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.fileSizeUncompressed=e.int64().toBigInt();break;case 2:s.fileName=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.fileSizeUncompressed!==0n&&i.tag(1,C.Varint).int64(e.fileSizeUncompressed),e.fileName!==""&&i.tag(2,C.LengthDelimited).string(e.fileName);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},_K=new lv,cv=class extends z{constructor(){super("CaptureService.TriggerStatusResponse",[{no:1,name:"status",kind:"scalar",T:8},{no:2,name:"triggerBytes",kind:"scalar",T:12}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.status=!1,i.triggerBytes=new Uint8Array(0),e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.status=e.bool();break;case 2:s.triggerBytes=e.bytes();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.status!==!1&&i.tag(1,C.Varint).bool(e.status),e.triggerBytes.length&&i.tag(2,C.LengthDelimited).bytes(e.triggerBytes);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},SK=new cv,dv=class extends z{constructor(){super("CaptureService.ExerciserData",[{no:1,name:"blocks",kind:"scalar",repeat:2,T:12}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.blocks=[],e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.blocks.push(e.bytes());break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){for(let s=0;s<e.blocks.length;s++)i.tag(1,C.LengthDelimited).bytes(e.blocks[s]);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Wl=new dv,uv=class extends z{constructor(){super("CaptureService.TunningData",[{no:1,name:"block",kind:"scalar",T:12}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.block=new Uint8Array(0),e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.block=e.bytes();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.block.length&&i.tag(1,C.LengthDelimited).bytes(e.block);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Jg=new uv,hv=class extends z{constructor(){super("CaptureService.SessionWriteMessage",[{no:1,name:"Session",kind:"message",jsonName:"Session",T:()=>Wr},{no:2,name:"TunningData",kind:"message",jsonName:"TunningData",oneof:"blockWrite",T:()=>Jg},{no:3,name:"ExerciserData",kind:"message",jsonName:"ExerciserData",oneof:"blockWrite",T:()=>Wl}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.blockWrite={oneofKind:void 0},e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.session=Wr.internalBinaryRead(e,e.uint32(),n,s.session);break;case 2:s.blockWrite={oneofKind:"tunningData",tunningData:Jg.internalBinaryRead(e,e.uint32(),n,s.blockWrite.tunningData)};break;case 3:s.blockWrite={oneofKind:"exerciserData",exerciserData:Wl.internalBinaryRead(e,e.uint32(),n,s.blockWrite.exerciserData)};break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.session&&Wr.internalBinaryWrite(e.session,i.tag(1,C.LengthDelimited).fork(),n).join(),e.blockWrite.oneofKind==="tunningData"&&Jg.internalBinaryWrite(e.blockWrite.tunningData,i.tag(2,C.LengthDelimited).fork(),n).join(),e.blockWrite.oneofKind==="exerciserData"&&Wl.internalBinaryWrite(e.blockWrite.exerciserData,i.tag(3,C.LengthDelimited).fork(),n).join();let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Sv=new hv,pv=class extends z{constructor(){super("CaptureService.SessionWriteStatus",[{no:1,name:"Successful",kind:"scalar",jsonName:"Successful",T:8},{no:2,name:"Error",kind:"scalar",jsonName:"Error",T:9}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.successful=!1,i.error="",e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.successful=e.bool();break;case 2:s.error=e.string();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.successful!==!1&&i.tag(1,C.Varint).bool(e.successful),e.error!==""&&i.tag(2,C.LengthDelimited).string(e.error);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},j0=new pv,fv=class extends z{constructor(){super("CaptureService.HardwareStatus",[{no:1,name:"PacketIndex",kind:"scalar",jsonName:"PacketIndex",T:3,L:0},{no:2,name:"StatusType",kind:"enum",jsonName:"StatusType",T:()=>["CaptureService.HardwareStatusType",U0]},{no:3,name:"Timestamp",kind:"scalar",jsonName:"Timestamp",T:1}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.packetIndex=0n,i.statusType=0,i.timestamp=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.packetIndex=e.int64().toBigInt();break;case 2:s.statusType=e.int32();break;case 3:s.timestamp=e.double();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.packetIndex!==0n&&i.tag(1,C.Varint).int64(e.packetIndex),e.statusType!==0&&i.tag(2,C.Varint).int32(e.statusType),e.timestamp!==0&&i.tag(3,C.Bit64).double(e.timestamp);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},RK=new fv,mv=class extends z{constructor(){super("CaptureService.DeviceSessionRequest",[{no:1,name:"SessionType",kind:"enum",jsonName:"SessionType",T:()=>["CaptureService.SessionType",yv]}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.sessionType=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.sessionType=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.sessionType!==0&&i.tag(1,C.Varint).int32(e.sessionType);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Rv=new mv,gv=class extends z{constructor(){super("CaptureService.DeviceSession",[{no:1,name:"CaptureServiceAddress",kind:"scalar",jsonName:"CaptureServiceAddress",T:9},{no:2,name:"CaptureServiceId",kind:"scalar",jsonName:"CaptureServiceId",T:9},{no:3,name:"Connected",kind:"scalar",jsonName:"Connected",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.captureServiceAddress="",i.captureServiceId="",i.connected=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.captureServiceAddress=e.string();break;case 2:s.captureServiceId=e.string();break;case 3:s.connected=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.captureServiceAddress!==""&&i.tag(1,C.LengthDelimited).string(e.captureServiceAddress),e.captureServiceId!==""&&i.tag(2,C.LengthDelimited).string(e.captureServiceId),e.connected!==!1&&i.tag(3,C.Varint).bool(e.connected);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},Wr=new gv,vv=class extends z{constructor(){super("CaptureService.LEDStatus",[{no:1,name:"LEDStatusInfo",kind:"scalar",jsonName:"LEDStatusInfo",T:5}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.lEDStatusInfo=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.lEDStatusInfo=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.lEDStatusInfo!==0&&i.tag(1,C.Varint).int32(e.lEDStatusInfo);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},xK=new vv,Cv=class extends z{constructor(){super("CaptureService.FIFOBufferStatus",[{no:1,name:"Blocks",kind:"scalar",jsonName:"Blocks",T:12},{no:2,name:"BufferError",kind:"scalar",jsonName:"BufferError",T:8}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.blocks=new Uint8Array(0),i.bufferError=!1,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.blocks=e.bytes();break;case 2:s.bufferError=e.bool();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.blocks.length&&i.tag(1,C.LengthDelimited).bytes(e.blocks),e.bufferError!==!1&&i.tag(2,C.Varint).bool(e.bufferError);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},EK=new Cv,bv=class extends z{constructor(){super("CaptureService.CTSStatus",[{no:1,name:"CTSSlaveUSBCounter",kind:"scalar",jsonName:"CTSSlaveUSBCounter",T:5}])}create(e){let i=globalThis.Object.create(this.messagePrototype);return i.cTSSlaveUSBCounter=0,e!==void 0&&H(this,i,e),i}internalBinaryRead(e,i,n,o){let s=o??this.create(),r=e.pos+i;for(;e.pos<r;){let[a,l]=e.tag();switch(a){case 1:s.cTSSlaveUSBCounter=e.int32();break;default:let c=n.readUnknownField;if(c==="throw")throw new globalThis.Error(`Unknown field ${a} (wire type ${l}) for ${this.typeName}`);let d=e.skip(l);c!==!1&&(c===!0?E.onRead:c)(this.typeName,s,a,l,d)}}return s}internalBinaryWrite(e,i,n){e.cTSSlaveUSBCounter!==0&&i.tag(1,C.Varint).int32(e.cTSSlaveUSBCounter);let o=n.writeUnknownFields;return o!==!1&&(o==!0?E.onWrite:o)(this.typeName,e,i),i}},DK=new bv;var Cu=class{constructor(e){this._transport=e}typeName=Yd.typeName;methods=Yd.methods;options=Yd.options;connect(e,i){let n=this.methods[0],o=this._transport.mergeOptions(i);return Oo("unary",this._transport,n,o,e)}disconnect(e,i){let n=this.methods[1],o=this._transport.mergeOptions(i);return Oo("unary",this._transport,n,o,e)}sendMessage(e,i){let n=this.methods[2],o=this._transport.mergeOptions(i);return Oo("unary",this._transport,n,o,e)}request(e,i){let n=this.methods[3],o=this._transport.mergeOptions(i);return Oo("unary",this._transport,n,o,e)}requestEventStream(e,i){let n=this.methods[4],o=this._transport.mergeOptions(i);return Oo("serverStreaming",this._transport,n,o,e)}requestEvent(e,i){let n=this.methods[5],o=this._transport.mergeOptions(i);return Oo("unary",this._transport,n,o,e)}};var le=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}(le||{});var qP=function(t,e,i,n){function o(s){return s instanceof i?s:new i(function(r){r(s)})}return new(i||(i=Promise))(function(s,r){function a(d){try{c(n.next(d))}catch(u){r(u)}}function l(d){try{c(n.throw(d))}catch(u){r(u)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function xv(t,e,i,n,o){if(n)for(let[s,r]of Object.entries(n))if(typeof r=="string")t.append(s,r);else for(let a of r)t.append(s,a);if(t.set("Content-Type",e==="text"?"application/grpc-web-text":"application/grpc-web+proto"),e=="text"&&t.set("Accept","application/grpc-web-text"),t.set("X-Grpc-Web","1"),o&&t.set("X-User-Agent",o),typeof i=="number"){if(i<=0)throw new rt(`timeout ${i} ms exceeded`,le[le.DEADLINE_EXCEEDED]);t.set("grpc-timeout",`${i}m`)}else if(i){let s=i.getTime(),r=Date.now();if(s<=r)throw new rt(`deadline ${i} exceeded`,le[le.DEADLINE_EXCEEDED]);t.set("grpc-timeout",`${s-r}m`)}return t}function Ev(t,e){let i=new Uint8Array(5+t.length);i[0]=bn.DATA;for(let n=t.length,o=4;o>0;o--)i[o]=n%256,n>>>=8;return i.set(t,5),e==="binary"?i:gl(i)}function bu(t,e,i){if(arguments.length===1){let l=t,c;try{c=l.type}catch{}switch(c){case"error":case"opaque":case"opaqueredirect":throw new rt(`fetch response type ${l.type}`,le[le.UNKNOWN])}return bu(ZP(l.headers),l.status,l.statusText)}let n=t,o=e>=200&&e<300,s=q0(n),[r,a]=K0(n);return(r===void 0||r===le.OK)&&!o&&(r=JP(e),a=i),[r,a,s]}function Dv(t){let e=QP(t),[i,n]=K0(e),o=q0(e);return[i??le.OK,n,o]}var bn=function(t){return t[t.DATA=0]="DATA",t[t.TRAILER=128]="TRAILER",t}(bn||{});function Tv(t,e,i){return qP(this,void 0,void 0,function*(){let n,o="",s=new Uint8Array(0),r=YP(e);if(XP(t)){let a=t.getReader();n={next:()=>a.read()}}else n=t[Symbol.asyncIterator]();for(;;){let a=yield n.next();if(a.value!==void 0){if(r==="text"){for(let c=0;c<a.value.length;c++)o+=String.fromCharCode(a.value[c]);let l=o.length-o.length%4;if(l===0)continue;s=$0(s,ml(o.substring(0,l))),o=o.substring(l)}else s=$0(s,a.value);for(;s.length>=5&&s[0]===bn.DATA;){let l=0;for(let c=1;c<5;c++)l=(l<<8)+s[c];if(s.length-5>=l)i(bn.DATA,s.subarray(5,5+l)),s=s.subarray(5+l);else break}}if(a.done){if(s.length===0)break;if(s[0]!==bn.TRAILER||s.length<5)throw new rt("premature EOF",le[le.DATA_LOSS]);i(bn.TRAILER,s.subarray(5));break}}})}var XP=t=>typeof t.getReader=="function";function $0(t,e){let i=new Uint8Array(t.length+e.length);return i.set(t),i.set(e,t.length),i}function YP(t){switch(t){case"application/grpc-web-text":case"application/grpc-web-text+proto":return"text";case"application/grpc-web":case"application/grpc-web+proto":return"binary";case void 0:case null:throw new rt("missing response content type",le[le.INTERNAL]);default:throw new rt("unexpected response content type: "+t,le[le.INTERNAL])}}function K0(t){let e,i,n=t["grpc-message"];if(n!==void 0){if(Array.isArray(n))return[le.INTERNAL,"invalid grpc-web message"];i=n}let o=t["grpc-status"];if(o!==void 0){if(Array.isArray(o))return[le.INTERNAL,"invalid grpc-web status"];if(e=parseInt(o,10),le[e]===void 0)return[le.INTERNAL,"invalid grpc-web status"]}return[e,i]}function q0(t){let e={};for(let[i,n]of Object.entries(t))switch(i){case"grpc-message":case"grpc-status":case"content-type":break;default:e[i]=n}return e}function QP(t){let e={};for(let i of String.fromCharCode.apply(String,t).trim().split(`\r
`)){if(i=="")continue;let[n,...o]=i.split(":"),s=o.join(":").trim();n=n.trim();let r=e[n];typeof r=="string"?e[n]=[r,s]:Array.isArray(r)?r.push(s):e[n]=s}return e}function ZP(t){let e={};return t.forEach((i,n)=>{let o=e[n];typeof o=="string"?e[n]=[o,i]:Array.isArray(o)?o.push(i):e[n]=i}),e}function JP(t){switch(t){case 200:return le.OK;case 400:return le.INVALID_ARGUMENT;case 401:return le.UNAUTHENTICATED;case 403:return le.PERMISSION_DENIED;case 404:return le.NOT_FOUND;case 409:return le.ABORTED;case 412:return le.FAILED_PRECONDITION;case 429:return le.RESOURCE_EXHAUSTED;case 499:return le.CANCELLED;case 500:return le.UNKNOWN;case 501:return le.UNIMPLEMENTED;case 503:return le.UNAVAILABLE;case 504:return le.DEADLINE_EXCEEDED;default:return le.UNKNOWN}}var Hl=class{constructor(e){this.defaultOptions=e}mergeOptions(e){return nm(this.defaultOptions,e)}makeUrl(e,i){let n=i.baseUrl;return n.endsWith("/")&&(n=n.substring(0,n.length-1)),`${n}/${e.service.typeName}/${e.name}`}clientStreaming(e){let i=new rt("Client streaming is not supported by grpc-web",le[le.UNIMPLEMENTED]);throw i.methodName=e.name,i.serviceName=e.service.typeName,i}duplex(e){let i=new rt("Duplex streaming is not supported by grpc-web",le[le.UNIMPLEMENTED]);throw i.methodName=e.name,i.serviceName=e.service.typeName,i}serverStreaming(e,i,n){var o,s,r,a;let l=n,c=(o=l.format)!==null&&o!==void 0?o:"text",d=(s=l.fetchInit)!==null&&s!==void 0?s:{},u=this.makeUrl(e,l),p=e.I.toBinary(i,l.binaryOptions),m=new Bi,y=new yl,R=!0,S,k=new Bi,P,B=new Bi;return globalThis.fetch(u,Object.assign(Object.assign({},d),{method:"POST",headers:xv(new globalThis.Headers,c,l.timeout,l.meta),body:Ev(p,c),signal:(r=n.abort)!==null&&r!==void 0?r:null})).then(U=>{let[te,Q,ce]=bu(U);if(m.resolve(ce),te!=null&&te!==le.OK)throw new rt(Q??le[te],le[te],ce);return te!=null&&(S={code:le[te],detail:Q??le[te]}),U}).then(U=>{if(!U.body)throw new rt("missing response body",le[le.INTERNAL]);return Tv(U.body,U.headers.get("content-type"),(te,Q)=>{switch(te){case bn.DATA:y.notifyMessage(e.O.fromBinary(Q,l.binaryOptions)),R=!1;break;case bn.TRAILER:let ce,Fe;[ce,Fe,P]=Dv(Q),S={code:le[ce],detail:Fe??le[ce]};break}})}).then(()=>{if(!P&&!R)throw new rt("missing trailers",le[le.DATA_LOSS]);if(!S)throw new rt("missing status",le[le.INTERNAL]);if(S.code!=="OK")throw new rt(S.detail,S.code,P);y.notifyComplete(),k.resolve(S),B.resolve(P||{})}).catch(U=>{let te;U instanceof rt?te=U:U instanceof Error&&U.name==="AbortError"?te=new rt(U.message,le[le.CANCELLED]):te=new rt(U instanceof Error?U.message:""+U,le[le.INTERNAL]),te.methodName=e.name,te.serviceName=e.service.typeName,m.rejectPending(te),y.notifyError(te),k.rejectPending(te),B.rejectPending(te)}),new _l(e,(a=l.meta)!==null&&a!==void 0?a:{},i,m.promise,y,k.promise,B.promise)}unary(e,i,n){var o,s,r,a;let l=n,c=(o=l.format)!==null&&o!==void 0?o:"text",d=(s=l.fetchInit)!==null&&s!==void 0?s:{},u=this.makeUrl(e,l),p=e.I.toBinary(i,l.binaryOptions),m=new Bi,y,R=new Bi,S,k=new Bi,P,B=new Bi;return globalThis.fetch(u,Object.assign(Object.assign({},d),{method:"POST",headers:xv(new globalThis.Headers,c,l.timeout,l.meta),body:Ev(p,c),signal:(r=n.abort)!==null&&r!==void 0?r:null})).then(U=>{let[te,Q,ce]=bu(U);if(m.resolve(ce),te!=null&&te!==le.OK)throw new rt(Q??le[te],le[te],ce);return te!=null&&(S={code:le[te],detail:Q??le[te]}),U}).then(U=>{if(!U.body)throw new rt("missing response body",le[le.INTERNAL]);return Tv(U.body,U.headers.get("content-type"),(te,Q)=>{switch(te){case bn.DATA:if(y)throw new rt("unary call received 2nd message",le[le.DATA_LOSS]);y=e.O.fromBinary(Q,l.binaryOptions);break;case bn.TRAILER:let ce,Fe;[ce,Fe,P]=Dv(Q),S={code:le[ce],detail:Fe??le[ce]};break}})}).then(()=>{if(!P&&y)throw new rt("missing trailers",le[le.DATA_LOSS]);if(!S)throw new rt("missing status",le[le.INTERNAL]);if(!y&&S.code==="OK")throw new rt("expected error status",le[le.DATA_LOSS]);if(!y)throw new rt(S.detail,S.code,P);if(R.resolve(y),S.code!=="OK")throw new rt(S.detail,S.code,P);k.resolve(S),B.resolve(P||{})}).catch(U=>{let te;U instanceof rt?te=U:U instanceof Error&&U.name==="AbortError"?te=new rt(U.message,le[le.CANCELLED]):te=new rt(U instanceof Error?U.message:""+U,le[le.INTERNAL]),te.methodName=e.name,te.serviceName=e.service.typeName,m.rejectPending(te),R.rejectPending(te),k.rejectPending(te),B.rejectPending(te)}),new wl(e,(a=l.meta)!==null&&a!==void 0?a:{},i,m.promise,R.promise,k.promise,B.promise)}};var Mn=class{static SpecVersion=1;static IsNotReq=!1;static IsCaptureImage=!1;static DeviceMode=2;static modeSelection;static SourceType;static ConnectionStatus=!1;static Clk_ChannelIndex=11;static Data_ChannelIndex=10;static Data_ChannelIndex1=9;static Data_ChannelIndex2=8;static Data_ChannelIndex3=7;static AnalyzerMode=1;static PCBboard;static SDWriteStatus;static SupportI2C=!1;static CaptureStatus=!1;static IBIInterruptType=2;static isAPIEnabled=!0;static stopCapture=!1;static StopCapture=!1;static StopDecode=!1;static _IsDecocdeActive=!1;static HWVersion;static suspendFileNumber="1";static CTSEnable=!1;static Deviceprog=!1;static MCTPEnable=!1;static SupportMCTP=!1;static selectedVoltage=0;static isPrevSavetrace=!0;static triggerType=0;static CTSSlaveUSBCounter=0;static testCode="NA";static SlaveNodeId=1;static TriggerTime=0;static StopWhenTrigger=!1;static IsCustomView=!1;static isDecodeActive;static isLastBlock;static deviceTest;static nodeList=[];static traceFilePath;static PrevtraceFilePath;static suspendSession=!1};var sn=class t{client;statusSubject=new xt(null);status$=this.statusSubject.asObservable();messagesAvailableSubject=new xt({protocolName:"",totalMessages:0n});messagesAvailable$=this.messagesAvailableSubject.asObservable();constructor(){let e=new Hl({baseUrl:"http://localhost:5000"});this.client=new Cu(e)}connect(e){return Ye(this,null,function*(){return this.client.connect(e).then(i=>Ye(this,null,function*(){return yield i.response}))})}disconnect(){return Ye(this,null,function*(){yield this.client.disconnect(new Ul.Empty)})}sendMessage(e){return Ye(this,null,function*(){yield this.client.sendMessage(e)})}request(e){return Ye(this,null,function*(){var i=this.client.sendMessage(e);return yield i.response})}requestEvent(){return this.client.requestEvent(new Ul.Empty).response}startListeningToEvents_stream(){return Ye(this,null,function*(){let e=new Ul.Empty,i=this.client.requestEventStream(e);i.responses.onMessage(n=>{let o=We.unpack(n.message,tu);o&&this.statusSubject.next(o)}),i.responses.onError(n=>{console.error("Stream error:",n)}),i.responses.onComplete(()=>{console.log("Stream ended")})})}startListeningToEvent_statusUpdate(){return Ye(this,null,function*(){let e=new Ul.Empty,i=()=>(co(100),new ai(n=>{let o=()=>Ye(this,null,function*(){try{let s=yield this.requestEvent();if(s&&s.message){if(s.message.typeUrl.endsWith(tu.typeName)){let r=We.unpack(s.message,tu);r.targetState=r.currentState+1,r&&this.statusSubject.next(r)}else if(s.message.typeUrl.endsWith(Zg.typeName)){let r=We.unpack(s.message,Zg);this.messagesAvailableSubject.next(r)}else if(s.message.typeUrl.endsWith(_v.typeName)){let r=We.unpack(s.message,_v);Mn.PCBboard=r.device?.fPGAVersion,Mn.PCBboard==0&&(Mn.PCBboard=1)}}yield new Promise(r=>setTimeout(r,500)),o()}catch(s){console.error("Request error:",s),yield new Promise(r=>setTimeout(r,500)),o()}});o()}));i().pipe(Et(()=>i()),ab(n=>n.pipe(co(500)))).subscribe({next:n=>{},error:n=>{console.error("Stream error:",n)}})})}requestMessages(e,i,n){return Ye(this,null,function*(){try{let o=Gr.create();o.protocolName=e,o.request={oneofKind:"indexBased",indexBased:{offset:i,count:n}};let s=oi.create();s.message=We.pack(o,Gr);let r=yield this.client.request(s),a=yield r.status;if(a.code==="OK"){let l=yield r.response,c=We.unpack(l.responseMessage,H0);return c?this.processFrames(c,e):(console.error("Failed to unpack MessagesResponse."),null)}else return console.error("Request failed with status:",a),null}catch(o){return console.error("Error in requestMessages:",o),null}})}index=1;processFrames(e,i){let n=[];return e.messages.forEach(o=>{let s,r=[];if(o.extendedFrame?.typeUrl.endsWith(Rg.typeName)&&(s=We.unpack(o.extendedFrame,Rg),s.packets.forEach(a=>{let l;switch(a.packet.oneofKind){case"address":let c={addressValue:a.packet.address?.addressValue,packetType:a.packet.address?.packetType,protocolMode:a.packet.address?.protocolMode,hostDevice:a.packet.address?.hostDevice,description:a.packet.address?.description,transferType:a.packet.address?.transferType,errorType:a.packet.address?.errorType,ackType:a.packet.address?.ackType,is10Bit:a.packet.address?.is10Bit,startType:a.packet.address?.startType,addressInterval:{startTime:a.packet.address?.addressInterval?.startTime??0,endTime:a.packet.address?.addressInterval?.endTime??0},transferInterval:{startTime:a.packet.address?.transferInterval?.startTime??0,endTime:a.packet.address?.transferInterval?.endTime??0},ackInterval:{startTime:a.packet.address?.ackInterval?.startTime??0,endTime:a.packet.address?.ackInterval?.endTime??0}};l={hasStop:a.hasStop,packet:{oneofKind:"address",address:c}},r.push(l);break;case"command":let d={commandValue:a.packet.command?.commandValue??0,packetType:a.packet.command?.packetType,protocolMode:a.packet.command?.protocolMode,hostDevice:a.packet.command?.hostDevice,description:a.packet.command?.description,parity:a.packet.command?.parity,errorType:a.packet.command?.errorType,commandInterval:{startTime:a.packet.command?.commandInterval?.startTime??0,endTime:a.packet.command?.commandInterval?.endTime??0},commandParityInterval:{startTime:a.packet.command?.commandParityInterval?.startTime??0,endTime:a.packet.command?.commandParityInterval?.endTime??0}};l={hasStop:a.hasStop,packet:{oneofKind:"command",command:d}},r.push(l);break;case"data":let u={dataValue:a.packet.data?.dataValue??0,packetType:a.packet.data?.packetType,protocolMode:a.packet.data?.protocolMode,hostDevice:a.packet.data?.hostDevice,description:a.packet.data?.description,transmitBit:a.packet.data?.transmitBit,errorType:a.packet.data?.errorType,mLaneType:a.packet.data?.mLaneType,dataInterval:a.packet.data?.dataInterval,dataTransmitInterval:a.packet.data?.dataTransmitInterval};l={hasStop:a.hasStop,packet:{oneofKind:"data",data:u}},r.push(l);break;case"start":let p={startType:a.packet.start?.startType,startInterval:a.packet.start?.startInterval};l={hasStop:a.hasStop,packet:{oneofKind:"start",start:p}},r.push(l);break;case"hDR":let m={hdrValue:a.packet.hDR?.hdrValue,packetType:a.packet.hDR?.packetType,protocolMode:a.packet.hDR?.protocolMode,hostDevice:a.packet.hDR?.hostDevice,description:a.packet.hDR?.description,transmitBit:a.packet.hDR?.transmitBit,errorType:a.packet.hDR?.errorType,preamble:a.packet.hDR?.preamble??0,isMaster1_1:a.packet.hDR?.isMaster1_1,hdrDataInterval:a.packet.hDR?.hdrDataInterval};l={hasStop:a.hasStop,packet:{oneofKind:"hDR",hDR:m}},r.push(l);break;case"stop":let y={stopInterval:a.packet.stop?.stopInterval};l={hasStop:a.hasStop,packet:{oneofKind:"stop",stop:y}},r.push(l);break;case"extendedAddress":console.log("Handling extendedAddress frame type");break;default:console.error("Unknown packet type:",a.packet.oneofKind);return}})),s){let a={frameIndex:this.index++,frameType:s.frame,errorType:s.error,protocol:0,startTime:o.startTime,stopTime:o.stopTime,packets:r};n.push(a)}}),n}requestDeviceList(){return Ye(this,null,function*(){try{let e=wv.create(),i=oi.create({message:We.pack(e,wv)}),o=yield(yield this.client.request(i)).response,s=We.unpack(o.responseMessage,z0);if(!s||!s.devices||s.devices.length===0)throw alert("No devices connected"),new Error("No devices connected");return s.devices}catch(e){throw console.error("Error fetching device list",e),e}})}setupDevice(e,i){return Ye(this,null,function*(){try{if(!i||i.length===0)throw new Error("No devices available for selection");let n=i[0];i.length>1&&(n=i[1]);let o=qm.create({userName:e,selectedDevice:n}),s=oi.create();s.message=We.pack(o,qm),yield this.client.sendMessage(s)}catch(n){throw console.error("Error setting up device",n),n}})}deviceSession=Wr.create();headerPacket="00 FE B5 9C 8F 60 D4 BE D9 71 E2 FA 08 00 45 00 04 24 01 00 40 00 01 88 F0 93 C0 A8 01 32 C0 A8 01 3C 09 01 09 00 00 08 69 AF";sendExpdConfiguration(e){return Ye(this,null,function*(){if(this.deviceSession===null||!this.deviceSession.connected)try{let r=Rv.create({sessionType:1}),a=oi.create({message:We.pack(r,Rv)}),c=yield this.client.request(a).response,d=We.unpack(c.responseMessage,Wr);if(!d||!d.connected)throw alert("Not Connected"),new Error("Not able to connect");this.deviceSession=d}catch(r){throw alert("Error while establishing device session"),r instanceof Error?new Error(`Error connecting to device session: ${r.message}`):new Error("Unknown error occurred")}let i=new Uint8Array(this.headerPacket.split(" ").map(r=>parseInt(r,16)));console.log("headerBytesArray: ",i);let n=e.map(r=>{let a=new Uint8Array(i.length+r.length);return a.set(i),a.set(r,i.length),a});console.log("updatedPackets: ",n);let o=Wl.create({blocks:n});console.log("exerciserData: ",JSON.stringify(o));let s=Sv.create({session:this.deviceSession,blockWrite:{oneofKind:"exerciserData",exerciserData:o}});try{let r=oi.create({message:We.pack(s,Sv)}),l=yield this.client.request(r).response,c=We.unpack(l.responseMessage,j0);if(alert(c?"Write Status: "+(c.successful?"Successful":"Failed")+`
Error: `+c.error:"Failed to unpack the response or write status is undefined."),console.log("Write Status Object: ",c),!c||!c.successful)throw this.deviceSession=null,alert(`Error while sending data1: ${c.error}`),new Error(`Error while sending data: ${c.error}`)}catch(r){throw this.deviceSession=null,alert(`Error while sending data2, ${JSON.stringify(r)}`),r instanceof Error?(alert(`Error while sending data, ${JSON.stringify(r)}`),new Error(`Error while sending data3: ${r.message}`)):(alert("Error while sending data"),new Error("Unknown error occurred"))}})}delay(e){return new Promise(i=>setTimeout(i,e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var Pn=class t{constructor(e,i){this.commonService=e;this.protoService=i;this.isElectron()&&(this.ipcRenderer=window.require("electron").ipcRenderer,this.setCaptureAppName())}captureAppName="";captureAppPath="";appServerAddress="";userName="EXPDLive";ipcRenderer;isElectron(){return!!(window&&window.process&&window.process.type)}setCaptureAppName(){return Ye(this,null,function*(){if(this.ipcRenderer){let e=yield this.ipcRenderer.invoke("get-process-id");this.captureAppName=`CaptureApp_${e}`,console.log("Capture App Name:",this.captureAppName)}})}sendSetupSystemMessageLive(){return Ye(this,null,function*(){let e=this.userName,i=!1,n=1,o=1,s=1,r=this.captureAppName,a=this.commonService.createSetupSystemMessage(e,i,n,o,s,r);yield this.protoService.sendMessage(a)})}launchCaptureApp(){return Ye(this,null,function*(){if(this.ipcRenderer)try{let e=yield this.ipcRenderer.invoke("launch-capture-app","","",this.captureAppName);e.error?console.error("Failed to launch capture app:",e.error):console.log("Capture app launched successfully:",e.output)}catch(e){console.error("Error during app launch:",e)}})}sendSetupDeviceSystemMessage(){return Ye(this,null,function*(){try{let e=yield this.protoService.requestDeviceList();yield this.protoService.setupDevice(this.userName,e)}catch{alert("Error in setting up device system")}})}sendInitializeRunMessage(){return Ye(this,null,function*(){let e=this.userName,i=1,n=!0,o=this.commonService.createRunConfigurationLive();console.log(o);let s=this.commonService.createInitializeRunLiveMessage(e,i,o,n);console.log(s),yield this.protoService.sendMessage(s)})}startrun(){return Ye(this,null,function*(){let i=this.commonService.createStartRunMessage(1);yield this.protoService.sendMessage(i)})}stoprun(){return Ye(this,null,function*(){let i=this.commonService.createStopRunMessage(1);yield this.protoService.sendMessage(i)})}publishModifiedScript(e){return Ye(this,null,function*(){alert("Sending packets.."),yield this.protoService.sendExpdConfiguration(e)})}static \u0275fac=function(i){return new(i||t)(F(Go),F(sn))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var wu=class t{constructor(e,i){this.masterUIService=e;this.onlineService=i;this.masterUIService.scriptList$.subscribe(n=>{this.scriptList=n})}scriptList=[];OnbuttonClick(){let e=[23,0,32,128],i=new Uint8Array(e),n=8210,o=new Uint8Array(n),s=new Uint8Array(i.length+o.length);s.set(i),s.set(o,i.length),console.log(s),console.log(s.length),this.onlineService.publishModifiedScript([s])}OnbuttonClick1(){let e=[18,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,4,20,0,0,0,144,0,0,0,0,0,0,8,0,0,7,1,9,3,192,0,100,100,0,0,0,160,0,101,4,0,0,0,144,0,4,0,0,0,0,128,192,4,2,0,0,0,128,136,4,5,0,0,0,128,144,0,0,0,0,0,128,132,0,0,0],i=new Uint8Array(e);console.log(i),console.log(i.length),this.onlineService.publishModifiedScript([i])}static \u0275fac=function(i){return new(i||t)(b(on),b(Pn))};static \u0275cmp=$({type:t,selectors:[["app-summary"]],standalone:!0,features:[K],decls:4,vars:0,consts:[[3,"click"]],template:function(i,n){i&1&&(f(0,"button",0),Y("click",function(){return n.OnbuttonClick()}),_(1,"Buffer Reset"),g(),f(2,"button",0),Y("click",function(){return n.OnbuttonClick1()}),_(3,"Send"),g())}})};var _u=class t{selectedTab="Sys";onTabChange(e){this.selectedTab=e.tab.textLabel}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["app-master-ui"]],standalone:!0,features:[K],decls:13,vars:0,consts:[[3,"selectedTabChange"],["label","Sys"],[1,"exerciser-form"],["label","SysOD"],["label","SysExtended"],["label","Bus"],["label","Loop"],["label","BufferAccess"],["label","Summary"]],template:function(i,n){i&1&&(f(0,"mat-tab-group",0),Y("selectedTabChange",function(s){return n.onTabChange(s)}),f(1,"mat-tab",1),ee(2,"app-sys",2),g(),f(3,"mat-tab",3),ee(4,"app-sys-od",2),g(),f(5,"mat-tab",4),ee(6,"app-sys-extended",2),g(),f(7,"mat-tab",5),ee(8,"app-bus",2),g(),ee(9,"mat-tab",6)(10,"mat-tab",7),f(11,"mat-tab",8),ee(12,"app-summary"),g()())},dependencies:[Ro,vs,br,yi,Ed,kd,Md,Ad,wu],styles:[".exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:20px}.form-field[_ngcontent-%COMP%]{width:100%}.wrapcontainer[_ngcontent-%COMP%], .period-container[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.period-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:48%}.button-container[_ngcontent-%COMP%]{text-align:center}.exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.twofeild[_ngcontent-%COMP%]{display:flex;flex-direction:row}.label-container[_ngcontent-%COMP%]{background-color:#f9f1f6;color:#140c0c;padding:8px;min-width:150px;text-align:left;border:1px}.MessageTypecontainer[_ngcontent-%COMP%]{padding:8px;background-color:#fff;min-width:200px;text-align:left;border:1px}textarea[_ngcontent-%COMP%]{min-height:80px}"]})};var tA=["*",[["mat-toolbar-row"]]],iA=["*","mat-toolbar-row"],Iv=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let t=e;return t})(),Su=(()=>{let e=class e{constructor(n,o,s){this._elementRef=n,this._platform=o,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(o){return new(o||e)(b(re),b(je),b(Me))},e.\u0275cmp=$({type:e,selectors:[["mat-toolbar"]],contentQueries:function(o,s,r){if(o&1&&bt(r,Iv,5),o&2){let a;xe(a=Ee())&&(s._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,s){o&2&&(Vt(s.color?"mat-"+s.color:""),Se("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",s._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[K],ngContentSelectors:iA,decls:2,vars:0,template:function(o,s){o&1&&(it(tA),Ne(0),Ne(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Hr=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,Pe]});let t=e;return t})();var nA=["*"],Ru;function oA(){if(Ru===void 0&&(Ru=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Ru=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ru}function jl(t){return oA()?.createHTML(t)||t}function Y0(t){return Error(`Unable to find icon with the name "${t}"`)}function sA(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function Q0(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Z0(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Jn=class{constructor(e,i,n){this.url=e,this.svgText=i,this.options=n}},rA=(()=>{let e=class e{constructor(n,o,s,r){this._httpClient=n,this._sanitizer=o,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(n,o,s){return this.addSvgIconInNamespace("",n,o,s)}addSvgIconLiteral(n,o,s){return this.addSvgIconLiteralInNamespace("",n,o,s)}addSvgIconInNamespace(n,o,s,r){return this._addSvgIconConfig(n,o,new Jn(s,null,r))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,o,s,r){let a=this._sanitizer.sanitize(Ii.HTML,s);if(!a)throw Z0(s);let l=jl(a);return this._addSvgIconConfig(n,o,new Jn("",l,r))}addSvgIconSet(n,o){return this.addSvgIconSetInNamespace("",n,o)}addSvgIconSetLiteral(n,o){return this.addSvgIconSetLiteralInNamespace("",n,o)}addSvgIconSetInNamespace(n,o,s){return this._addSvgIconSetConfig(n,new Jn(o,null,s))}addSvgIconSetLiteralInNamespace(n,o,s){let r=this._sanitizer.sanitize(Ii.HTML,o);if(!r)throw Z0(o);let a=jl(r);return this._addSvgIconSetConfig(n,new Jn("",a,s))}registerFontClassAlias(n,o=n){return this._fontCssClassesByAlias.set(n,o),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let o=this._sanitizer.sanitize(Ii.RESOURCE_URL,n);if(!o)throw Q0(n);let s=this._cachedIconsByUrl.get(o);return s?we(xu(s)):this._loadSvgIconFromConfig(new Jn(n,null)).pipe(_t(r=>this._cachedIconsByUrl.set(o,r)),Be(r=>xu(r)))}getNamedSvgIcon(n,o=""){let s=J0(o,n),r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(o,n),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);let a=this._iconSetConfigs.get(o);return a?this._getSvgFromIconSetConfigs(n,a):Qo(Y0(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?we(xu(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(Be(o=>xu(o)))}_getSvgFromIconSetConfigs(n,o){let s=this._extractIconWithNameFromAnySet(n,o);if(s)return we(s);let r=o.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(ao(l=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Ii.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),we(null)})));return Cc(r).pipe(Be(()=>{let a=this._extractIconWithNameFromAnySet(n,o);if(!a)throw Y0(n);return a}))}_extractIconWithNameFromAnySet(n,o){for(let s=o.length-1;s>=0;s--){let r=o[s];if(r.svgText&&r.svgText.toString().indexOf(n)>-1){let a=this._svgElementFromConfig(r),l=this._extractSvgIconFromSet(a,n,r.options);if(l)return l}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(_t(o=>n.svgText=o),Be(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?we(null):this._fetchIcon(n).pipe(_t(o=>n.svgText=o))}_extractSvgIconFromSet(n,o,s){let r=n.querySelector(`[id="${o}"]`);if(!r)return null;let a=r.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,s);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),s);let l=this._svgElementFromString(jl("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,s)}_svgElementFromString(n){let o=this._document.createElement("DIV");o.innerHTML=n;let s=o.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(n){let o=this._svgElementFromString(jl("<svg></svg>")),s=n.attributes;for(let r=0;r<s.length;r++){let{name:a,value:l}=s[r];a!=="id"&&o.setAttribute(a,l)}for(let r=0;r<n.childNodes.length;r++)n.childNodes[r].nodeType===this._document.ELEMENT_NODE&&o.appendChild(n.childNodes[r].cloneNode(!0));return o}_setSvgAttributes(n,o){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),o&&o.viewBox&&n.setAttribute("viewBox",o.viewBox),n}_fetchIcon(n){let{url:o,options:s}=n,r=s?.withCredentials??!1;if(!this._httpClient)throw sA();if(o==null)throw Error(`Cannot fetch icon from URL "${o}".`);let a=this._sanitizer.sanitize(Ii.RESOURCE_URL,o);if(!a)throw Q0(o);let l=this._inProgressUrlFetches.get(a);if(l)return l;let c=this._httpClient.get(a,{responseType:"text",withCredentials:r}).pipe(Be(d=>jl(d)),es(()=>this._inProgressUrlFetches.delete(a)),cb());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(n,o,s){return this._svgIconConfigs.set(J0(n,o),s),this}_addSvgIconSetConfig(n,o){let s=this._iconSetConfigs.get(n);return s?s.push(o):this._iconSetConfigs.set(n,[o]),this}_svgElementFromConfig(n){if(!n.svgElement){let o=this._svgElementFromString(n.svgText);this._setSvgAttributes(o,n.options),n.svgElement=o}return n.svgElement}_getIconConfigFromResolvers(n,o){for(let s=0;s<this._resolvers.length;s++){let r=this._resolvers[s](o,n);if(r)return aA(r)?new Jn(r.url,null,r.options):new Jn(r,null)}}};e.\u0275fac=function(o){return new(o||e)(F(ey,8),F(ep),F(Me,8),F(is))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xu(t){return t.cloneNode(!0)}function J0(t,e){return t+":"+e}function aA(t){return!!(t.url&&t.options)}var lA=new ie("MAT_ICON_DEFAULT_OPTIONS"),cA=new ie("mat-icon-location",{providedIn:"root",factory:dA});function dA(){let t=j(Me),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var eS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],uA=eS.map(t=>`[${t}]`).join(", "),hA=/^url\(['"]?#(.*?)['"]?\)$/,Eu=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let o=this._cleanupFontValue(n);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let o=this._cleanupFontValue(n);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}constructor(n,o,s,r,a,l){this._elementRef=n,this._iconRegistry=o,this._location=r,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=gt.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),s||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let o=n.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,o=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){let s=n.childNodes[o];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>n.classList.remove(s)),o.forEach(s=>n.classList.add(s)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let o=this._elementsWithExternalReferences;o&&o.forEach((s,r)=>{s.forEach(a=>{r.setAttribute(a.name,`url('${n}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(n){let o=n.querySelectorAll(uA),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<o.length;r++)eS.forEach(a=>{let l=o[r],c=l.getAttribute(a),d=c?c.match(hA):null;if(d){let u=s.get(l);u||(u=[],s.set(l,u)),u.push({name:a,value:d[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[o,s]=this._splitIconName(n);o&&(this._svgNamespace=o),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,o).pipe(Lt(1)).subscribe(r=>this._setSvgElement(r),r=>{let a=`Error retrieving icon ${o}:${s}! ${r.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(o){return new(o||e)(b(re),b(rA),Ti("aria-hidden"),b(cA),b(is),b(lA,8))},e.\u0275cmp=$({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(o,s){o&2&&(Ge("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Vt(s.color?"mat-"+s.color:""),Se("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ye],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[et,K],ngContentSelectors:nA,decls:1,vars:0,template:function(o,s){o&1&&(it(),Ne(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),Uo=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,Pe]});let t=e;return t})();function pA(t,e){}var Es=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Mv=(()=>{let e=class e extends vr{constructor(n,o,s,r,a,l,c,d){super(),this._elementRef=n,this._focusTrapFactory=o,this._config=r,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=c,this._focusMonitor=d,this._platform=j(je),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=j(lt),this._injector=j(vt),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let p=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),p},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let o=this._ariaLabelledByQueue.indexOf(n);o>-1&&(this._ariaLabelledByQueue.splice(o,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let o=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),o}attachTemplatePortal(n){this._portalOutlet.hasAttached();let o=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,o){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{n.removeEventListener("blur",s),n.removeEventListener("mousedown",s),n.removeAttribute("tabindex")};n.addEventListener("blur",s),n.addEventListener("mousedown",s)})),n.focus(o)}_focusByCssSelector(n,o){let s=this._elementRef.nativeElement.querySelector(n);s&&this._forceFocus(s,o)}_trapFocus(){this._isDestroyed||ki(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,o=null;if(typeof n=="string"?o=this._document.querySelector(n):typeof n=="boolean"?o=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(o=n),this._config.restoreFocus&&o&&typeof o.focus=="function"){let s=Wa(),r=this._elementRef.nativeElement;(!s||s===this._document.body||s===r||r.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,o=Wa();return n===o||n.contains(o)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Wa()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(o){return new(o||e)(b(re),b(td),b(Me,8),b(Es),b(Ua),b(pe),b($n),b(bi))},e.\u0275cmp=$({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(o,s){if(o&1&&Qe(Un,7),o&2){let r;xe(r=Ee())&&(s._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(o,s){o&2&&Ge("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Je,K],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,s){o&1&&de(0,pA,0,0,"ng-template",0)},dependencies:[Un],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),$l=class{constructor(e,i){this.overlayRef=e,this.config=i,this.closed=new he,this.disableClose=i.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Wt(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(e,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(e),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",i=""){return this.overlayRef.updateSize({width:e,height:i}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},fA=new ie("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=j(yt);return()=>t.scrollStrategies.block()}}),mA=new ie("DialogData"),gA=new ie("DefaultDialogConfig");var vA=0,Pv=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,o,s,r,a,l){this._overlay=n,this._injector=o,this._defaultOptions=s,this._parentDialog=r,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he,this._afterOpenedAtThisLevel=new he,this._ariaHiddenElements=new Map,this.afterAllClosed=Ln(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ft(void 0))),this._scrollStrategy=l}open(n,o){let s=this._defaultOptions||new Es;o=D(D({},s),o),o.id=o.id||`cdk-dialog-${vA++}`,o.id&&this.getDialogById(o.id);let r=this._getOverlayConfig(o),a=this._overlay.create(r),l=new $l(a,o),c=this._attachContainer(a,l,o);return l.containerInstance=c,this._attachDialogContent(n,l,c,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){kv(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(o=>o.id===n)}ngOnDestroy(){kv(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),kv(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let o=new Po({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(o.backdropClass=n.backdropClass),o}_attachContainer(n,o,s){let r=s.injector||s.viewContainerRef?.injector,a=[{provide:Es,useValue:s},{provide:$l,useValue:o},{provide:$n,useValue:n}],l;s.container?typeof s.container=="function"?l=s.container:(l=s.container.type,a.push(...s.container.providers(s))):l=Mv;let c=new _o(l,s.viewContainerRef,vt.create({parent:r||this._injector,providers:a}),s.componentFactoryResolver);return n.attach(c).instance}_attachDialogContent(n,o,s,r){if(n instanceof $t){let a=this._createInjector(r,o,s,void 0),l={$implicit:r.data,dialogRef:o};r.templateContext&&(l=D(D({},l),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),s.attachTemplatePortal(new Zi(n,null,l,a))}else{let a=this._createInjector(r,o,s,this._injector),l=s.attachComponentPortal(new _o(n,r.viewContainerRef,a,r.componentFactoryResolver));o.componentRef=l,o.componentInstance=l.instance}}_createInjector(n,o,s,r){let a=n.injector||n.viewContainerRef?.injector,l=[{provide:mA,useValue:n.data},{provide:$l,useValue:o}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(o,n,s)):l.push(...n.providers)),n.direction&&(!a||!a.get(Dt,null,{optional:!0}))&&l.push({provide:Dt,useValue:{value:n.direction,change:we()}}),vt.create({parent:a||r,providers:l})}_removeOpenDialog(n,o){let s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,a)=>{r?a.setAttribute("aria-hidden",r):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let o=n.parentElement.children;for(let s=o.length-1;s>-1;s--){let r=o[s];r!==n&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(o){return new(o||e)(F(yt),F(vt),F(gA,8),F(e,12),F(Dr),F(fA))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kv(t,e){let i=t.length;for(;i--;)e(t[i])}var iS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({providers:[Pv],imports:[In,gs,id,gs]});let t=e;return t})();function CA(t,e){}var Kl=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Av="mdc-dialog--open",nS="mdc-dialog--opening",oS="mdc-dialog--closing",bA=150,yA=75,wA=(()=>{let e=class e extends Mv{constructor(n,o,s,r,a,l,c,d,u){super(n,o,s,r,a,l,c,u),this._animationMode=d,this._animationStateChanged=new M,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?rS(this._config.enterAnimationDuration)??bA:0,this._exitAnimationDuration=this._animationsEnabled?rS(this._config.exitAnimationDuration)??yA:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(sS,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(nS,Av)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Av),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Av),this._animationsEnabled?(this._hostElement.style.setProperty(sS,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oS)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(nS,oS)}_waitForAnimationToComplete(n,o){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(o,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let o=super.attachComponentPortal(n);return o.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),o}};e.\u0275fac=function(o){return new(o||e)(b(re),b(td),b(Me,8),b(Kl),b(Ua),b(pe),b($n),b(ft,8),b(bi))},e.\u0275cmp=$({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(o,s){o&2&&(Mi("id",s._config.id),Ge("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Se("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[Je,K],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(o,s){o&1&&(f(0,"div",0)(1,"div",1),de(2,CA,0,0,"ng-template",2),g()())},dependencies:[Un],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let t=e;return t})(),sS="--mat-dialog-transition-duration";function rS(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?ci(t.substring(0,t.length-2)):t.endsWith("s")?ci(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Du=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Du||{}),Ur=class{constructor(e,i,n){this._ref=e,this._containerInstance=n,this._afterOpened=new he,this._beforeClosed=new he,this._state=Du.OPEN,this.disableClose=i.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(st(o=>o.state==="opened"),Lt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(st(o=>o.state==="closed"),Lt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ut(this.backdropClick(),this.keydownEvents().pipe(st(o=>o.keyCode===27&&!this.disableClose&&!Wt(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),_A(this,o.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(st(i=>i.state==="closing"),Lt(1)).subscribe(i=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=Du.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let i=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?i.left(e.left):i.right(e.right):i.centerHorizontally(),e&&(e.top||e.bottom)?e.top?i.top(e.top):i.bottom(e.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",i=""){return this._ref.updateSize(e,i),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Du.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function _A(t,e,i){return t._closeInteractionType=e,t.close(i)}var Fv=new ie("MatMdcDialogData"),SA=new ie("mat-mdc-dialog-default-options"),RA=new ie("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(yt);return()=>t.scrollStrategies.block()}});var xA=0,Tu=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,o,s,r,a,l,c,d){this._overlay=n,this._defaultOptions=r,this._scrollStrategy=a,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he,this._afterOpenedAtThisLevel=new he,this.dialogConfigClass=Kl,this.afterAllClosed=Ln(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ft(void 0))),this._dialog=o.get(Pv),this._dialogRefConstructor=Ur,this._dialogContainerType=wA,this._dialogDataToken=Fv}open(n,o){let s;o=D(D({},this._defaultOptions||new Kl),o),o.id=o.id||`mat-mdc-dialog-${xA++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(n,_e(D({},o),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:o},{provide:Es,useValue:o}]},templateContext:()=>({dialogRef:s}),providers:(a,l,c)=>(s=new this._dialogRefConstructor(a,o,c),s.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=r.componentRef,s.componentInstance=r.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(o=>o.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let o=n.length;for(;o--;)n[o].close()}};e.\u0275fac=function(o){return new(o||e)(F(yt),F(vt),F(po,8),F(SA,8),F(RA),F(e,12),F(Dr),F(ft,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EA=0;var aS=(()=>{let e=class e{constructor(n,o,s){this._dialogRef=n,this._elementRef=o,this._dialog=s}ngOnInit(){this._dialogRef||(this._dialogRef=DA(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};e.\u0275fac=function(o){return new(o||e)(b(Ur,8),b(re),b(Tu))},e.\u0275dir=ue({type:e,standalone:!0});let t=e;return t})(),lS=(()=>{let e=class e extends aS{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${EA++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275dir=ue({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(o,s){o&2&&Mi("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[Je]});let t=e;return t})(),cS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[Db([Qa])]});let t=e;return t})(),dS=(()=>{let e=class e extends aS{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275dir=ue({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(o,s){o&2&&Se("mat-mdc-dialog-actions-align-start",s.align==="start")("mat-mdc-dialog-actions-align-center",s.align==="center")("mat-mdc-dialog-actions-align-end",s.align==="end")},inputs:{align:"align"},standalone:!0,features:[Je]});let t=e;return t})();function DA(t,e){let i=t.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-mdc-dialog-container");)i=i.parentElement;return i?e.find(n=>n.id===i.id):null}var Iu=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({providers:[Tu],imports:[iS,In,gs,Pe,Pe]});let t=e;return t})();var TA=["*"];var IA=new ie("MAT_CARD_CONFIG"),hS=(()=>{let e=class e{constructor(n){this.appearance=n?.appearance||"raised"}};e.\u0275fac=function(o){return new(o||e)(b(IA,8))},e.\u0275cmp=$({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(o,s){o&2&&Se("mat-mdc-card-outlined",s.appearance==="outlined")("mdc-card--outlined",s.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[K],ngContentSelectors:TA,decls:1,vars:0,template:function(o,s){o&1&&(it(),Ne(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let t=e;return t})(),pS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=ue({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let t=e;return t})();var fS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,li,Pe]});let t=e;return t})();var gS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Za]});let t=e;return t})();var ku=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,gS,Pe]});let t=e;return t})();function MA(t,e){if(t&1&&(f(0,"mat-option",28),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function PA(t,e){t&1&&ee(0,"input",29)}function AA(t,e){t&1&&(f(0,"th"),_(1,"Bit[31-16]"),g())}function FA(t,e){t&1&&(f(0,"th"),_(1,"Bit[15-12]"),g())}function OA(t,e){t&1&&(f(0,"th"),_(1,"Bit[11-0]"),g())}function NA(t,e){t&1&&(f(0,"th"),_(1,"Bit[31:0]"),g())}function LA(t,e){if(t&1&&(f(0,"mat-option",28),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function BA(t,e){t&1&&(f(0,"td"),_(1,"Part ID"),g())}function VA(t,e){t&1&&(f(0,"td"),_(1,"Instance ID"),g())}function GA(t,e){t&1&&(f(0,"td"),_(1,"vendor Def"),g())}function WA(t,e){t&1&&(f(0,"td"),_(1,"RandomValue"),g())}function HA(t,e){if(t&1&&(f(0,"mat-option",28),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function UA(t,e){if(t&1){let i=tt();f(0,"mat-select",25),ke("ngModelChange",function(o){ne(i);let s=X(2);return Ie(s.selectedMID,o)||(s.selectedMID=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X(2);return oe(o.onMIDChange())}),de(1,HA,2,2,"mat-option",23),g()}if(t&2){let i=X(2);Te("ngModel",i.selectedMID),x(),G("ngForOf",i.cmbMID)}}function zA(t,e){if(t&1){let i=tt();f(0,"div")(1,"input",30),ke("ngModelChange",function(o){ne(i);let s=X(2);return Ie(s.txtMID,o)||(s.txtMID=o),oe(o)}),Y("blur",function(){ne(i);let o=X(2);return oe(o.txtMID_LostFocus())}),g()()}if(t&2){let i=X(2);x(),Te("ngModel",i.txtMID)}}function jA(t,e){if(t&1&&(f(0,"option",28),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function $A(t,e){if(t&1){let i=tt();f(0,"td")(1,"input",30),ke("ngModelChange",function(o){ne(i);let s=X(2);return Ie(s.txtPartID,o)||(s.txtPartID=o),oe(o)}),Y("blur",function(o){ne(i);let s=X(2);return oe(s.txtPartID_LostFocus(o))}),g()()}if(t&2){let i=X(2);x(),Te("ngModel",i.txtPartID)}}function KA(t,e){if(t&1){let i=tt();f(0,"td")(1,"input",30),ke("ngModelChange",function(o){ne(i);let s=X(2);return Ie(s.txtInstance,o)||(s.txtInstance=o),oe(o)}),Y("blur",function(o){ne(i);let s=X(2);return oe(s.txtInstance_LostFocus(o))}),g()()}if(t&2){let i=X(2);x(),Te("ngModel",i.txtInstance)}}function qA(t,e){if(t&1){let i=tt();f(0,"td")(1,"input",30),ke("ngModelChange",function(o){ne(i);let s=X(2);return Ie(s.txtVendorDef,o)||(s.txtVendorDef=o),oe(o)}),Y("blur",function(o){ne(i);let s=X(2);return oe(s.txtVendorDef_LostFocus(o))}),g()()}if(t&2){let i=X(2);x(),Te("ngModel",i.txtVendorDef)}}function XA(t,e){if(t&1){let i=tt();f(0,"td")(1,"input",30),ke("ngModelChange",function(o){ne(i);let s=X(2);return Ie(s.txtRandom,o)||(s.txtRandom=o),oe(o)}),Y("blur",function(o){ne(i);let s=X(2);return oe(s.txtRandom_LostFocus(o))}),g()()}if(t&2){let i=X(2);x(),Te("ngModel",i.txtRandom)}}function YA(t,e){if(t&1){let i=tt();f(0,"mat-dialog-content")(1,"mat-card")(2,"fieldset",4)(3,"legend",5),_(4,"BCR - Bus Characteristic Register"),g(),f(5,"div",6)(6,"table",7)(7,"thead")(8,"tr")(9,"th"),_(10,"Bit[7]"),g(),f(11,"th"),_(12,"Bit[6]"),g(),f(13,"th"),_(14,"Bit[5]"),g(),f(15,"th"),_(16,"Bit[4]"),g(),f(17,"th"),_(18,"Bit[3]"),g(),f(19,"th"),_(20,"Bit[2]"),g(),f(21,"th"),_(22,"Bit[1]"),g(),f(23,"th"),_(24,"Bit[0]"),g()()(),f(25,"tbody")(26,"tr")(27,"td",8),_(28,"Device Role"),g(),f(29,"td"),_(30,"SDR/HDR"),g(),f(31,"td"),_(32,"Bridge Id"),g(),f(33,"td"),_(34,"Offline Cap"),g(),f(35,"td"),_(36,"IBI Payload"),g(),f(37,"td"),_(38,"IBI Request"),g(),f(39,"td"),_(40,"MAX SPEED"),g()(),f(41,"tr")(42,"td",8),_(43),g(),f(44,"td")(45,"mat-select",9),ke("valueChange",function(o){ne(i);let s=X();return Ie(s.selectedSDR,o)||(s.selectedSDR=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X();return oe(o.onSelectedSDRChange())}),f(46,"mat-option",10),_(47,"SDR Only"),g(),f(48,"mat-option",11),_(49,"HDR Capable"),g()()(),f(50,"td")(51,"mat-select",9),ke("valueChange",function(o){ne(i);let s=X();return Ie(s.selectBridgeID,o)||(s.selectBridgeID=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X();return oe(o.onSelectBridgeIDChange())}),f(52,"mat-option",12),_(53,"No"),g(),f(54,"mat-option",13),_(55,"Yes"),g()()(),f(56,"td")(57,"mat-select",9),ke("valueChange",function(o){ne(i);let s=X();return Ie(s.offlineCap,o)||(s.offlineCap=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X();return oe(o.onOfflineCapChange())}),f(58,"mat-option",14),_(59,"Always respond"),g(),f(60,"mat-option",15),_(61,"Not always respond"),g()()(),f(62,"td")(63,"mat-select",9),ke("valueChange",function(o){ne(i);let s=X();return Ie(s.ibiPayload,o)||(s.ibiPayload=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X();return oe(o.onIbiPayloadChange())}),f(64,"mat-option",16),_(65,"No Data"),g(),f(66,"mat-option",17),_(67,"One or more data"),g()()(),f(68,"td")(69,"mat-select",9),ke("valueChange",function(o){ne(i);let s=X();return Ie(s.ibiRequest,o)||(s.ibiRequest=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X();return oe(o.onIbiRequestChange())}),f(70,"mat-option",18),_(71,"Not Capable"),g(),f(72,"mat-option",19),_(73,"Capable"),g()()(),f(74,"td")(75,"mat-select",9),ke("valueChange",function(o){ne(i);let s=X();return Ie(s.maxSpeed,o)||(s.maxSpeed=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X();return oe(o.onMaxSpeedChange())}),f(76,"mat-option",20),_(77,"No Limitation"),g(),f(78,"mat-option",21),_(79,"Limitation"),g()()()()()()()()(),f(80,"p"),_(81),g(),f(82,"mat-card")(83,"fieldset")(84,"legend"),_(85,"DCR - Device Characteristic Register"),g(),f(86,"div",22)(87,"mat-select",9),ke("valueChange",function(o){ne(i);let s=X();return Ie(s.selectedDCR,o)||(s.selectedDCR=o),oe(o)}),Y("selectionChange",function(o){ne(i);let s=X();return oe(s.onDCRChange(o.value))}),de(88,MA,2,2,"mat-option",23),g(),de(89,PA,1,0,"input",24),g()()(),f(90,"p"),_(91),g(),f(92,"mat-card")(93,"fieldset")(94,"legend"),_(95,"PID"),g(),f(96,"div",6)(97,"table",7)(98,"thead")(99,"tr")(100,"th"),_(101,"Bit[47-33]"),g(),f(102,"th"),_(103,"Bit[32]"),g(),de(104,AA,2,0,"th",1)(105,FA,2,0,"th",1)(106,OA,2,0,"th",1)(107,NA,2,0,"th",1),g()(),f(108,"tbody")(109,"tr")(110,"td")(111,"mat-select",25),ke("ngModelChange",function(o){ne(i);let s=X();return Ie(s.selectedMfgType,o)||(s.selectedMfgType=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X();return oe(o.onMfgTypeChange())}),de(112,LA,2,2,"mat-option",23),g(),_(113," Manufacture ID"),g(),f(114,"td"),_(115,"Type"),g(),de(116,BA,2,0,"td",1)(117,VA,2,0,"td",1)(118,GA,2,0,"td",1)(119,WA,2,0,"td",1),g(),ee(120,"tr"),f(121,"tr",26)(122,"td"),de(123,UA,2,2,"mat-select",27)(124,zA,2,1,"div",1),g(),f(125,"td")(126,"select",25),ke("ngModelChange",function(o){ne(i);let s=X();return Ie(s.selectedType,o)||(s.selectedType=o),oe(o)}),Y("selectionChange",function(){ne(i);let o=X();return oe(o.onTypeChange())}),de(127,jA,2,2,"option",23),g()(),de(128,$A,2,1,"td",1)(129,KA,2,1,"td",1)(130,qA,2,1,"td",1)(131,XA,2,1,"td",1),g()()()()(),f(132,"p"),_(133),g()()()}if(t&2){let i=X();x(43),ze(i.lblRole),x(2),Te("value",i.selectedSDR),x(6),Te("value",i.selectBridgeID),x(6),Te("value",i.offlineCap),x(6),Te("value",i.ibiPayload),x(6),Te("value",i.ibiRequest),x(6),Te("value",i.maxSpeed),x(6),ze(i.BCRValue),x(6),Te("value",i.selectedDCR),x(),G("ngForOf",i.DCRType),x(),G("ngIf",i.nodeDetail.DCR.toString()==="Custom"),x(2),ze(i.selectedDCR),x(13),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Random"),x(4),Te("ngModel",i.selectedMfgType),x(),G("ngForOf",i.cmbMfgType),x(4),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Random"),x(4),G("ngIf",i.selectedMfgType==="MIPI"),x(),G("ngIf",i.selectedMfgType==="Custom"),x(2),Te("ngModel",i.selectedType),x(),G("ngForOf",i.cmbType),x(),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Vendor"),x(),G("ngIf",i.selectedType==="Random"),x(2),ze(i.pidValue)}}function QA(t,e){t&1&&(f(0,"mat-dialog-content")(1,"fieldset",4)(2,"legend",5),_(3,"Maximum write Length"),g(),f(4,"div")(5,"label"),_(6,"MSB"),g(),ee(7,"input",31),f(8,"label"),_(9,"LSB"),g(),ee(10,"input",32),g()()())}var Mu=class t{constructor(e,i,n){this.dialogRef=e;this.data=i;this.protocolInfoService=n;this.nodeDetail=i,this.BCRValue=i.BCR,this.selectedDCR=i._DCR==0?"Generic":i._DCR,this.pidValue=i._PID}dataToParent=new M;enodeType=ko;selectedSDR="SDR Only";selectBridgeID="No";offlineCap="Always respond";ibiPayload="No data";ibiRequest="Not Capable";maxSpeed="No Limitation";nodeDetail;selectedDCR=0;isOnUpdateBCR=!1;isOnUpdatePID=!1;lblRole="";DCRType=[];DCRTypeList=xr;BCRValue=0;mipiMembers=[];pidValue=0;cmbMID=[];cmbType=["Vendor","Random"];cmbMfgType=["MIPI","Custom"];selectedMID="261";selectedType="Vendor";selectedMfgType="MIPI";txtMID="2AC";txtPartID="0";txtInstance="0";txtVendorDef="0";txtRandom="0";ngOnInit(){this.DCRType=Object.keys(this.DCRTypeList).filter(e=>isNaN(Number(e))),this.updateControlValuesBCR(),this.initialize()}initialize(){this.protocolInfoService.getMemberInfo().subscribe(e=>{this.mipiMembers=e,this.cmbMID=e.map(i=>i.name),this.updateControlValuesPID()}),this.updateControlValuesBCR()}onDCRChange(e){this.nodeDetail.DCR=e,this.data.DCR=e,this.dataToParent.emit(this.data)}onBCRValueChange(e){this.nodeDetail.BCR=e,this.data.BCR=e,this.dataToParent.emit(this.data)}onPIDValueChannge(e){this.nodeDetail.PID=e,this.data.PID=e,this.dataToParent.emit(this.data)}onCancel(e){e.preventDefault(),console.log("Cancel button clicked. Dialog will not close.")}confirm(){this.dialogRef.close(this.data)}updateControlValuesBCR(){if(!this.isOnUpdateBCR){switch(this.BCRValue>>6){case 0:this.lblRole="I3C Slave";break;case 1:this.lblRole="I3C Master";break}this.selectedSDR=(this.BCRValue>>5&1)==1?"HDR Capable":"SDR Only",this.selectBridgeID=(this.BCRValue>>4&1)==1?"Yes":"No",this.offlineCap=(this.BCRValue>>3&1)==1?"Not always respond":"Always res",this.ibiPayload=(this.BCRValue>>2&1)==1?"One or more data":"No data",this.ibiRequest=(this.BCRValue>>1&1)==1?"Capable":"Not Capable",this.maxSpeed=(this.BCRValue&1)==1?"Limitation":"No Limitation"}}onSelectedSDRChange(){this.isOnUpdateBCR=!0,this.BCRValue&=223,this.selectedSDR==="HDR Capable"&&(this.BCRValue|=32),this.isOnUpdateBCR=!1,this.onBCRValueChange(this.BCRValue)}onSelectBridgeIDChange(){this.isOnUpdateBCR=!0,this.BCRValue&=239,this.selectBridgeID==="Yes"&&(this.BCRValue|=16),this.isOnUpdateBCR=!1,this.onBCRValueChange(this.BCRValue)}onOfflineCapChange(){this.isOnUpdateBCR=!0,this.BCRValue&=247,this.offlineCap==="Not always respond"&&(this.BCRValue|=8),this.isOnUpdateBCR=!1,this.onBCRValueChange(this.BCRValue)}onIbiPayloadChange(){this.isOnUpdateBCR=!0,this.BCRValue&=251,this.ibiPayload==="One or more data"&&(this.BCRValue|=4),this.isOnUpdateBCR=!1,this.onBCRValueChange(this.BCRValue)}onIbiRequestChange(){this.isOnUpdateBCR=!0,this.BCRValue&=253,this.ibiRequest==="Capable"&&(this.BCRValue|=2),this.isOnUpdateBCR=!1,this.onBCRValueChange(this.BCRValue)}onMaxSpeedChange(){this.isOnUpdateBCR=!0,this.BCRValue&=254,this.maxSpeed==="Limitation"&&(this.BCRValue|=1),this.isOnUpdateBCR=!1,this.onBCRValueChange(this.BCRValue)}updateControlValuesPID(){if(!this.isOnUpdatePID)try{this.selectedMfgType="MIPI";let e=BigInt(this.pidValue),i=Number(e>>BigInt(48)&BigInt(1)),n=Number(e>>BigInt(33)&BigInt(32767));this.protocolInfoService.getMemberInfo().subscribe(o=>{i===0?this.selectedMID=o.find(r=>r.id===n)?.name||"":(this.selectedMfgType="Custom",this.txtMID=n.toString(16).toUpperCase()),(this.pidValue>>32&1)===0?(this.selectedType="Vendor",this.txtRandom="0",this.txtPartID=(this.pidValue>>16&65535).toString(16).toUpperCase().padStart(4,"0"),this.txtInstance=(this.pidValue>>12&15).toString(16).toUpperCase(),this.txtVendorDef=(this.pidValue&4095).toString(16).toUpperCase().padStart(3,"0")):(this.selectedType="Random",this.txtPartID="0",this.txtInstance="0",this.txtVendorDef="0",this.txtRandom=(this.pidValue&4294967295).toString(16).toUpperCase().padStart(8,"0"))})}catch(e){console.error("Error updating control values:",e)}}onTypeChange(){alert("0o"),this.isOnUpdatePID=!0,this.pidValue&=0xfffe00000000,this.selectedType==="Random"&&(this.pidValue|=4294967296),this.txtRandom="0",this.txtPartID="0",this.txtInstance="0",this.txtVendorDef="0",this.isOnUpdatePID=!1,this.onPIDValueChannge(this.pidValue)}onMIDChange(){this.isOnUpdatePID=!0,this.selectedMfgType==="MIPI"&&this.protocolInfoService.getMemberInfo().subscribe(e=>{let i=e.find(n=>n.name===this.selectedMID);i&&(this.pidValue&=8589934591,this.pidValue|=(i.id&32767)<<33)}),this.isOnUpdatePID=!1,this.onPIDValueChannge(this.pidValue)}onMfgTypeChange(){this.isOnUpdatePID=!0;let e=BigInt(this.pidValue);e&=BigInt(8589934591),this.selectedMfgType==="MIPI"?this.protocolInfoService.getMemberInfo().subscribe(i=>{let n=i.find(o=>o.name===this.selectedMID);e&=BigInt(281483566645247),n&&(e|=BigInt(n.id&32767)<<BigInt(33))}):(e|=BigInt(281474976710656),this.txtMID="0"),this.pidValue=Number(e),this.isOnUpdatePID=!1,this.onPIDValueChannge(this.pidValue)}txtMID_LostFocus(){if(this.selectedMfgType==="Custom"){this.isOnUpdatePID=!0,this.pidValue&=8589934591;let e=parseInt(this.txtMID,16);isNaN(e)?this.txtMID="0":this.pidValue|=(e&32767)<<33,this.isOnUpdatePID=!1}this.onPIDValueChannge(this.pidValue)}txtPartID_LostFocus(e){if(this.isOnUpdatePID=!0,this.selectedType==="Vendor"){let i=parseInt(this.txtPartID,16);if(!isNaN(i)&&i<=65535){let n=BigInt(this.pidValue);n&=BigInt(0xffff0000ffff),n|=BigInt(i)<<BigInt(16),this.pidValue=Number(n)}else this.txtPartID="0"}this.isOnUpdatePID=!1,this.onPIDValueChannge(this.pidValue)}txtInstance_LostFocus(e){if(this.isOnUpdatePID=!0,this.selectedType==="Vendor"){let i=parseInt(this.txtInstance,16);if(!isNaN(i)&&i<=15){let n=BigInt(this.pidValue);n&=BigInt(0xffffffff0fff),n|=BigInt(i<<12),this.pidValue=Number(n)}else this.txtInstance="0"}this.isOnUpdatePID=!1,this.onPIDValueChannge(this.pidValue)}txtVendorDef_LostFocus(e){if(this.isOnUpdatePID=!0,this.selectedType==="Vendor"){let i=parseInt(this.txtVendorDef,16);if(!isNaN(i)&&i<=4095){let n=BigInt(this.pidValue);n&=BigInt(0xfffffffff000),n|=BigInt(i),this.pidValue=Number(n)}else this.txtVendorDef="0"}this.isOnUpdatePID=!1,this.onPIDValueChannge(this.pidValue)}txtRandom_LostFocus(e){if(this.isOnUpdatePID=!0,this.selectedType==="Random"){let i=parseInt(this.txtRandom,16);this.pidValue&=0xffff00000000,!isNaN(i)&&i<=4294967295?this.pidValue|=i:this.txtRandom="0"}this.isOnUpdatePID=!1,this.onPIDValueChannge(this.pidValue)}static \u0275fac=function(i){return new(i||t)(b(Ur),b(Fv),b(Ao))};static \u0275cmp=$({type:t,selectors:[["app-registers"]],outputs:{dataToParent:"dataToParent"},standalone:!0,features:[K],decls:7,vars:2,consts:[["mat-dialog-title","",1,"tittleclass"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],[1,"fieldset"],[1,"legend"],[1,"bcr-register"],[1,"bus-characteristic-table"],["colspan","2"],[3,"valueChange","selectionChange","value"],["value","SDR Only"],["value","HDR Capable"],["value","No"],["value","Yes"],["value","Always res"],["value","Not always respond"],["value","No data"],["value","One or more data"],["value","Not Capable"],["value","Capable"],["value","No Limitation"],["value","Limitation"],[1,"Dcr-register"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter Dcr value in hex",4,"ngIf"],[3,"ngModelChange","selectionChange","ngModel"],[2,"width","200px"],[3,"ngModel","ngModelChange","selectionChange",4,"ngIf"],[3,"value"],["type","text","placeholder","Enter Dcr value in hex"],[3,"ngModelChange","blur","ngModel"],["matInput","","value","00",2,"text-decoration","underline"],["matInput","","value","10",2,"text-decoration","underline"]],template:function(i,n){i&1&&(f(0,"mat-card-title",0),_(1,"Registers"),g(),de(2,YA,134,31,"mat-dialog-content",1)(3,QA,11,0,"mat-dialog-content",1),f(4,"div",2)(5,"button",3),Y("click",function(){return n.confirm()}),_(6,"Ok"),g()()),i&2&&(x(2),G("ngIf",n.nodeDetail.nodeType!==n.enodeType.I2C_Slave.toString()),x(),G("ngIf",n.nodeDetail.nodeType===n.enodeType.I2C_Slave.toString()))},dependencies:[fS,hS,pS,ku,Mt,yi,tn,Tr,wi,qt,Ki,Iu,lS,dS,cS,ti,_d,Sd,Jt,Sr,ei,Yt,fo],styles:[".bus-characteristic-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.bus-characteristic-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .bus-characteristic-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid #030303}.bus-characteristic-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#ebe8e8;font-weight:300px}.bus-characteristic-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff;width:100%}mat-card[_ngcontent-%COMP%]{box-shadow:none}mat-card-title[_ngcontent-%COMP%]{background-color:#8d3d8d;color:#fff}.tittleclass[_ngcontent-%COMP%]{font-weight:300px;color:azure;font-size:medium}legend[_ngcontent-%COMP%]{font-weight:400}.Dcr-register[_ngcontent-%COMP%]{display:flex;flex-direction:row}input[_ngcontent-%COMP%]{outline:none!important;outline-style:none!important;box-shadow:none!important;border-color:transparent!important;width:80px}.rowTwo[_ngcontent-%COMP%]{background-color:#8d3d8d}"]})};var ZA=["switch"],JA=["*"];function eF(t,e){t&1&&(f(0,"div",10),Vn(),f(1,"svg",12),ee(2,"path",13),g(),f(3,"svg",14),ee(4,"path",15),g()())}var tF=new ie("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),iF={provide:To,useExisting:mi(()=>Au),multi:!0},Pu=class{constructor(e,i){this.source=e,this.checked=i}},nF=0,Au=(()=>{let e=class e{_createChangeEvent(n){return new Pu(this,n)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(n){this._checked=n,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,o,s,r,a,l){this._elementRef=n,this._focusMonitor=o,this._changeDetectorRef=s,this.defaults=a,this._onChange=c=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new M,this.toggleChange=new M,this.tabIndex=parseInt(r)||0,this.color=a.color||"accent",this._noopAnimations=l==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++nF}`,this.hideIcon=a.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n==="keyboard"||n==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):n||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(n){n.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(n){this.checked=!!n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorOnChange=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Pu(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};e.\u0275fac=function(o){return new(o||e)(b(re),b(bi),b(lt),Ti("tabindex"),b(tF),b(ft,8))},e.\u0275cmp=$({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(o,s){if(o&1&&Qe(ZA,5),o&2){let r;xe(r=Ee())&&(s._switchElement=r.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(o,s){o&2&&(Mi("id",s.id),Ge("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Vt(s.color?"mat-"+s.color:""),Se("mat-mdc-slide-toggle-focused",s._focused)("mat-mdc-slide-toggle-checked",s.checked)("_mat-animation-noopable",s._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",ye],color:"color",disabled:[2,"disabled","disabled",ye],disableRipple:[2,"disableRipple","disableRipple",ye],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:Pi(n)],checked:[2,"checked","checked",ye],hideIcon:[2,"hideIcon","hideIcon",ye]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[$e([iF,{provide:Io,useExisting:e,multi:!0}]),et,Ct,K],ngContentSelectors:JA,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(o,s){if(o&1){let r=tt();it(),f(0,"div",1)(1,"button",2,0),Y("click",function(){return ne(r),oe(s._handleClick())}),ee(3,"div",3),f(4,"div",4)(5,"div",5)(6,"div",6),ee(7,"div",7),g(),f(8,"div",8),ee(9,"div",9),g(),de(10,eF,5,0,"div",10),g()()(),f(11,"label",11),Y("click",function(l){return ne(r),oe(l.stopPropagation())}),Ne(12),g()()}if(o&2){let r=Ot(2);G("labelPosition",s.labelPosition),x(),Se("mdc-switch--selected",s.checked)("mdc-switch--unselected",!s.checked)("mdc-switch--checked",s.checked)("mdc-switch--disabled",s.disabled),G("tabIndex",s.disabled?-1:s.tabIndex)("disabled",s.disabled),Ge("id",s.buttonId)("name",s.name)("aria-label",s.ariaLabel)("aria-labelledby",s._getAriaLabelledBy())("aria-describedby",s.ariaDescribedby)("aria-required",s.required||null)("aria-checked",s.checked),x(8),G("matRippleTrigger",r)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0),x(),dt(s.hideIcon?-1:10),x(),G("for",s.buttonId),Ge("id",s._labelId)}},dependencies:[Qi,sd],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0});let t=e;return t})();var vS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Au,Pe,Pe]});let t=e;return t})();var zo=class{_nodeId;_DCR;_MRL;_reservedDCR;_BCR;_PID;_triggerSelection;_slaveVersion;_deviceType;_termination;_staticAddress;_dynamicAddress;_groupAddress;_nodeType;_voltage;_MWL;_spikeFilterEnable;constructor(e){e?(this._nodeId=e._nodeId,this._DCR=e._DCR,this._MRL=e._MRL,this._reservedDCR=e._reservedDCR,this._BCR=e._BCR,this._PID=e._PID,this._triggerSelection=e._triggerSelection,this._slaveVersion=e._slaveVersion,this._deviceType=e._deviceType,this._termination=e._termination,this._staticAddress=e._staticAddress,this._dynamicAddress=e._dynamicAddress,this._groupAddress=e._groupAddress,this._nodeType=e._nodeType,this._voltage=e._voltage,this._MWL=e._MWL,this._spikeFilterEnable=e._spikeFilterEnable):(this._nodeType="Master",this._PID=684*Math.pow(2,33),console.log(this._PID),this._termination="ON",this._BCR=6,this._DCR=0,this._staticAddress="45",this._dynamicAddress=255,this._deviceType="Internal",this._MWL=16,this._reservedDCR="0",this._slaveVersion=0,this._triggerSelection="Trigger_OUT",this._groupAddress=255,this._MRL=16,this._spikeFilterEnable=!1,this._voltage=Mn.selectedVoltage===0?3.3:1)}get nodeId(){return this._nodeId}set nodeId(e){this._nodeId=e,this.raisePropertyChanged("nodeId")}get DCR(){return this._DCR}set DCR(e){this._DCR=e,this.raisePropertyChanged("DCR")}get MRL(){return this._MRL}set MRL(e){this._MRL=e,this.raisePropertyChanged("MRL")}get reservedDCR(){return this._reservedDCR}set reservedDCR(e){this._reservedDCR=e,this.raisePropertyChanged("reservedDCR")}get PID(){return this._PID}set PID(e){this._PID=e,this.raisePropertyChanged("PID")}get triggerSelection(){return this._triggerSelection}set triggerSelection(e){this._triggerSelection=e,this.raisePropertyChanged("triggerSelection")}get slaveVersion(){return this._slaveVersion}set slaveVersion(e){this._slaveVersion=e,this.raisePropertyChanged("slaveVersion")}get deviceType(){return this._deviceType}set deviceType(e){this._deviceType=e,this.raisePropertyChanged("deviceType")}get termination(){return this._termination}set termination(e){this._termination=e,this.raisePropertyChanged("termination")}get staticAddress(){return this._staticAddress}set staticAddress(e){this._staticAddress=e.toLowerCase(),console.log(this.staticAddress),this.raisePropertyChanged("staticAddress")}get dynamicAddress(){return this._dynamicAddress}set dynamicAddress(e){this._dynamicAddress=e,this.raisePropertyChanged("dynamicAddress")}get groupAddress(){return this._groupAddress}set groupAddress(e){this._groupAddress=e,this.raisePropertyChanged("groupAddress")}get BCR(){return this._BCR}set BCR(e){this._BCR=e,this.raisePropertyChanged("BCR")}get nodeType(){return this._nodeType}set nodeType(e){this._nodeType=e,this.raisePropertyChanged("nodeType"),this._BCR=this._nodeType!=="Master"?this._BCR&63:this._BCR&63|64,console.log("_BCR AFTER changing node ="+this._BCR),this._nodeType==="Sec_Master"&&(this._DCR=196)}get voltage(){return this._voltage}set voltage(e){(e<.6||e>5.25)&&(e=3.3),this._voltage=e,this.raisePropertyChanged("voltage")}get MWL(){return this._MWL}set MWL(e){(e<0||e>1023)&&(e=16),this._MWL=e,this.raisePropertyChanged("MWL")}get spikeFilterEnable(){return this._spikeFilterEnable}set spikeFilterEnable(e){this._spikeFilterEnable=e,this.raisePropertyChanged("spikeFilterEnable")}raisePropertyChanged(e){}};var Fu=class t{voltageLookupTable1;voltageLookupTable2;voltageLookupTable3;constructor(){this.voltageLookupTable1=new Map,this.voltageLookupTable2=new Map,this.voltageLookupTable3=new Map,this.voltageLookupTable1.set(.926,69),this.voltageLookupTable1.set(.939,68),this.voltageLookupTable1.set(.952,67),this.voltageLookupTable1.set(.965,66),this.voltageLookupTable1.set(.98,65),this.voltageLookupTable1.set(.994,64),this.voltageLookupTable1.set(1.008,63),this.voltageLookupTable1.set(1.024,62),this.voltageLookupTable1.set(1.04,61),this.voltageLookupTable1.set(1.109,57),this.voltageLookupTable1.set(1.128,56),this.voltageLookupTable1.set(1.147,55),this.voltageLookupTable1.set(1.167,54),this.voltageLookupTable1.set(1.188,53),this.voltageLookupTable1.set(1.209,52),this.voltageLookupTable1.set(1.232,51),this.voltageLookupTable1.set(1.255,50),this.voltageLookupTable1.set(1.28,49),this.voltageLookupTable1.set(1.304,48),this.voltageLookupTable1.set(1.509,41),this.voltageLookupTable1.set(1.542,40),this.voltageLookupTable1.set(1.579,39),this.voltageLookupTable1.set(1.616,38),this.voltageLookupTable1.set(1.655,37),this.voltageLookupTable1.set(1.65,37),this.voltageLookupTable1.set(1.695,36),this.voltageLookupTable1.set(1.737,35),this.voltageLookupTable1.set(1.782,34),this.voltageLookupTable1.set(1.831,33),this.voltageLookupTable1.set(1.881,32),this.voltageLookupTable1.set(2.336,25),this.voltageLookupTable1.set(2.419,24),this.voltageLookupTable1.set(2.51,23),this.voltageLookupTable1.set(2.607,22),this.voltageLookupTable1.set(2.713,21),this.voltageLookupTable1.set(2.826,20),this.voltageLookupTable1.set(2.948,19),this.voltageLookupTable1.set(3.073,18),this.voltageLookupTable1.set(3.171,17),this.voltageLookupTable1.set(3.245,16),this.voltageLookupTable1.set(3.294,0),this.voltageLookupTable1.set(3.247,15),this.voltageLookupTable1.set(1.091,58),this.voltageLookupTable1.set(1.08,58),this.voltageLookupTable1.set(1.074,59),this.voltageLookupTable1.set(1.056,60),this.voltageLookupTable1.set(1.476,42),this.voltageLookupTable1.set(1.445,43),this.voltageLookupTable1.set(1.414,44),this.voltageLookupTable1.set(1.385,45),this.voltageLookupTable1.set(1.357,46),this.voltageLookupTable1.set(1.33,47),this.voltageLookupTable1.set(1.32,47),this.voltageLookupTable1.set(2.258,26),this.voltageLookupTable1.set(2.185,27),this.voltageLookupTable1.set(2.117,28),this.voltageLookupTable1.set(2.054,29),this.voltageLookupTable1.set(1.993,30),this.voltageLookupTable1.set(1.936,31),this.voltageLookupTable1.set(1.95,31),this.voltageLookupTable1.set(1,64),this.voltageLookupTable1.set(1.1,57),this.voltageLookupTable1.set(1.2,52),this.voltageLookupTable1.set(1.3,48),this.voltageLookupTable1.set(1.4,44),this.voltageLookupTable1.set(1.5,41),this.voltageLookupTable1.set(1.6,38),this.voltageLookupTable1.set(1.7,36),this.voltageLookupTable1.set(1.8,33),this.voltageLookupTable1.set(1.9,32),this.voltageLookupTable1.set(2,30),this.voltageLookupTable1.set(2.1,28),this.voltageLookupTable1.set(2.2,27),this.voltageLookupTable1.set(2.3,25),this.voltageLookupTable1.set(2.4,24),this.voltageLookupTable1.set(2.5,23),this.voltageLookupTable1.set(2.6,22),this.voltageLookupTable1.set(2.7,21),this.voltageLookupTable1.set(2.8,20),this.voltageLookupTable1.set(2.9,19),this.voltageLookupTable1.set(3,19),this.voltageLookupTable1.set(3.1,18),this.voltageLookupTable1.set(3.2,0),this.voltageLookupTable1.set(3.3,0),this.voltageLookupTable2.set(.805,127),this.voltageLookupTable2.set(.812,126),this.voltageLookupTable2.set(.818,125),this.voltageLookupTable2.set(.825,124),this.voltageLookupTable2.set(.831,123),this.voltageLookupTable2.set(.837,122),this.voltageLookupTable2.set(.849,121),this.voltageLookupTable2.set(.852,120),this.voltageLookupTable2.set(.858,119),this.voltageLookupTable2.set(.865,118),this.voltageLookupTable2.set(.873,117),this.voltageLookupTable2.set(.88,116),this.voltageLookupTable2.set(.888,115),this.voltageLookupTable2.set(.895,114),this.voltageLookupTable2.set(.903,113),this.voltageLookupTable2.set(.911,112),this.voltageLookupTable2.set(.92,111),this.voltageLookupTable2.set(.928,110),this.voltageLookupTable2.set(.936,109),this.voltageLookupTable2.set(.945,108),this.voltageLookupTable2.set(.953,107),this.voltageLookupTable2.set(.962,106),this.voltageLookupTable2.set(.971,105),this.voltageLookupTable2.set(.98,104),this.voltageLookupTable2.set(.99,103),this.voltageLookupTable2.set(.999,102),this.voltageLookupTable2.set(1.009,101),this.voltageLookupTable2.set(1.019,100),this.voltageLookupTable2.set(1.029,99),this.voltageLookupTable2.set(1.039,98),this.voltageLookupTable2.set(1.05,97),this.voltageLookupTable2.set(1.061,96),this.voltageLookupTable2.set(1.072,95),this.voltageLookupTable2.set(1.083,94),this.voltageLookupTable2.set(1.094,93),this.voltageLookupTable2.set(1.106,92),this.voltageLookupTable2.set(1.118,91),this.voltageLookupTable2.set(1.13,90),this.voltageLookupTable2.set(1.143,89),this.voltageLookupTable2.set(1.156,88),this.voltageLookupTable2.set(1.169,87),this.voltageLookupTable2.set(1.182,86),this.voltageLookupTable2.set(1.196,85),this.voltageLookupTable2.set(1.21,84),this.voltageLookupTable2.set(1.224,83),this.voltageLookupTable2.set(1.239,82),this.voltageLookupTable2.set(1.254,81),this.voltageLookupTable2.set(1.27,80),this.voltageLookupTable2.set(1.285,79),this.voltageLookupTable2.set(1.302,78),this.voltageLookupTable2.set(1.318,77),this.voltageLookupTable2.set(1.335,76),this.voltageLookupTable2.set(1.353,75),this.voltageLookupTable2.set(1.371,74),this.voltageLookupTable2.set(1.389,73),this.voltageLookupTable2.set(1.408,72),this.voltageLookupTable2.set(1.427,71),this.voltageLookupTable2.set(1.447,70),this.voltageLookupTable2.set(1.467,69),this.voltageLookupTable2.set(1.488,68),this.voltageLookupTable2.set(1.509,67),this.voltageLookupTable2.set(1.531,66),this.voltageLookupTable2.set(1.554,65),this.voltageLookupTable2.set(1.577,64),this.voltageLookupTable2.set(1.6,63),this.voltageLookupTable2.set(1.65,61),this.voltageLookupTable2.set(1.677,12),this.voltageLookupTable2.set(1.703,59),this.voltageLookupTable2.set(1.732,58),this.voltageLookupTable2.set(1.761,57),this.voltageLookupTable2.set(1.791,56),this.voltageLookupTable2.set(1.8,55),this.voltageLookupTable2.set(1.821,55),this.voltageLookupTable2.set(1.853,54),this.voltageLookupTable2.set(1.887,53),this.voltageLookupTable2.set(1.921,52),this.voltageLookupTable2.set(1.958,51),this.voltageLookupTable2.set(1.995,50),this.voltageLookupTable2.set(2.034,49),this.voltageLookupTable2.set(2.074,48),this.voltageLookupTable2.set(2.115,47),this.voltageLookupTable2.set(2.159,46),this.voltageLookupTable2.set(2.205,45),this.voltageLookupTable2.set(2.252,44),this.voltageLookupTable2.set(2.303,43),this.voltageLookupTable2.set(2.355,42),this.voltageLookupTable2.set(2.409,41),this.voltageLookupTable2.set(2.466,40),this.voltageLookupTable2.set(2.527,39),this.voltageLookupTable2.set(2.59,38),this.voltageLookupTable2.set(2.656,37),this.voltageLookupTable2.set(2.725,36),this.voltageLookupTable2.set(2.802,35),this.voltageLookupTable2.set(2.879,34),this.voltageLookupTable2.set(2.956,33),this.voltageLookupTable2.set(3.022,32),this.voltageLookupTable2.set(3.029,31),this.voltageLookupTable2.set(3.076,30),this.voltageLookupTable2.set(3.12,29),this.voltageLookupTable2.set(3.16,28),this.voltageLookupTable2.set(3.124,27),this.voltageLookupTable2.set(3.174,26),this.voltageLookupTable2.set(3.225,25),this.voltageLookupTable2.set(3.271,24),this.voltageLookupTable2.set(3.212,23),this.voltageLookupTable2.set(3.282,22),this.voltageLookupTable2.set(3.349,21),this.voltageLookupTable2.set(3.408,20),this.voltageLookupTable2.set(3.328,19),this.voltageLookupTable2.set(3.424,18),this.voltageLookupTable2.set(3.506,17),this.voltageLookupTable2.set(3.573,16),this.voltageLookupTable2.set(3.485,15),this.voltageLookupTable2.set(3.579,14),this.voltageLookupTable2.set(3.686,13),this.voltageLookupTable2.set(3.754,12),this.voltageLookupTable2.set(3.684,11),this.voltageLookupTable2.set(3.798,10),this.voltageLookupTable2.set(3.885,9),this.voltageLookupTable2.set(3.952,8),this.voltageLookupTable2.set(3.906,7),this.voltageLookupTable2.set(4.02,6),this.voltageLookupTable2.set(4.12,5),this.voltageLookupTable2.set(4.21,4),this.voltageLookupTable2.set(4.2,3),this.voltageLookupTable2.set(4.34,2),this.voltageLookupTable2.set(4.35,1),this.voltageLookupTable2.set(4.33,0);let e=0,i=0;for(e=0,i=0;e<=128;e++){let n=Math.round((.64+i)*1e3)/1e3;this.voltageLookupTable3.set(n,e),i+=.005}for(i=0;e<=195;e++){let n=Math.round((1.29+i)*1e3)/1e3;this.voltageLookupTable3.set(n,e),i+=.01}for(i=0;e<=244;e++){let n=Math.round((1.98+i)*1e3)/1e3;this.voltageLookupTable3.set(n,e),i+=.03}for(i=0;e<=255;e++){let n=Math.round((4.75+i)*1e3)/1e3;this.voltageLookupTable3.set(n,e),i+=.05}}getAddNodeBytes(e){let i=[];i.push(17),i.push(0),i.push(0),e.termination==="ON"?(console.log(e.nodeType),console.log(e.triggerSelection),console.log(e.slaveVersion),i.push(this.getNodeValue(e.nodeType)<<5|8|Number(e.triggerSelection)<<2|e.slaveVersion<<1|0)):i.push(this.getNodeValue(e.nodeType)<<5|8|Number(e.triggerSelection)<<2|e.slaveVersion<<1|1),i.push(e.nodeId??0),i.push(e.BCR),e.DCR===229?i.push(parseInt(e.reservedDCR,16)):i.push(e.DCR),i.push(0);let n=0,o=0;e.nodeType==="Master"?i.push(0):(o=this.GetI2CAddress(e.staticAddress,n),o=e.spikeFilterEnable?128|o:o,i.push(o&255)),i.push(0);let s=BigInt(e.PID);if(i.push(Number(s&BigInt(255))),i.push(Number(s>>BigInt(8)&BigInt(255))),i.push(Number(s>>BigInt(16)&BigInt(255))),i.push(Number(s>>BigInt(24)&BigInt(255))),i.push(Number(s>>BigInt(32)&BigInt(255))),i.push(Number(s>>BigInt(40)&BigInt(255))),i.push(16),i.push(123),i.push(4),this.voltageLookupTable2.has(e.voltage))i.push(this.voltageLookupTable2.get(e.voltage));else{let r=this.findNearestKey(this.voltageLookupTable2,e.voltage);i.push(this.voltageLookupTable2.get(r)??0)}return e.nodeType==="I2C_Slave"&&n===2?i.push(128|o>>7&7):i.push(0),i.push(0),i.push(0),i.push(0),e.nodeType==="I2C_Slave"?(i.push(e.MWL>>8),i.push(e.MWL&255)):(i.push(0),i.push(16)),i.push(e.MRL>>8),i.push(e.MRL&255),i.push(0),i.push(0),i.push(0),i.push(0),i.push(0),i.push(0),i.push(0),i.push(3),i.push(3),i.push(3),i.push(250),i.push(0),i[1]=i.length-22,console.log(i),new Uint8Array(i)}getNodeValue(e){switch(e){case"Master":return 1;case"Sec_Master":return 2;case"I3C_Slave":return 2;case"I2C_Slave":return 3;default:return 0}}GetI2CAddress(e,i){let n=0;if(e){let o=e.split("h");if(i=0,o.length===2){switch(o[0]){case"7":i=0;break;case"8":i=1;break;case"10":i=2;break}n=parseInt(o[1],16)}else o.length===1&&(i=0,n=parseInt(e,16))}else i=0;return n}findNearestKey(e,i){let n=Array.from(e.keys()).sort((s,r)=>s-r),o=n.findIndex(s=>s>=i);return o>=0?n[o]:n[n.length-1]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ou=class t{constructor(e,i,n){this.onlineService=e;this.hardwareFactoryConverterService=i;this.protocolInfoRepositoryService=n}slaveNodeList=[];masterNodeList=[];currentMaster=255;addDeviceMethod(e){let i=0,n=BigInt(e.PID);if(e.PID=Number(n&BigInt(0xffffffffffff)),this.conflictExists(e))return 6;switch(e.nodeType){case"Master":return this.addMasterDevice(e,i);case"I3C_Slave":case"I2C_Slave":case"Sec_Master":return this.addSlaveDevice(e,i);default:return 7}}conflictExists(e){return this.slaveNodeList.some(i=>i.staticAddress===e.staticAddress&&e.nodeType!=="Master"||e.nodeType!=="I2C_Slave"&&i.PID===e.PID&&i.nodeType!=="I2C_Slave")||this.masterNodeList.some(i=>i.PID===e.PID&&e.nodeType!=="I2C_Slave")}addMasterDevice(e,i){if(this.masterNodeList.length===0){e.deviceType==="Internal"?(e.nodeId=0,this.currentMaster=0):(e.nodeId=8,i=8,this.currentMaster=8),this.masterNodeList.push(new zo(e));let n=[this.hardwareFactoryConverterService.getAddNodeBytes(e)];return this.onlineService.publishModifiedScript(n),0}else return 5}addSlaveDevice(e,i){if(this.slaveNodeList.length>=11)return 5;if(e.deviceType==="Internal"&&this.slaveNodeList.filter(s=>s.deviceType==="Internal").length>=3)return 5;e.nodeId=this.getAvailableNodeId(e),this.slaveNodeList.push(new zo(e));let n=[this.hardwareFactoryConverterService.getAddNodeBytes(e)];if(this.onlineService.publishModifiedScript(n),e.nodeType==="I2C_Slave"){let o=this.protocolInfoRepositoryService.getI2CAddress(e.staticAddress);al.includes(o)||al.push(o)}if(e.nodeType==="I3C_Slave"){let o=parseInt(e.staticAddress,16);!isNaN(o)&&!ll.hasOwnProperty(o)&&(ll[o]=e.DCR)}return 0}getAvailableNodeId(e){let i;if(e.deviceType==="Internal"){let n=this.slaveNodeList.filter(s=>s.deviceType==="Internal").map(s=>s.nodeId);i=[1,2,3,4].find(s=>!n.includes(s))}else{let n=this.slaveNodeList.filter(s=>s.deviceType==="External").map(s=>s.nodeId);i=[9,10,11,12,13,14,15,16,17,18,19,20].find(s=>!n.includes(s))}return i??-1}static \u0275fac=function(i){return new(i||t)(F(Pn),F(Fu),F(Ao))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function aF(t,e){if(t&1&&(f(0,"mat-option",16),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function lF(t,e){if(t&1&&(f(0,"mat-option",16),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function cF(t,e){if(t&1&&(f(0,"mat-option",16),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function dF(t,e){if(t&1){let i=tt();f(0,"mat-form-field",6)(1,"mat-label"),_(2,"Static Address"),g(),f(3,"input",17),ke("ngModelChange",function(o){ne(i);let s=X();return Ie(s.nodeDetail.staticAddress,o)||(s.nodeDetail.staticAddress=o),oe(o)}),g()()}if(t&2){let i=X();x(3),Te("ngModel",i.nodeDetail.staticAddress)}}function uF(t,e){if(t&1&&(f(0,"mat-option",16),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function hF(t,e){if(t&1){let i=tt();f(0,"mat-form-field",6)(1,"mat-label"),_(2,"Slave Type"),g(),f(3,"mat-select",18),ke("ngModelChange",function(o){ne(i);let s=X();return Ie(s.nodeDetail.slaveVersion,o)||(s.nodeDetail.slaveVersion=o),oe(o)}),de(4,uF,2,2,"mat-option",8),g()()}if(t&2){let i=X();x(3),Te("ngModel",i.nodeDetail.slaveVersion),x(),G("ngForOf",i.slaveType)}}function pF(t,e){if(t&1&&(f(0,"mat-option",16),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function fF(t,e){if(t&1){let i=tt();f(0,"mat-form-field",6)(1,"mat-label"),_(2,"Trigger Mode"),g(),f(3,"mat-select",19),ke("ngModelChange",function(o){ne(i);let s=X();return Ie(s.nodeDetail.triggerSelection,o)||(s.nodeDetail.triggerSelection=o),oe(o)}),de(4,pF,2,2,"mat-option",8),g()()}if(t&2){let i=X();x(3),Te("ngModel",i.nodeDetail.triggerSelection),x(),G("ngForOf",i.TriggerMode)}}function mF(t,e){if(t&1){let i=tt();f(0,"p")(1,"mat-slide-toggle",20),ke("ngModelChange",function(o){ne(i);let s=X();return Ie(s.nodeDetail.spikeFilterEnable,o)||(s.nodeDetail.spikeFilterEnable=o),oe(o)}),_(2," Spike Filter "),g()()}if(t&2){let i=X();x(),Te("ngModel",i.nodeDetail.spikeFilterEnable)}}var Nu=class t{constructor(e,i){this.dialog=e;this.deviceService=i}nodeDetail=new zo;NodeTypes=[];enodeType=ko;DeviceTypes=[];edeviceType=cl;Termination=[];eterminationType=dl;slaveType=[];eslaveType=Df;TriggerMode=[];eTriggerMode=xd;ngOnInit(){this.NodeTypes=Object.keys(this.enodeType).filter(e=>isNaN(Number(e))),this.DeviceTypes=Object.keys(this.edeviceType).filter(e=>isNaN(Number(e))),this.Termination=Object.keys(this.eterminationType).filter(e=>isNaN(Number(e))),this.slaveType=Object.keys(this.eslaveType).filter(e=>isNaN(Number(e))),this.TriggerMode=Object.keys(this.eTriggerMode).filter(e=>isNaN(Number(e))),this.nodeDetail.BCR=this.nodeDetail.nodeType!=="Master"?this.nodeDetail.BCR&63:this.nodeDetail.BCR&63|64,this.nodeDetail.nodeType=="I3C_Slave"&&(this.nodeDetail.staticAddress="46")}dialogRef;openDialog(){this.dialogRef=this.dialog.open(Mu,{width:"400vh",data:this.nodeDetail}),this.dialogRef.componentInstance.dataToParent.subscribe(e=>{this.nodeDetail=e})}addDevice(){console.log(this.nodeDetail);let e=this.deviceService.addDeviceMethod(this.nodeDetail),i="";switch(e){case 0:i=`Device added successfully with Node ID #${this.nodeDetail.nodeId}`,this.nodeDetail=new zo;break;case 6:i="Static Address/PID should be unique";break;case 3:i="Please ensure connection establishment";break;case 5:i="Reached maximum device limit";break;default:i="Device not added";break}console.log(i)}static \u0275fac=function(i){return new(i||t)(b(Tu),b(Ou))};static \u0275cmp=$({type:t,selectors:[["app-bus-configuration"]],standalone:!0,features:[K],decls:38,vars:11,consts:[[1,"bus-configuration"],["color","primary"],[1,"spacer"],["mat-icon-button",""],[1,"scrollable-form"],[1,"configuration-form"],["appearance","outline"],["name","NodeType",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","DeviceType",3,"ngModelChange","ngModel"],["name","Termination",3,"ngModelChange","ngModel"],["appearance","outline",4,"ngIf"],["matInput","","type","text","name","Voltage",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"button-group"],["mat-raised-button","",1,"BusButton",3,"click"],[3,"value"],["matInput","","type","text","name","StaticAddress",3,"ngModelChange","ngModel"],["name","slavetype",3,"ngModelChange","ngModel"],["name","Trigger",3,"ngModelChange","ngModel"],["labelPosition","before","color","primary",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(f(0,"div",0)(1,"mat-toolbar",1)(2,"span"),_(3,"Exerciser View - Bus Configuration"),g(),ee(4,"span",2),f(5,"button",3)(6,"mat-icon"),_(7,"more_vert"),g()()(),f(8,"div",4)(9,"form",5)(10,"mat-form-field",6)(11,"mat-label"),_(12,"Node Type"),g(),f(13,"mat-select",7),ke("ngModelChange",function(s){return Ie(n.nodeDetail.nodeType,s)||(n.nodeDetail.nodeType=s),s}),de(14,aF,2,2,"mat-option",8),g()(),f(15,"mat-form-field",6)(16,"mat-label"),_(17,"Interface"),g(),f(18,"mat-select",9),ke("ngModelChange",function(s){return Ie(n.nodeDetail.deviceType,s)||(n.nodeDetail.deviceType=s),s}),de(19,lF,2,2,"mat-option",8),g()(),f(20,"mat-form-field",6)(21,"mat-label"),_(22,"Termination"),g(),f(23,"mat-select",10),ke("ngModelChange",function(s){return Ie(n.nodeDetail.termination,s)||(n.nodeDetail.termination=s),s}),de(24,cF,2,2,"mat-option",8),g()(),de(25,dF,4,1,"mat-form-field",11),f(26,"mat-form-field",6)(27,"mat-label"),_(28,"Voltage(V)"),g(),f(29,"input",12),ke("ngModelChange",function(s){return Ie(n.nodeDetail.voltage,s)||(n.nodeDetail.voltage=s),s}),g()(),de(30,hF,5,2,"mat-form-field",11)(31,fF,5,2,"mat-form-field",11)(32,mF,3,1,"p",13),g(),f(33,"div",14)(34,"button",15),Y("click",function(){return n.openDialog()}),_(35,"View Registers"),g(),f(36,"button",15),Y("click",function(){return n.addDevice()}),_(37,"Add Device"),g()()()()),i&2&&(x(13),Te("ngModel",n.nodeDetail.nodeType),x(),G("ngForOf",n.NodeTypes),x(4),Te("ngModel",n.nodeDetail.deviceType),x(),G("ngForOf",n.DeviceTypes),x(4),Te("ngModel",n.nodeDetail.termination),x(),G("ngForOf",n.Termination),x(),G("ngIf",n.nodeDetail.nodeType===n.enodeType.I3C_Slave.toString()||n.nodeDetail.nodeType===n.enodeType.Sec_Master.toString()||n.nodeDetail.nodeType===n.enodeType.I2C_Slave.toString()),x(4),Te("ngModel",n.nodeDetail.voltage),x(),G("ngIf",n.nodeDetail.nodeType===n.enodeType.I3C_Slave.toString()),x(),G("ngIf",n.nodeDetail.nodeType===n.enodeType.Master.toString()),x(),G("ngIf",n.nodeDetail.nodeType===n.enodeType.I2C_Slave))},dependencies:[Hr,Su,nn,Mo,__,Mt,Tn,ii,yi,tn,Tr,wi,qt,Uo,Eu,Iu,ti,en,Jt,ei,Ji,Yt,Xt,fo,vS,Au,Ki],styles:[".bus-configuration[_ngcontent-%COMP%]{margin:20px auto;display:flex;flex-direction:column}.mat-toolbar[_ngcontent-%COMP%]{background-color:purple;color:#fff;font-size:medium;height:50px;padding:0 10px;gap:10}.mat-icon[_ngcontent-%COMP%]{color:#f0f8ff}.configuration-form[_ngcontent-%COMP%]{width:400px;display:flex;flex-direction:column;gap:10px;padding:10px}.mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:small}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:row;gap:100px}button.mat-raised-button[_ngcontent-%COMP%]{font-size:small;padding:20px 10px}.BusButton[_ngcontent-%COMP%]{color:#f0f8ff;background-color:#8d3d8d;margin:20px}.BusButton[_ngcontent-%COMP%]:hover{background-color:#dcc0dc;color:#000}"]})};function gF(t,e){if(t&1&&(f(0,"option"),_(1),g()),t&2){let i=e.$implicit;x(),ze(i)}}function vF(t,e){if(t&1&&(f(0,"mat-option",33),_(1),g()),t&2){let i=e.$implicit;G("value",i),x(),ze(i)}}function CF(t,e){if(t&1&&(Ks(0),f(1,"div",28)(2,"mat-select",29),de(3,vF,2,2,"mat-option",30),g()(),f(4,"div",10),_(5,"T"),g(),f(6,"div",31),_(7," Command "),g(),f(8,"div",32),_(9,"T"),g(),qs()),t&2){let i=X();x(3),G("ngForOf",i.BrodCasteType)}}function bF(t,e){t&1&&(Ks(0),f(1,"div",15),_(2,"\xA0"),g(),f(3,"div",28),ee(4,"input",34),g(),f(5,"div",10),_(6,"T/P"),g(),f(7,"div",35),_(8," Data "),g(),qs())}function yF(t,e){t&1&&(Ks(0),f(1,"div",15),_(2,"\xA0"),g(),f(3,"div",36),_(4,"Data Count"),g(),f(5,"div",37),ee(6,"input",38),g(),qs())}function wF(t,e){t&1&&(f(0,"form",39)(1,"div",40)(2,"mat-form-field",20)(3,"mat-label"),_(4,"Frequency (KHz)"),g(),ee(5,"input",41),g()()())}var Lu=class t{numbers=[8,7,6,5,4,3,2,1,0];selectedTab="Sys";ACKNack="NACK";eBroadcast=ul;BrodCasteType=[];messageTypes=["BroadCast","Directed","Private","IBI","I2C","Hotjoin","MasterShipReq"];selectedMessageType="";ngOnInit(){this.BrodCasteType=Object.keys(this.eBroadcast).filter(e=>isNaN(Number(e)))}onTabChange(e){this.selectedTab=e.tab.textLabel}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["app-slave-ui"]],standalone:!0,features:[K],decls:65,vars:7,consts:[[3,"selectedTabChange"],["label","Bus"],[1,"dropdown-container"],["for","messageType"],["id","messageType",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"grid-container"],[1,"header"],[1,"item",2,"grid-column","1 / span 7"],[1,"item",2,"grid-column","8 / span 1"],[1,"item",2,"grid-column","9 / span 1"],[3,"valueChange","value"],["value","ACK"],["value","NACK"],[1,"item",2,"grid-column","1 / span 9","background-color","#D0BCF2"],[1,"blank-line",2,"grid-column","1 / span 9"],[4,"ngIf"],["label","Sys"],["class","exerciser-form",4,"ngIf"],[1,"gap-delay-container"],["appearance","outline",1,"form-field"],[1,"wrapcontainer"],["matInput","","placeholder","InterMessage Gap"],["value","mode1"],["value","mode2"],[1,"button-container"],["mat-raised-button","","color","primary"],["label","Summary"],[1,"item",2,"grid-column","1 / span 8"],["name","slavetype","placeholder","Select Command"],[3,"value",4,"ngFor","ngForOf"],[1,"item",2,"grid-column","1 / span 8","background-color","#D0BCF2"],[1,"item",2,"grid-column","9 / span 1","background-color","#e5e0ed"],[3,"value"],["matInput","","placeholder","Enter Data"],[1,"item",2,"grid-column","1 / span 9","background-color","#C0C0C0"],[1,"item",2,"grid-column","1 / span 5"],[1,"item",2,"grid-column","6 / span 4"],["matInput","","placeholder","enter value"],[1,"exerciser-form"],[1,"period-container"],["matInput","","placeholder","Enter frequency"]],template:function(i,n){i&1&&(f(0,"mat-tab-group",0),Y("selectedTabChange",function(s){return n.onTabChange(s)}),f(1,"mat-tab",1)(2,"div",2)(3,"label",3),_(4,"Message Type"),g(),f(5,"select",4),ke("ngModelChange",function(s){return Ie(n.selectedMessageType,s)||(n.selectedMessageType=s),s}),de(6,gF,2,1,"option",5),g()(),f(7,"div",6)(8,"div",7),_(9,"8"),g(),f(10,"div",7),_(11,"7"),g(),f(12,"div",7),_(13,"6"),g(),f(14,"div",7),_(15,"5"),g(),f(16,"div",7),_(17,"4"),g(),f(18,"div",7),_(19,"3"),g(),f(20,"div",7),_(21,"2"),g(),f(22,"div",7),_(23,"1"),g(),f(24,"div",7),_(25,"0"),g(),f(26,"div",8),_(27,"Reserved Address 7E"),g(),f(28,"div",9),_(29,"W"),g(),f(30,"div",10)(31,"mat-select",11),ke("valueChange",function(s){return Ie(n.ACKNack,s)||(n.ACKNack=s),s}),f(32,"mat-option",12),_(33,"ACK"),g(),f(34,"mat-option",13),_(35,"NACK"),g()()(),f(36,"div",14),_(37," BroadCast Address "),g(),f(38,"div",15),_(39,"\xA0"),g(),de(40,CF,10,1,"ng-container",16)(41,bF,9,0,"ng-container",16)(42,yF,7,0,"ng-container",16),g()(),f(43,"mat-tab",17),de(44,wF,6,0,"form",18),f(45,"div",19)(46,"mat-form-field",20)(47,"mat-label"),_(48,"InterMessage Gap"),g(),f(49,"div",21),ee(50,"input",22),f(51,"mat-select")(52,"mat-option",23),_(53,"sec"),g(),f(54,"mat-option",24),_(55,"ms"),g(),f(56,"mat-option",24),_(57,"us"),g(),f(58,"mat-option",24),_(59,"ns"),g()()()(),_(60," \\ "),g(),f(61,"div",25)(62,"button",26),_(63,"Add"),g()()(),ee(64,"mat-tab",27),g()),i&2&&(x(5),Te("ngModel",n.selectedMessageType),x(),G("ngForOf",n.messageTypes),x(25),Te("value",n.ACKNack),x(9),G("ngIf",n.ACKNack==="ACK"&&n.selectedMessageType==="BroadCaste"),x(),G("ngIf",n.ACKNack==="ACK"),x(),G("ngIf",n.ACKNack==="ACK"),x(2),G("ngIf",n.selectedTab==="Sys"))},dependencies:[Ro,vs,br,Mt,Tn,ii,yi,tn,fo,wi,qt,Ki,ti,en,_d,Sd,Sr,ei,Ji,Yt,Xt],styles:[".exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:20px}.form-field[_ngcontent-%COMP%]{width:100%}.wrapcontainer[_ngcontent-%COMP%], .period-container[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.period-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .gap-delay-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:48%}.button-container[_ngcontent-%COMP%]{text-align:center}.exerciser-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.twofeild[_ngcontent-%COMP%]{display:flex;flex-direction:row}.label-container[_ngcontent-%COMP%]{background-color:#2d80ee;color:#fff;padding:8px;min-width:150px;text-align:left;border:1px}.MessageTypecontainer[_ngcontent-%COMP%]{padding:8px;background-color:#f7fefe;min-width:200px;text-align:left;border:1px}textarea[_ngcontent-%COMP%]{min-height:80px}.number-bar[_ngcontent-%COMP%]{display:flex}.number-box[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#004085;color:#fff;display:flex;justify-content:center;align-items:center;border:1px solid black;box-sizing:border-box}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);gap:2px}.header[_ngcontent-%COMP%]{background-color:#27467d;color:#fff;text-align:center;padding:10px;border:1px solid #000}.item[_ngcontent-%COMP%]{text-align:center;padding:10px;border:1px solid #000}input[_ngcontent-%COMP%]{outline:none!important;outline-style:none!important;box-shadow:none!important;border-color:transparent!important;width:300px}"]})};var Bu=class t{constructor(e){this.onlineService=e}fileContent="";fileName="";onFileSelected(e){let i=e.target;if(i?.files?.length){let n=i.files[0],o=new FileReader;this.fileName=n.name,console.log(this.fileName),o.onload=s=>{let r=s.target?.result;typeof r=="string"&&(this.fileContent=r)},o.readAsText(n)}}buttonClickHandler(e){if(!this.fileContent){console.error("No file content available!");return}let i=e.getPacketsFromText(this.fileContent)}publishMessage(e){console.log(e)}OnbuttonClick(){let e=[23,0,32,128],i=new Uint8Array(e),n=8210,o=new Uint8Array(n),s=new Uint8Array(i.length+o.length);s.set(i),s.set(o,i.length),console.log(s),console.log(s.length),this.onlineService.publishModifiedScript([s])}OnbuttonClick1(){if(this.fileName=="ENTDAA.txt.txt"){let e=[18,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,4,200,0,0,0,144,0,200,0,0,0,3,192,0,100,100,0,0,0,160,0,101,4,0,0,0,144,0,200,0,0,0,0,128,192,4,2,0,0,0,128,136,4,5,0,0,0,8,0,0,7,1,9],i=new Uint8Array(e);console.log(i),console.log(i.length),this.onlineService.publishModifiedScript([i]);let n=[16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15],o=new Uint8Array(n);console.log(o),console.log(o.length),this.onlineService.publishModifiedScript([o])}else this.fileName=="BROADCASTWR.txt"}static \u0275fac=function(i){return new(i||t)(b(Pn))};static \u0275cmp=$({type:t,selectors:[["app-master-script"]],standalone:!0,features:[K],decls:9,vars:1,consts:[[1,"exerciser-container"],["type","file","accept",".txt",3,"change"],["rows","10","cols","50","spellcheck","false",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,n){i&1&&(f(0,"div",0)(1,"h3"),_(2,"Exerciser View-Master Script"),g(),f(3,"input",1),Y("change",function(s){return n.onFileSelected(s)}),g(),f(4,"textarea",2),ke("ngModelChange",function(s){return Ie(n.fileContent,s)||(n.fileContent=s),s}),g(),f(5,"button",3),Y("click",function(){return n.OnbuttonClick()}),_(6,"Buffer Reset"),g(),f(7,"button",3),Y("click",function(){return n.OnbuttonClick1()}),_(8,"Run"),g()()),i&2&&(x(4),Te("ngModel",n.fileContent))},dependencies:[ti,Jt,ei,Yt],styles:[".exerciser-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:20px;background-color:#f3f3f3;border-radius:10px;box-shadow:0 4px 8px #0003}h3[_ngcontent-%COMP%]{color:#a61f9b;font-family:Arial,sans-serif}input[type=file][_ngcontent-%COMP%]{margin-top:15px;padding:10px;border:2px solid #a61f9b;border-radius:5px}textarea[_ngcontent-%COMP%]{border:2px solid #a61f9b;border-radius:5px;padding:10px;font-family:Consolas,monospace;font-size:14px;resize:none;background-color:#fff;color:#333}button[_ngcontent-%COMP%]{width:150px;background-color:#a61f9b;color:#fff;font-weight:700;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#8c1981}button[_ngcontent-%COMP%]:focus{outline:none}"]})};var Vu=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["app-slave-script"]],standalone:!0,features:[K],decls:2,vars:0,template:function(i,n){i&1&&(f(0,"p"),_(1,"slave-script works!"),g())}})};var bS=[{path:"BusConfig",component:Nu},{path:"Master-UI",component:_u},{path:"Slave-UI",component:Lu},{path:"Master-Script",component:Bu},{path:"Slave-Script",component:Vu}];var _F="@",SF=(()=>{let e=class e{constructor(n,o,s,r,a){this.doc=n,this.delegate=o,this.zone=s,this.animationType=r,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=j(Rb,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-IJRZQVRG.js").then(o=>o)).catch(o=>{throw new pt(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:s})=>{this._engine=o(this.animationType,this.doc);let r=new s(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(n,o){let s=this.delegate.createRenderer(n,o);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let r=new Ov(s);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(n,o);r.use(l),this.scheduler?.notify(9)}).catch(a=>{r.use(s)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(o){js()},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Ov=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,n,o){this.delegate.insertBefore(e,i,n,o)}removeChild(e,i,n){this.delegate.removeChild(e,i,n)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,o){this.delegate.setAttribute(e,i,n,o)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,o){this.delegate.setStyle(e,i,n,o)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){this.shouldReplay(i)&&this.replay.push(o=>o.setProperty(e,i,n)),this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.shouldReplay(i)&&this.replay.push(o=>o.listen(e,i,n)),this.delegate.listen(e,i,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(_F)}};function zr(t="animations"){return xb("NgAsyncAnimations"),pa([{provide:bc,useFactory:(e,i,n)=>new SF(e,i,n,t),deps:[Me,Dc,pe]},{provide:ft,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var yS={providers:[Lb({eventCoalescing:!0}),Ky(bS),zr(),zr(),zr(),zr(),zr()]};var RF=["mat-menu-item",""],xF=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],EF=["mat-icon, [matMenuItemIcon]","*"];function DF(t,e){t&1&&(Vn(),f(0,"svg",2),ee(1,"polygon",3),g())}var TF=["*"];function IF(t,e){if(t&1){let i=tt();f(0,"div",0),Y("keydown",function(o){ne(i);let s=X();return oe(s._handleKeydown(o))})("click",function(){ne(i);let o=X();return oe(o.closed.emit("click"))})("@transformMenu.start",function(o){ne(i);let s=X();return oe(s._onAnimationStart(o))})("@transformMenu.done",function(o){ne(i);let s=X();return oe(s._onAnimationDone(o))}),f(1,"div",1),Ne(2),g()()}if(t&2){let i=X();Vt(i._classList),G("id",i.panelId)("@transformMenu",i._panelAnimationState),Ge("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var Nv=new ie("MAT_MENU_PANEL"),ql=(()=>{let e=class e{constructor(n,o,s,r,a){this._elementRef=n,this._document=o,this._focusMonitor=s,this._parentMenu=r,this._changeDetectorRef=a,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new he,this._focused=new he,this._highlighted=!1,this._triggersSubmenu=!1,r?.addItem?.(this)}focus(n,o){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,o):this._getHostElement().focus(o),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let n=this._elementRef.nativeElement.cloneNode(!0),o=n.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<o.length;s++)o[s].remove();return n.textContent?.trim()||""}_setHighlighted(n){this._highlighted=n,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(n){this._triggersSubmenu=n,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};e.\u0275fac=function(o){return new(o||e)(b(re),b(Me),b(bi),b(Nv,8),b(lt))},e.\u0275cmp=$({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(o,s){o&1&&Y("click",function(a){return s._checkDisabled(a)})("mouseenter",function(){return s._handleMouseEnter()}),o&2&&(Ge("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled)("disabled",s.disabled||null),Se("mat-mdc-menu-item-highlighted",s._highlighted)("mat-mdc-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",ye],disableRipple:[2,"disableRipple","disableRipple",ye]},exportAs:["matMenuItem"],standalone:!0,features:[et,K],attrs:RF,ngContentSelectors:EF,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(o,s){o&1&&(it(xF),Ne(0),f(1,"span",0),Ne(2,1),g(),ee(3,"div",1),de(4,DF,2,0,":svg:svg",2)),o&2&&(x(3),G("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()),x(),dt(s._triggersSubmenu?4:-1))},dependencies:[Qi],encapsulation:2,changeDetection:0});let t=e;return t})();var kF=new ie("MatMenuContent");var Gu={transformMenu:Rn("transformMenu",[fn("void",Gt({opacity:0,transform:"scale(0.8)"})),gi("void => enter",Ai("120ms cubic-bezier(0, 0, 0.2, 1)",Gt({opacity:1,transform:"scale(1)"}))),gi("* => void",Ai("100ms 25ms linear",Gt({opacity:0})))]),fadeInItems:Rn("fadeInItems",[fn("showing",Gt({opacity:1})),gi("void => *",[Gt({opacity:0}),Ai("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},kZ=Gu.fadeInItems,MZ=Gu.transformMenu,MF=0,PF=new ie("mat-menu-default-options",{providedIn:"root",factory:AF});function AF(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var jr=(()=>{let e=class e{get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}set panelClass(n){let o=this._previousPanelClass,s=D({},this._classList);o&&o.length&&o.split(" ").forEach(r=>{s[r]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(r=>{s[r]=!0}),this._elementRef.nativeElement.className=""),this._classList=s}get classList(){return this.panelClass}set classList(n){this.panelClass=n}constructor(n,o,s,r){this._elementRef=n,this._changeDetectorRef=r,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new ns,this._classList={},this._panelAnimationState="void",this._animationDone=new he,this.closed=new M,this.close=this.closed,this.panelId=`mat-menu-panel-${MF++}`,this._injector=j(vt),this.overlayPanelClass=s.overlayPanelClass||"",this._xPosition=s.xPosition,this._yPosition=s.yPosition,this.backdropClass=s.backdropClass,this.overlapTrigger=s.overlapTrigger,this.hasBackdrop=s.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new ur(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ft(this._directDescendantItems),Et(n=>Ut(...n.map(o=>o._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n)),this._directDescendantItems.changes.subscribe(n=>{let o=this._keyManager;if(this._panelAnimationState==="enter"&&o.activeItem?._hasFocus()){let s=n.toArray(),r=Math.max(0,Math.min(s.length-1,o.activeItemIndex||0));s[r]&&!s[r].disabled?o.setActiveItem(r):o.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(Ft(this._directDescendantItems),Et(o=>Ut(...o.map(s=>s._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){let o=n.keyCode,s=this._keyManager;switch(o){case 27:Wt(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(o===38||o===40)&&s.setFocusOrigin("keyboard"),s.onKeydown(n);return}n.stopPropagation()}focusFirstItem(n="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=ki(()=>{let o=null;if(this._directDescendantItems.length&&(o=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!o||!o.contains(document.activeElement)){let s=this._keyManager;s.setFocusOrigin(n).setFirstItemActive(),!s.activeItem&&o&&o.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){if(this._baseElevation===null){let l=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(l)}let o=Math.min(this._baseElevation+n,24),s=`${this._elevationPrefix}${o}`,r=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));if(!r||r===this._previousElevation){let a=D({},this._classList);this._previousElevation&&(a[this._previousElevation]=!1),a[s]=!0,this._previousElevation=s,this._classList=a}}setPositionClasses(n=this.xPosition,o=this.yPosition){this._classList=_e(D({},this._classList),{"mat-menu-before":n==="before","mat-menu-after":n==="after","mat-menu-above":o==="above","mat-menu-below":o==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(n){this._animationDone.next(n),this._isAnimating=!1}_onAnimationStart(n){this._isAnimating=!0,n.toState==="enter"&&this._keyManager.activeItemIndex===0&&(n.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ft(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(o=>o._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};e.\u0275fac=function(o){return new(o||e)(b(re),b(pe),b(PF),b(lt))},e.\u0275cmp=$({type:e,selectors:[["mat-menu"]],contentQueries:function(o,s,r){if(o&1&&(bt(r,kF,5),bt(r,ql,5),bt(r,ql,4)),o&2){let a;xe(a=Ee())&&(s.lazyContent=a.first),xe(a=Ee())&&(s._allItems=a),xe(a=Ee())&&(s.items=a)}},viewQuery:function(o,s){if(o&1&&Qe($t,5),o&2){let r;xe(r=Ee())&&(s.templateRef=r.first)}},hostVars:3,hostBindings:function(o,s){o&2&&Ge("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",ye],hasBackdrop:[2,"hasBackdrop","hasBackdrop",n=>n==null?null:ye(n)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[$e([{provide:Nv,useExisting:e}]),et,K],ngContentSelectors:TF,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(o,s){o&1&&(it(),de(0,IF,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Gu.transformMenu,Gu.fadeInItems]},changeDetection:0});let t=e;return t})(),_S=new ie("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(yt);return()=>t.scrollStrategies.reposition()}});function FF(t){return()=>t.scrollStrategies.reposition()}var OF={provide:_S,deps:[yt],useFactory:FF},wS=vi({passive:!0});var SS=(()=>{let e=class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){n!==this._menu&&(this._menu=n,this._menuCloseSubscription.unsubscribe(),n&&(this._parentMaterialMenu,this._menuCloseSubscription=n.close.subscribe(o=>{this._destroyMenu(o),(o==="click"||o==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(o)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(n,o,s,r,a,l,c,d,u){this._overlay=n,this._element=o,this._viewContainerRef=s,this._menuItemInstance=l,this._dir=c,this._focusMonitor=d,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=gt.EMPTY,this._hoverSubscription=gt.EMPTY,this._menuCloseSubscription=gt.EMPTY,this._changeDetectorRef=j(lt),this._handleTouchStart=p=>{ja(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new M,this.onMenuOpen=this.menuOpened,this.menuClosed=new M,this.onMenuClose=this.menuClosed,this._scrollStrategy=r,this._parentMaterialMenu=a instanceof jr?a:void 0,o.nativeElement.addEventListener("touchstart",this._handleTouchStart,wS)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,wS),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let n=this.menu;if(this._menuOpen||!n)return;let o=this._createOverlay(n),s=o.getConfig(),r=s.positionStrategy;this._setPosition(n,r),s.hasBackdrop=n.hasBackdrop==null?!this.triggersSubmenu():n.hasBackdrop,o.attach(this._getPortal(n)),n.lazyContent&&n.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(n),n instanceof jr&&(n._startAnimation(),n._directDescendantItems.changes.pipe(Ue(n.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(n,o){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,o):this._element.nativeElement.focus(o)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(n){if(!this._overlayRef||!this.menuOpen)return;let o=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(n==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,o instanceof jr?(o._resetAnimation(),o.lazyContent?o._animationDone.pipe(st(s=>s.toState==="void"),Lt(1),Ue(o.lazyContent._attached)).subscribe({next:()=>o.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),o?.lazyContent?.detach())}_initMenu(n){n.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,n.direction=this.dir,this._setMenuElevation(n),n.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(n){if(n.setElevation){let o=0,s=n.parentMenu;for(;s;)o++,s=s.parentMenu;n.setElevation(o)}}_setIsMenuOpen(n){n!==this._menuOpen&&(this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(n),this._changeDetectorRef.markForCheck())}_createOverlay(n){if(!this._overlayRef){let o=this._getOverlayConfig(n);this._subscribeToPositions(n,o.positionStrategy),this._overlayRef=this._overlay.create(o),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(n){return new Po({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:n.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:n.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(n,o){n.setPositionClasses&&o.positionChanges.subscribe(s=>{let r=s.connectionPair.overlayX==="start"?"after":"before",a=s.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>n.setPositionClasses(r,a)):n.setPositionClasses(r,a)})}_setPosition(n,o){let[s,r]=n.xPosition==="before"?["end","start"]:["start","end"],[a,l]=n.yPosition==="above"?["bottom","top"]:["top","bottom"],[c,d]=[a,l],[u,p]=[s,r],m=0;if(this.triggersSubmenu()){if(p=s=n.xPosition==="before"?"start":"end",r=u=s==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}m=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else n.overlapTrigger||(c=a==="top"?"bottom":"top",d=l==="top"?"bottom":"top");o.withPositions([{originX:s,originY:c,overlayX:u,overlayY:a,offsetY:m},{originX:r,originY:c,overlayX:p,overlayY:a,offsetY:m},{originX:s,originY:d,overlayX:u,overlayY:l,offsetY:-m},{originX:r,originY:d,overlayX:p,overlayY:l,offsetY:-m}])}_menuClosingActions(){let n=this._overlayRef.backdropClick(),o=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:we(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(st(a=>a!==this._menuItemInstance),st(()=>this._menuOpen)):we();return Ut(n,s,r,o)}_handleMousedown(n){za(n)||(this._openedBy=n.button===0?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){let o=n.keyCode;(o===13||o===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(o===39&&this.dir==="ltr"||o===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(st(n=>n===this._menuItemInstance&&!n.disabled),co(0,mc)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof jr&&this.menu._isAnimating?this.menu._animationDone.pipe(Lt(1),co(0,mc),Ue(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(n){return(!this._portal||this._portal.templateRef!==n.templateRef)&&(this._portal=new Zi(n.templateRef,this._viewContainerRef)),this._portal}};e.\u0275fac=function(o){return new(o||e)(b(yt),b(re),b(Bt),b(_S),b(Nv,8),b(ql,10),b(Dt,8),b(bi),b(pe))},e.\u0275dir=ue({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(o,s){o&1&&Y("click",function(a){return s._handleClick(a)})("mousedown",function(a){return s._handleMousedown(a)})("keydown",function(a){return s._handleKeydown(a)}),o&2&&Ge("aria-haspopup",s.menu?"menu":null)("aria-expanded",s.menuOpen)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let t=e;return t})(),RS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({providers:[OF],imports:[li,Ka,Pe,In,So,Pe]});let t=e;return t})();var Wu=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["app-main-toolbar"]],standalone:!0,features:[K],decls:135,vars:6,consts:[["menu","matMenu"],["viewMenu","matMenu"],["reportMenu","matMenu"],["quickReportMenu","matMenu"],["settingsMenu","matMenu"],["helpMenu","matMenu"],[1,"main-toolbar"],[1,"menu"],["mat-button","","href","#",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-button","","href","#"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"fas","fa-file-csv"],["mat-menu-item","","disabled",""],[1,"hamburger-menu"]],template:function(i,n){if(i&1&&(f(0,"div",6)(1,"nav")(2,"ul",7)(3,"li")(4,"a",8),_(5,"File"),g()(),f(6,"mat-menu",null,0)(8,"button",9)(9,"mat-icon"),_(10,"refresh"),g(),f(11,"span"),_(12,"Reset All"),g()(),f(13,"button",9)(14,"mat-icon"),_(15,"clear"),g(),f(16,"span"),_(17,"Clear Result"),g()(),f(18,"button",9)(19,"mat-icon"),_(20,"exit_to_app"),g(),f(21,"span"),_(22,"Exit"),g()()(),f(23,"li")(24,"a",8),_(25,"View"),g()(),f(26,"mat-menu",null,1)(28,"button",9)(29,"mat-icon"),_(30,"settings"),g(),f(31,"span"),_(32,"Device Configuration"),g()(),f(33,"button",9)(34,"mat-icon"),_(35,"code"),g(),f(36,"span"),_(37,"Master Script"),g()(),f(38,"button",9)(39,"mat-icon"),_(40,"code"),g(),f(41,"span"),_(42,"Slave Script"),g()(),f(43,"button",9)(44,"mat-icon"),_(45,"view_quilt"),g(),f(46,"span"),_(47,"Master UI"),g()(),f(48,"button",9)(49,"mat-icon"),_(50,"view_quilt"),g(),f(51,"span"),_(52,"Slave UI"),g()(),f(53,"button",9)(54,"mat-icon"),_(55,"lightbulb"),g(),f(56,"span"),_(57,"LED Status UI"),g()()(),f(58,"li")(59,"a",10),_(60,"Search"),g()(),f(61,"li")(62,"a",8),_(63,"Report"),g()(),f(64,"mat-menu",null,2)(66,"button",11)(67,"mat-icon"),_(68,"file_copy"),g(),_(69," Quick Report "),g(),f(70,"button",9)(71,"mat-icon"),_(72,"star"),g(),_(73," Advanced "),g()(),f(74,"mat-menu",null,3)(76,"button",9)(77,"mat-icon"),_(78,"html"),g(),_(79," HTM "),g(),f(80,"button",9)(81,"mat-icon"),ee(82,"i",12),g(),_(83," CSV "),g()(),f(84,"li")(85,"a",10),_(86,"Analytics"),g()(),f(87,"li")(88,"a",8),_(89,"Settings"),g()(),f(90,"mat-menu",null,4)(92,"button",9)(93,"mat-icon"),_(94,"analytics"),g(),f(95,"span"),_(96,"Analyzer"),g()(),f(97,"button",9)(98,"mat-icon"),_(99,"storage"),g(),f(100,"span"),_(101,"FIFO"),g()(),f(102,"button",9)(103,"mat-icon"),_(104,"view_comfy"),g(),f(105,"span"),_(106,"Custom View"),g()(),f(107,"button",9)(108,"mat-icon"),_(109,"sd_storage"),g(),f(110,"span"),_(111,"SD Card Setup"),g()(),f(112,"button",13)(113,"mat-icon"),_(114,"block"),g(),f(115,"span"),_(116,"CTS"),g()()(),f(117,"li")(118,"a",8),_(119,"Help"),g()(),f(120,"mat-menu",null,5)(122,"button",9)(123,"mat-icon"),_(124,"info"),g(),f(125,"span"),_(126,"About"),g()(),f(127,"button",9)(128,"mat-icon"),_(129,"help"),g(),f(130,"span"),_(131,"Help"),g()()()(),f(132,"div",14)(133,"mat-icon"),_(134,"menu"),g()()()()),i&2){let o=Ot(7),s=Ot(27),r=Ot(65),a=Ot(75),l=Ot(91),c=Ot(121);x(4),G("matMenuTriggerFor",o),x(20),G("matMenuTriggerFor",s),x(38),G("matMenuTriggerFor",r),x(4),G("matMenuTriggerFor",a),x(22),G("matMenuTriggerFor",l),x(30),G("matMenuTriggerFor",c)}},dependencies:[nn,w_,Uo,Eu,RS,jr,ql,SS],styles:[".main-toolbar[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;justify-content:space-between;align-items:center;padding:0;background-color:purple;color:#fff;width:100vw;height:65px;position:relative;z-index:1;margin:0}.menu[_ngcontent-%COMP%]{list-style:none;display:flex;gap:10px;margin:0;padding:0}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:400;font-size:medium;padding:15px;border-radius:4px;transition:background-color .3s,color .3s}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#d799d3}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background-color:#f9f9f9;color:purple}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#f9f9f9}.hamburger-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{display:none}.mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-family:YourFontFamily,sans-serif;font-size:14px;color:#673ab7}.mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#673ab7;font-size:20px}.mat-menu-item[_ngcontent-%COMP%]:hover{background-color:#e9c4e8;color:#fff}.mat-menu-item[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#fff}.mat-menu-item[_ngcontent-%COMP%]:active{background-color:#9575cd;color:#fff}.mat-menu-item[_ngcontent-%COMP%]:active   mat-icon[_ngcontent-%COMP%]{color:#fff}@media (max-width: 900px){.menu[_ngcontent-%COMP%]{display:none}.hamburger-menu[_ngcontent-%COMP%]{display:block;color:#fff}.dropdown-menu[_ngcontent-%COMP%]{display:block;position:absolute;top:50px;right:10px;background-color:#673ab7;box-shadow:0 4px 8px #0003;border-radius:4px;z-index:1000}.dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-decoration:none}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#9575cd}}"]})};var xS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[Pe,Pe]});let t=e;return t})();var LF=["tooltip"],TS=20;var IS=new ie("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(yt);return()=>t.scrollStrategies.reposition({scrollThrottle:TS})}});function BF(t){return()=>t.scrollStrategies.reposition({scrollThrottle:TS})}var VF={provide:IS,deps:[yt],useFactory:BF};function GF(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var WF=new ie("mat-tooltip-default-options",{providedIn:"root",factory:GF});var ES="tooltip-panel",DS=vi({passive:!0}),HF=8,UF=8,zF=24,jF=200,kS=(()=>{let e=class e{get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=En(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){this._disabled=En(n),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=ci(n)}get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=ci(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=n!=null?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(n,o,s,r,a,l,c,d,u,p,m,y){this._overlay=n,this._elementRef=o,this._scrollDispatcher=s,this._viewContainerRef=r,this._ngZone=a,this._platform=l,this._ariaDescriber=c,this._focusMonitor=d,this._dir=p,this._defaultOptions=m,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=$F,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new he,this._injector=j(vt),this._scrollStrategy=u,this._document=y,m&&(this._showDelay=m.showDelay,this._hideDelay=m.hideDelay,m.position&&(this.position=m.position),m.positionAtOrigin&&(this.positionAtOrigin=m.positionAtOrigin),m.touchGestures&&(this.touchGestures=m.touchGestures)),p.change.pipe(Ue(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=HF}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ue(this._destroyed)).subscribe(n=>{n?n==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let n=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([o,s])=>{n.removeEventListener(o,s,DS)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,o){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let s=this._createOverlay(o);this._detach(),this._portal=this._portal||new _o(this._tooltipComponent,this._viewContainerRef);let r=this._tooltipInstance=s.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Ue(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(n)}hide(n=this.hideDelay){let o=this._tooltipInstance;o&&(o.isVisible()?o.hide(n):(o._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&r._origin instanceof re)return this._overlayRef;this._detach()}let o=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?n||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(o);return s.positionChanges.pipe(Ue(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:`${this._cssClassPrefix}-${ES}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ue(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ue(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ue(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&r.keyCode===27&&!Wt(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){let o=n.getConfig().positionStrategy,s=this._getOrigin(),r=this._getOverlayPosition();o.withPositions([this._addOffset(D(D({},s.main),r.main)),this._addOffset(D(D({},s.fallback),r.fallback))])}_addOffset(n){let o=UF,s=!this._dir||this._dir.value=="ltr";return n.originY==="top"?n.offsetY=-o:n.originY==="bottom"?n.offsetY=o:n.originX==="start"?n.offsetX=s?-o:o:n.originX==="end"&&(n.offsetX=s?o:-o),n}_getOrigin(){let n=!this._dir||this._dir.value=="ltr",o=this.position,s;o=="above"||o=="below"?s={originX:"center",originY:o=="above"?"top":"bottom"}:o=="before"||o=="left"&&n||o=="right"&&!n?s={originX:"start",originY:"center"}:(o=="after"||o=="right"&&n||o=="left"&&!n)&&(s={originX:"end",originY:"center"});let{x:r,y:a}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:r,originY:a}}}_getOverlayPosition(){let n=!this._dir||this._dir.value=="ltr",o=this.position,s;o=="above"?s={overlayX:"center",overlayY:"bottom"}:o=="below"?s={overlayX:"center",overlayY:"top"}:o=="before"||o=="left"&&n||o=="right"&&!n?s={overlayX:"end",overlayY:"center"}:(o=="after"||o=="right"&&n||o=="left"&&!n)&&(s={overlayX:"start",overlayY:"center"});let{x:r,y:a}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:r,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ki(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,o){return this.position==="above"||this.position==="below"?o==="top"?o="bottom":o==="bottom"&&(o="top"):n==="end"?n="start":n==="start"&&(n="end"),{x:n,y:o}}_updateCurrentPositionClass(n){let{overlayY:o,originX:s,originY:r}=n,a;if(o==="center"?this._dir&&this._dir.value==="rtl"?a=s==="end"?"left":"right":a=s==="start"?"left":"right":a=o==="bottom"&&r==="top"?"above":"below",a!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${ES}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{this._setupPointerExitEventsIfNeeded();let o;n.x!==void 0&&n.y!==void 0&&(o=n),this.show(void 0,o)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{let o=n.targetTouches?.[0],s=o?{x:o.clientX,y:o.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout);let r=500;this._touchstartTimeout=setTimeout(()=>this.show(void 0,s),this._defaultOptions.touchLongPressShowDelay??r)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",o=>{let s=o.relatedTarget;(!s||!this._overlayRef?.overlayElement.contains(s))&&this.hide()}],["wheel",o=>this._wheelListener(o)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let o=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};n.push(["touchend",o],["touchcancel",o])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([o,s])=>{this._elementRef.nativeElement.addEventListener(o,s,DS)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){let o=this._document.elementFromPoint(n.clientX,n.clientY),s=this._elementRef.nativeElement;o!==s&&!s.contains(o)&&this.hide()}}_disableNativeGesturesIfNecessary(){let n=this.touchGestures;if(n!=="off"){let o=this._elementRef.nativeElement,s=o.style;(n==="on"||o.nodeName!=="INPUT"&&o.nodeName!=="TEXTAREA")&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),(n==="on"||!o.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}};e.\u0275fac=function(o){return new(o||e)(b(yt),b(re),b(Cr),b(Bt),b(pe),b(je),b(aw),b(bi),b(IS),b(Dt),b(WF,8),b(Me))},e.\u0275dir=ue({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(o,s){o&2&&Se("mat-mdc-tooltip-disabled",s.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let t=e;return t})(),$F=(()=>{let e=class e{constructor(n,o,s){this._changeDetectorRef=n,this._elementRef=o,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new he,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=s==="NoopAnimations"}show(n){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>zF&&n.width>=jF}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){let o=this._tooltip.nativeElement,s=this._showAnimation,r=this._hideAnimation;if(o.classList.remove(n?r:s),o.classList.add(n?s:r),this._isVisible!==n&&(this._isVisible=n,this._changeDetectorRef.markForCheck()),n&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(o);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(o.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}};e.\u0275fac=function(o){return new(o||e)(b(lt),b(re),b(ft,8))},e.\u0275cmp=$({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(o,s){if(o&1&&Qe(LF,7),o&2){let r;xe(r=Ee())&&(s._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(o,s){o&1&&Y("mouseleave",function(a){return s._handleMouseLeave(a)}),o&2&&ho("zoom",s.isVisible()?1:null)},standalone:!0,features:[K],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(o,s){if(o&1){let r=tt();f(0,"div",1,0),Y("animationend",function(l){return ne(r),oe(s._handleAnimationEnd(l))}),f(2,"div",2),_(3),g()()}o&2&&(Se("mdc-tooltip--multiline",s._isMultiline),G("ngClass",s.tooltipClass),x(3),ze(s.message))},dependencies:[Rc],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let t=e;return t})();var MS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({providers:[VF],imports:[id,li,In,Pe,Pe,So]});let t=e;return t})();var PS=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[li,Pe]});let t=e;return t})();var Hu=class t{constructor(e,i){this.commonService=e;this.protoService=i}sendSetupSystemMessage(){return Ye(this,null,function*(){let a=this.commonService.createSetupSystemMessage("EXPD",!1,1,4,4,"");yield this.protoService.sendMessage(a)})}sendInitializeRunMessage(e){return Ye(this,null,function*(){let i="EXPD",s=this.commonService.createRunConfiguration(),r=this.commonService.createInitializeRunMessage(i,e,1,s,!1);yield this.protoService.sendMessage(r)})}startrun(){return Ye(this,null,function*(){let i=this.commonService.createStartRunMessage(1);yield this.protoService.sendMessage(i)})}static \u0275fac=function(i){return new(i||t)(F(Go),F(sn))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var Uu=class t{constructor(e,i,n,o){this.commonService=e;this.protoService=i;this.offlineservice=n;this.onlineservice=o;this.isElectron()&&(this.ipcRenderer=window.require("electron").ipcRenderer)}ipcRenderer;totalmessagesload=0;currentStatus=null;messagesSubscription=null;selectedPath="";ngOnInit(){this.subscribeToStatus()}isElectron(){return!!(window&&window.process&&window.process.type)}subscribeToStatus(){this.protoService.status$.subscribe(e=>{this.currentStatus=e,console.log("Current status:",e),this.currentStatus?.currentState==1&&alert("Connection with server Successfull \u2705 ")})}openFileDialog(){console.log("opening file dailog");let e=document.getElementById("fileInput");e&&e.click()}handleFileInput(e){return Ye(this,null,function*(){let i=e.target;if(i.files){let n=Array.from(i.files);if(n.length>0){let o=n[0].webkitRelativePath;yield this.InitializeMethod("D:\\Angular\\I3CEXPD_TRACE_DAT\\Capture20230802T205649\\Capture20230802T205649"),console.log("setup & Initialization sequence completed successfully.")}}})}openDirectoryDialog(){return Ye(this,null,function*(){console.log("Opening directory dialog"),this.ipcRenderer&&this.ipcRenderer.invoke("open-directory-dialog").then(e=>{e&&e.length>0&&(console.log("Selected directory path:",e[0]),this.selectedPath=e[0],this.InitializeMethod(e[0]))})})}InitializeMethod(e){return Ye(this,null,function*(){let i=e;console.log(`Simulated directory path: ${i}`);try{yield this.initialize(i),console.log("setup & Initialization sequence completed successfully."),yield this.offlineservice.startrun(),yield this.waitForState(5),console.log("current status is StartRun......."),yield this.waitForState(7),console.log("Decode completed : Frame Decoded :Current status: RUNCOMPLETED"),alert("Run completed...")}catch(n){console.error("Error during initialization sequence:",n)}})}waitForState(e){return Ye(this,null,function*(){for(;this.currentStatus==null||this.currentStatus.currentState!==e;)console.log(`Waiting for system to be in state: ${e}...`),yield new Promise(i=>setTimeout(i,500))})}initialize(e){return Ye(this,null,function*(){try{yield this.waitForState(1),console.log("Sending setup system message..."),yield this.offlineservice.sendSetupSystemMessage(),console.log("Setup system message sent successfully."),yield this.waitForState(2),console.log("Sending initialize run message..."),yield this.offlineservice.sendInitializeRunMessage(e),console.log("Initialize run message sent successfully."),yield this.waitForState(4)}catch(i){throw console.error("Error in initialize function:",i),i}})}delay(e){return new Promise(i=>setTimeout(i,e))}ConnectionMethod(){return Ye(this,null,function*(){try{yield this.waitForState(1),yield this.onlineservice.launchCaptureApp(),yield this.delay(2e3),console.log("Sending setup system message..."),yield this.onlineservice.sendSetupSystemMessageLive(),console.log("Setup system message sent successfully."),yield this.waitForState(2),console.log("Sending device setup system message..."),yield this.onlineservice.sendSetupDeviceSystemMessage(),console.log("Device setup system message sent successfully."),yield this.waitForState(3),yield this.handleStatusUpdate()}catch(e){throw console.error("Error in initialize function:",e),e}})}handleStatusUpdate(){return Ye(this,null,function*(){try{let e=yield nb(this.protoService.status$),i=12;switch(e&&e.currentState===3?i=0:e&&e.reason?i=1:i=16,console.log("Setup status:",i),i){case 0:Mn.ConnectionStatus=!0,alert("USB Connection, Connection Established Successfully \u2705");break;case 1:return alert("USB Connection: FX3 not detected"),1;default:return alert("USB Connection: Device Not Found"),16}return i}catch(e){return console.error("Error handling status update:",e),16}})}RunStopMethod(){return Ye(this,null,function*(){try{yield this.waitForState(3),console.log("Sending initialize run message..."),yield this.onlineservice.sendInitializeRunMessage(),console.log("Initialize run message sent successfully."),yield this.waitForState(4),console.log("setup & Initialization sequence completed successfully."),yield this.onlineservice.startrun(),yield this.waitForState(5),console.log("current status is StartRun......."),alert("Capture Started...")}catch(e){throw console.error("Error in initialize function:",e),e}})}static \u0275fac=function(i){return new(i||t)(b(Go),b(sn),b(Hu),b(Pn))};static \u0275cmp=$({type:t,selectors:[["app-sub-toolbar"]],standalone:!0,features:[K],decls:53,vars:0,consts:[[1,"sub-toolbar"],[1,"icon-group"],[3,"click"],["matTooltip","Check hardware Connection",1,"material-icons"],[1,"header-section"],[1,"voltage-flash-container"],[1,"custom-form-field"],["value","Variable"],["value","Fixed"],["id","flash_on",1,"icon-group"],["matTooltip","Change the voltage",1,"material-icons"],["value","EX_PD"],["value","Other"],["matTooltip","Start/Stop Capture",1,"fa-solid","fa-circle-play"],[1,"open-dialog-btn",3,"click"],[1,"fas","fa-folder-open"],["type","file","id","fileInput","webkitdirectory","","directory","","multiple","",2,"display","none",3,"change"],["matTooltip","Load Tracefile",1,"fa-solid","fa-folder-open",3,"click"],["matTooltip","I3C Network",1,"material-icons"],["matTooltip","Device Setup","routerLink","BusConfig",1,"fa-solid","fa-gear"],["matTooltip","Master/Slave UI window",1,"user-profile"],[1,"profile-icon"],[1,"buttons"],["routerLink","Master-UI",1,"button","master-slave"],["routerLink","Slave-UI",1,"button","master-slave"],[1,"user-profile"],[1,"fa-solid","fa-code"],["routerLink","Master-Script",1,"button","master-slave"],["routerLink","Slave-Script",1,"button","master-slave"]],template:function(i,n){i&1&&(f(0,"div",0)(1,"div",1)(2,"button",2),Y("click",function(){return n.ConnectionMethod()}),f(3,"i",3),_(4,"settings_input_component"),g()()(),f(5,"header")(6,"div",4)(7,"div",5)(8,"div",6)(9,"mat-label"),_(10,"Voltage Setup"),g(),f(11,"mat-select")(12,"mat-option",7),_(13,"Variable"),g(),f(14,"mat-option",8),_(15,"Fixed"),g()()(),f(16,"div",9)(17,"i",10),_(18,"flash_on"),g()()(),f(19,"div",6)(20,"mat-label"),_(21,"Mode Selection"),g(),f(22,"mat-select")(23,"mat-option",11),_(24,"EX_PD"),g(),f(25,"mat-option",12),_(26,"Other"),g()()(),f(27,"div",1)(28,"button",2),Y("click",function(){return n.RunStopMethod()}),ee(29,"i",13),g(),f(30,"button",14),Y("click",function(){return n.openFileDialog()}),f(31,"i",15),_(32,"B"),g()(),f(33,"input",16),Y("change",function(s){return n.handleFileInput(s)}),g(),f(34,"i",17),Y("click",function(){return n.openDirectoryDialog()}),_(35,"E"),g(),f(36,"i",18),_(37,"desktop_windows"),g(),ee(38,"i",19),g(),f(39,"div",20)(40,"span",21),_(41,"UI"),g()(),f(42,"div",22)(43,"button",23),_(44,"Master"),g(),f(45,"button",24),_(46,"Slave"),g(),f(47,"div",25),ee(48,"i",26),g(),f(49,"button",27),_(50,"Master"),g(),f(51,"button",28),_(52,"Slave"),g()()()()())},dependencies:[xS,Uo,MS,kS,PS,Mt,ii,Tr,wi,qt,$y],styles:[".header-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px}.sub-toolbar[_ngcontent-%COMP%]{display:flex;padding:0;background-color:#f2e5f2;width:100vw;margin:0;height:65px;box-shadow:0 4px 8px #0003;align-items:center;border:#430f3f}.icon-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:15px}.icon-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:38px;height:38px;font-size:24px;color:#a61f9b;background-color:#f0f0f0;border-radius:8px;box-shadow:0 4px 8px #0003}.icon-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{background-color:#d9cfe2;color:#751367}.mat-tooltip[_ngcontent-%COMP%]{background-color:#a61f9b!important;color:#fff!important;font-size:14px!important;font-weight:700!important;border-radius:8px!important;padding:10px!important;text-align:center;max-width:200px!important}.mat-tooltip[_ngcontent-%COMP%]   .mat-tooltip-arrow[_ngcontent-%COMP%]{border-top-color:#a61f9b!important}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px;height:38px}.buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:5px 15px;background-color:#f0f0f0;color:#702768;font-weight:700;font-size:small;border:none;border-radius:7px;border-color:#e46ae4;box-shadow:0 4px 8px #08080833;cursor:pointer;height:30px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d9cfe2;color:#751367}.master-slave[_ngcontent-%COMP%]{margin:0;border-radius:0}.master-slave[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:5px;border-bottom-left-radius:5px}.master-slave[_ngcontent-%COMP%]:last-of-type{border-top-right-radius:5px;border-bottom-right-radius:5px}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px}.profile-icon[_ngcontent-%COMP%]{background-color:#a61f9b;border-radius:50%;padding:5px 10px;color:#fff;gap:5px}.voltage-flash-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0px}.custom-form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100px;height:40px;font-size:small;background-color:#f0f0f0;border-radius:2px;border-color:#430f3f;box-shadow:0 4px 8px #0003}.mat-option[_ngcontent-%COMP%]{font-size:small}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:10px}}"]})};var zu=class t{isConnected=!0;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["app-header-view"]],inputs:{isConnected:"isConnected"},standalone:!0,features:[K],decls:5,vars:0,template:function(i,n){i&1&&(f(0,"mat-toolbar")(1,"mat-toolbar-row"),ee(2,"app-main-toolbar"),g(),f(3,"mat-toolbar-row"),ee(4,"app-sub-toolbar"),g()())},dependencies:[Wu,Uu,Hr,Su,Iv],styles:["mat-toolbar[_ngcontent-%COMP%]{width:100vw;padding:0;margin:0;box-sizing:border-box}mat-toolbar-row[_ngcontent-%COMP%]{width:100%;padding:0;margin:0}mat-toolbar-row[_ngcontent-%COMP%]:not(:first-child){margin-top:0}.app-main-toolbar[_ngcontent-%COMP%], .app-sub-toolbar[_ngcontent-%COMP%]{width:100%;margin:0;padding:0}"]})};var AS=["*"];var XF=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",Lv=class{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){let e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,i){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=i.map(n=>this._trackTile(n))}_trackTile(e){let i=this._findMatchingGap(e.colspan);return this._markTilePosition(i,e),this.columnIndex=i+e.colspan,new Bv(this.rowIndex,i)}_findMatchingGap(e){e>this.tracker.length;let i=-1,n=-1;do{if(this.columnIndex+e>this.tracker.length){this._nextRow(),i=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(i);continue}if(i=this.tracker.indexOf(0,this.columnIndex),i==-1){this._nextRow(),i=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(i);continue}n=this._findGapEndIndex(i),this.columnIndex=i+1}while(n-i<e||n==0);return Math.max(i,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let i=e+1;i<this.tracker.length;i++)if(this.tracker[i]!=0)return i;return this.tracker.length}_markTilePosition(e,i){for(let n=0;n<i.colspan;n++)this.tracker[e+n]=i.rowspan}},Bv=class{constructor(e,i){this.row=e,this.col=i}},FS=new ie("MAT_GRID_LIST"),Yl=(()=>{let e=class e{constructor(n,o){this._element=n,this._gridList=o,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(n){this._rowspan=Math.round(ci(n))}get colspan(){return this._colspan}set colspan(n){this._colspan=Math.round(ci(n))}_setStyle(n,o){this._element.nativeElement.style[n]=o}};e.\u0275fac=function(o){return new(o||e)(b(re),b(FS,8))},e.\u0275cmp=$({type:e,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(o,s){o&2&&Ge("rowspan",s.rowspan)("colspan",s.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],standalone:!0,features:[K],ngContentSelectors:AS,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(o,s){o&1&&(it(),f(0,"div",0),Ne(1),g())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0});let t=e;return t})();var YF=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,Xl=class{constructor(){this._rows=0,this._rowspan=0}init(e,i,n,o){this._gutterSize=OS(e),this._rows=i.rowCount,this._rowspan=i.rowspan,this._cols=n,this._direction=o}getBaseTileSize(e,i){return`(${e}% - (${this._gutterSize} * ${i}))`}getTilePosition(e,i){return i===0?"0":Ds(`(${e} + ${this._gutterSize}) * ${i}`)}getTileSize(e,i){return`(${e} * ${i}) + (${i-1} * ${this._gutterSize})`}setStyle(e,i,n){let o=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,n,o,s),this.setRowStyles(e,i,o,s)}setColStyles(e,i,n,o){let s=this.getBaseTileSize(n,o),r=this._direction==="rtl"?"right":"left";e._setStyle(r,this.getTilePosition(s,i)),e._setStyle("width",Ds(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}},Vv=class extends Xl{constructor(e){super(),this.fixedRowHeight=e}init(e,i,n,o){super.init(e,i,n,o),this.fixedRowHeight=OS(this.fixedRowHeight),YF.test(this.fixedRowHeight)}setRowStyles(e,i){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,i)),e._setStyle("height",Ds(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Ds(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(i=>{i._setStyle("top",null),i._setStyle("height",null)})}},Gv=class extends Xl{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,i,n,o){let s=n/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(s,o),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,i)),e._setStyle("paddingTop",Ds(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Ds(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(i=>{i._setStyle("marginTop",null),i._setStyle("paddingTop",null)})}_parseRatio(e){let i=e.split(":");i.length,this.rowHeightRatio=parseFloat(i[0])/parseFloat(i[1])}},Wv=class extends Xl{setRowStyles(e,i){let n=100/this._rowspan,o=(this._rows-1)/this._rows,s=this.getBaseTileSize(n,o);e._setStyle("top",this.getTilePosition(s,i)),e._setStyle("height",Ds(this.getTileSize(s,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(i=>{i._setStyle("top",null),i._setStyle("height",null)})}};function Ds(t){return`calc(${t})`}function OS(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}var QF="fit",ju=(()=>{let e=class e{constructor(n,o){this._element=n,this._dir=o,this._gutter="1px"}get cols(){return this._cols}set cols(n){this._cols=Math.max(1,Math.round(ci(n)))}get gutterSize(){return this._gutter}set gutterSize(n){this._gutter=`${n??""}`}get rowHeight(){return this._rowHeight}set rowHeight(n){let o=`${n??""}`;o!==this._rowHeight&&(this._rowHeight=o,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(n){this._tileStyler&&this._tileStyler.reset(this),n===QF?this._tileStyler=new Wv:n&&n.indexOf(":")>-1?this._tileStyler=new Gv(n):this._tileStyler=new Vv(n)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Lv);let n=this._tileCoordinator,o=this._tiles.filter(r=>!r._gridList||r._gridList===this),s=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,o),this._tileStyler.init(this.gutterSize,n,this.cols,s),o.forEach((r,a)=>{let l=n.positions[a];this._tileStyler.setStyle(r,l.row,l.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(n){n&&(this._element.nativeElement.style[n[0]]=n[1])}};e.\u0275fac=function(o){return new(o||e)(b(re),b(Dt,8))},e.\u0275cmp=$({type:e,selectors:[["mat-grid-list"]],contentQueries:function(o,s,r){if(o&1&&bt(r,Yl,5),o&2){let a;xe(a=Ee())&&(s._tiles=a)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(o,s){o&2&&Ge("cols",s.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],standalone:!0,features:[$e([{provide:FS,useExisting:e}]),K],ngContentSelectors:AS,decls:2,vars:0,template:function(o,s){o&1&&(it(),f(0,"div"),Ne(1),g())},styles:[XF],encapsulation:2,changeDetection:0});let t=e;return t})(),$u=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=ve({type:e}),e.\u0275inj=ge({imports:[sf,Pe,sf,Pe]});let t=e;return t})();var Ku=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["app-exerciser-view"]],standalone:!0,features:[K],decls:1,vars:0,template:function(i,n){i&1&&ee(0,"router-outlet")},dependencies:[Fp]})};var na=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(t){this.frameworkOverrides=t}getListeners(t,e,i){let n=e?this.allAsyncListeners:this.allSyncListeners,o=n.get(t);return!o&&i&&(o=new Set,n.set(t,o)),o}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(t,e,i=!1){this.getListeners(t,i,!0).add(e)}removeEventListener(t,e,i=!1){let n=this.getListeners(t,i,!1);n&&(n.delete(e),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t))}addGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){let e=t;this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(t){this.firedEvents[t.type]||this.dispatchEvent(t)}dispatchToListeners(t,e){let i=t.type;if(e&&"event"in t){let a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}let n=(a,l)=>a.forEach(c=>{if(!l.has(c))return;let d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(t)):()=>c(t);e?this.dispatchAsync(d):d()}),o=this.getListeners(i,e,!1)??new Set,s=new Set(o);s.size>0&&n(s,o),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{let l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,t)):()=>a(i,t);e?this.dispatchAsync(l):l()})}dispatchAsync(t){if(this.asyncFunctionsQueue.push(t),!this.scheduled){let e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(e=>e())}};function Ze(t){if(!(!t||!t.length))return t[t.length-1]}function Os(t,e,i){return t==null&&e==null?!0:t!=null&&e!=null&&t.length===e.length&&t.every((n,o)=>i?i(n,e[o]):e[o]===n)}function ZF(t){return t.sort((e,i)=>e-i)}function cR(t,e){let i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.pop())}function pi(t,e){let i=t.indexOf(e);i>=0&&t.splice(i,1)}function JF(t,e){for(let i=0;i<e.length;i++)cR(t,e[i])}function eO(t,e){for(let i=0;i<e.length;i++)pi(t,e[i])}function sh(t,e,i){t.splice(i,0,e)}function dR(t,e,i){eO(t,e),e.slice().reverse().forEach(n=>sh(t,n,i))}function Ms(t,e){return t.indexOf(e)>-1}function tO(t){return[].concat.apply([],t)}function LS(t,e){e==null||t==null||e.forEach(i=>t.push(i))}var uR="__ag_Grid_Stop_Propagation",iO=["touchstart","touchend","touchmove","touchcancel","scroll"],Hv={};function Jr(t){t[uR]=!0}function to(t){return t[uR]===!0}var hR=(()=>{let t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof Hv[i]=="boolean")return Hv[i];let n=document.createElement(t[i]||"div");return i="on"+i,Hv[i]=i in n}})();function nC(t,e,i){let n=e;for(;n;){let o=t.getDomData(n,i);if(o)return o;n=n.parentElement}return null}function nO(t,e){return!e||!t?!1:sO(e).indexOf(t)>=0}function oO(t){let e=[],i=t.target;for(;i;)e.push(i),i=i.parentElement;return e}function sO(t){let e=t;return e.path?e.path:e.composedPath?e.composedPath():oO(e)}function rO(t,e,i,n){let s=Ms(iO,i)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,i,n,s)}var A=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(t){this.gridId=t.context.getGridId(),this.frameworkOverrides=t.frameworkOverrides,this.stubContext=t.context,this.eventService=t.eventService,this.gos=t.gos,this.localeService=t.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let t=0;t<this.destroyFunctions.length;t++)this.destroyFunctions[t]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(t,e){this.localEventService||(this.localEventService=new na),this.localEventService.addEventListener(t,e)}removeEventListener(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)}dispatchLocalEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedElementListeners(t,e){return this._setupListeners(t,e)}addManagedEventListeners(t){return this._setupListeners(this.eventService,t)}addManagedListeners(t,e){return this._setupListeners(t,e)}_setupListeners(t,e){let i=[];for(let n in e){let o=e[n];o&&i.push(this._setupListener(t,n,o))}return i}_setupListener(t,e,i){if(this.destroyed)return()=>null;t instanceof HTMLElement?rO(this.getFrameworkOverrides(),t,e,i):t.addEventListener(e,i);let n=()=>(t.removeEventListener(e,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==n),null)}setupGridOptionListener(t,e){this.gos.addPropertyEventListener(t,e);let i=()=>(this.gos.removePropertyEventListener(t,e),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}addManagedPropertyListener(t,e){return this.destroyed?()=>null:this.setupGridOptionListener(t,e)}addManagedPropertyListeners(t,e){if(this.destroyed)return;let i=t.join("-")+this.propertyListenerId++,n=o=>{if(o.changeSet){if(o.changeSet&&o.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=o.changeSet.id}let s={type:"gridPropertyChanged",changeSet:o.changeSet,source:o.source};e(s)};t.forEach(o=>this.setupGridOptionListener(o,n))}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,e){let i=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),i}createBean(t,e,i){return(e||this.stubContext).createBean(t,i)}destroyBean(t,e){return(e||this.stubContext).destroyBean(t)}destroyBeans(t,e){return(e||this.stubContext).destroyBeans(t)}},yC=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=i=>{this.frameworkOverrides.wrapOutgoing(()=>t(i))},this.wrappedListeners.set(t,e)),e}wrapGlobal(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=(i,n)=>{this.frameworkOverrides.wrapOutgoing(()=>t(i,n))},this.wrappedGlobalListeners.set(t,e)),e}unwrap(t){return this.wrappedListeners.get(t)??t}unwrapGlobal(t){return this.wrappedGlobalListeners.get(t)??t}};function io(t){return t==null||t===""?null:t}function W(t,e=!1){return t!=null&&(t!==""||e)}function Xe(t){return!W(t)}function Ei(t){return t==null||t.length===0}function oC(t){return t!=null&&typeof t.toString=="function"?t.toString():null}function Ps(t){if(t===void 0)return;if(t===null||t==="")return null;if(typeof t=="number")return isNaN(t)?void 0:t;let e=parseInt(t,10);return isNaN(e)?void 0:e}function sC(t){if(t!==void 0)return t===null||t===""?!1:rC(t)}function rC(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1}function ac(t,e){let i=t?JSON.stringify(t):null,n=e?JSON.stringify(e):null;return i===n}function aO(t,e,i=!1){let n=t==null,o=e==null;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&o)return 0;if(n)return-1;if(o)return 1;function s(r,a){return r>a?1:r<a?-1:0}if(typeof t!="string"||!i)return s(t,e);try{return t.localeCompare(e)}catch{return s(t,e)}}function th(t){if(t instanceof Set||t instanceof Map){let e=[];return t.forEach(i=>e.push(i)),e}return Object.values(t)}var wC=new Set(["__proto__","constructor","prototype"]);function rn(t,e){if(t!=null){if(Array.isArray(t)){for(let i=0;i<t.length;i++)e(i.toString(),t[i]);return}for(let[i,n]of Object.entries(t))e(i,n)}}function pR(t){let e={},i=Object.keys(t);for(let n=0;n<i.length;n++){if(wC.has(i[n]))continue;let o=i[n],s=t[o];e[o]=s}return e}function aC(t,e){if(!t)return;let i=t,n={};return Object.keys(i).forEach(o=>{if(e&&e.indexOf(o)>=0||wC.has(o))return;let s=i[o];lC(s)&&s.constructor===Object?n[o]=aC(s):n[o]=s}),n}function qo(t){if(!t)return[];let e=Object;if(typeof e.values=="function")return e.values(t);let i=[];for(let n in t)t.hasOwnProperty(n)&&t.propertyIsEnumerable(n)&&i.push(t[n]);return i}function an(t,e,i=!0,n=!1){W(e)&&rn(e,(o,s)=>{if(wC.has(o))return;let r=t[o];r!==s&&(n&&r==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(r={},t[o]=r),lC(s)&&lC(r)&&!Array.isArray(r)?an(r,s,i,n):(i||s!==void 0)&&(t[o]=s))})}function ic(t,e,i){if(!e||!t)return;if(!i)return t[e];let n=e.split("."),o=t;for(let s=0;s<n.length;s++){if(o==null)return;o=o[n[s]]}return o}function lC(t){return typeof t=="object"&&t!==null}var lO={resizable:!0,sortable:!0},cO=0;function fR(){return cO++}function Xo(t){return t instanceof gR}var mR=20,gR=class extends A{constructor(t,e,i,n){super(),this.isColumn=!0,this.instanceId=fR(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new na,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=i,this.primary=n,this.setState(t)}wireBeans(t){this.columnHoverService=t.columnHoverService}getInstanceId(){return this.instanceId}setState(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);let e=t.sortIndex,i=t.initialSortIndex;e!==void 0?e!==null&&(this.sortIndex=e):i!==null&&(this.sortIndex=i);let n=t.hide,o=t.initialHide;n!==void 0?this.visible=!n:this.visible=!o,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);let s=t.flex,r=t.initialFlex;s!==void 0?this.flex=s:r!==void 0&&(this.flex=r)}setColDef(t,e,i){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){let t=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=W(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=W(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){let t=this.colDef;this.minWidth=t.minWidth??mR,this.maxWidth=t.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=W(this.colDef.tooltipField)||W(this.colDef.tooltipValueGetter)||W(this.colDef.tooltipComponent)}resetActualWidth(t){let e=this.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)}calculateColInitialWidth(t){let e,i=Ps(t.width),n=Ps(t.initialWidth);return i!=null?e=i:n!=null?e=n:e=200,Math.max(Math.min(e,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){if(Xe(this.colDef)||Xe(this.colDef.showRowGroup))return!1;let e=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===t;return e||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(t,e){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new yC(this.frameworkOverrides));let i=this.frameworkEventListenerService?.wrap(e)??e;this.columnEventService.addEventListener(t,i)}removeEventListener(t,e){let i=this.frameworkEventListenerService?.unwrap(e)??e;this.columnEventService.removeEventListener(t,i)}createColumnFunctionCallbackParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})}isSuppressNavigable(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){let e=this.createColumnFunctionCallbackParams(t),i=this.colDef.suppressNavigable;return i(e)}return!1}isCellEditable(t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(t){return this.colDef[t]??lO[t]}isColumnFunc(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){let i=this.createColumnFunctionCallbackParams(t);return e(i)}return!1}setMoving(t,e){this.moving=t,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",e))}createColumnEvent(t,e){return this.gos.addGridCommonParams({type:t,column:this,columns:[this],source:e})}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,e){this.sort!==t&&(this.sort=t,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Xe(this.sort)}isSorting(){return W(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(t,e){this.menuVisible!==t&&(this.menuVisible=t,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))}isMenuVisible(){return this.menuVisible}setAggFunc(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,e){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))}isFilterActive(){return this.filterActive}setFilterActive(t,e,i){this.filterActive!==t&&(this.filterActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));let n=this.createColumnEvent("filterChanged",e);i&&an(n,i),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,e){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))}setLastLeftPinned(t,e){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(t,e){let i=t===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){let t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight}getColumnGroupPaddingInfo(){let t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let e=t.getPaddingLevel()+1,i=!0;for(;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){let e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e}createBaseColDefParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})}getColSpan(t){if(Xe(this.colDef.colSpan))return 1;let e=this.createBaseColDefParams(t),i=this.colDef.colSpan(e);return Math.max(i,1)}getRowSpan(t){if(Xe(this.colDef.rowSpan))return 1;let e=this.createBaseColDefParams(t),i=this.colDef.rowSpan(e);return Math.max(i,1)}setActualWidth(t,e,i=!1){t=Math.max(t,this.minWidth),t=Math.min(t,this.maxWidth),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return t>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")}setMinimum(t){this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,e){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,e){this.pivotActive!==t&&(this.pivotActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,e){this.aggregationActive!==t&&(this.aggregationActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(t){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:t})}};function ui(t){return t instanceof ih}var ih=class extends A{constructor(t,e,i,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=fR(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=i,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(t=>t.isVisible()):!1}isPadding(){return this.padding}setExpanded(t){this.expanded=t===void 0?!1:t,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(e=>{Xo(e)?t.push(e):ui(e)&&e.addLeafColumns(t)})}getColumnGroupShow(){let t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(e=>e.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(e=>e.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,e=!1,i=!1,n=this.findChildrenRemovingPadding();for(let s=0,r=n.length;s<r;s++){let a=n[s];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(t=!0,i=!0):l==="closed"?(e=!0,i=!0):(t=!0,e=!0)}let o=t&&e&&i;this.expandable!==o&&(this.expandable=o,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let t=[],e=i=>{i.forEach(n=>{ui(n)&&n.isPadding()?e(n.children):t.push(n)})};return e(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}},dO={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},BS={};function _C(t,e){BS[e]||(t(),BS[e]=!0)}function ln(t,...e){console.log("AG Grid: "+t,...e)}function L(t,...e){_C(()=>console.warn("AG Grid: "+t,...e),t+e?.join(""))}function nt(t,...e){_C(()=>console.error("AG Grid: "+t,...e),t+e?.join(""))}function SC(t){return!!(t&&t.constructor&&t.call&&t.apply)}function uO(t){hO(t,400)}var Uv=[],zv=!1;function VS(t){Uv.push(t),!zv&&(zv=!0,window.setTimeout(()=>{let e=Uv.slice();Uv.length=0,zv=!1,e.forEach(i=>i())},0))}function hO(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(i=>i()),e)}function fi(t,e){let i;return function(...n){let o=this;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(o,n)},e)}}function GS(t,e){let i=0;return function(...n){let o=this,s=new Date().getTime();s-i<e||(i=s,t.apply(o,n))}}function pO(t,e,i=100,n){let o=new Date().getTime(),s=null,r=!1,a=()=>{let l=new Date().getTime()-o>i;(t()||l)&&(e(),r=!0,s!=null&&(window.clearInterval(s),s=null),l&&n&&L(n))};a(),r||(s=window.setInterval(a,10))}function fO(...t){return e=>t.reduce((i,n)=>n(i),e)}var mO=class{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++)this.existingKeys[t[e]]=!0}getUniqueKey(t,e){t=oC(t);let i=0;for(;;){let n;if(t?(n=t,i!==0&&(n+="_"+i)):e?(n=e,i!==0&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},hc="ag-Grid-AutoColumn";function RC(t){let e=[],i=n=>{for(let o=0;o<n.length;o++){let s=n[o];Xo(s)?e.push(s):ui(s)&&i(s.getChildren())}};return i(t),e}function eo(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}function qr(t,e,i){let n={};if(!e)return;oo(null,e,s=>{n[s.getInstanceId()]=s}),i&&oo(null,i,s=>{n[s.getInstanceId()]=null});let o=Object.values(n).filter(s=>s!=null);t.destroyBeans(o)}function WS(t){return t.getId().startsWith(hc)}function nh(t){let e=[];return t instanceof Array?t.some(n=>typeof n!="string")?L("if colDef.type is supplied an array it should be of type 'string[]'"):e=t:typeof t=="string"?e=t.split(","):L("colDef.type should be of type 'string' | 'string[]'"),e}var gO=class extends A{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(t){this.dataTypeService=t.dataTypeService}createColumnTree(t,e,i,n){let o=new mO,{existingCols:s,existingGroups:r,existingColKeys:a}=this.extractExistingTreeData(i);o.addExistingKeys(a);let l=this.recursivelyCreateColumns(t,0,e,s,o,r,n),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,o);return oo(null,d,(p,m)=>{ui(p)&&p.setupExpandable(),p.setOriginalParent(m)}),{columnTree:d,treeDept:c}}extractExistingTreeData(t){let e=[],i=[],n=[];return t&&oo(null,t,o=>{if(ui(o)){let s=o;i.push(s)}else{let s=o;n.push(s.getId()),e.push(s)}}),{existingCols:e,existingGroups:i,existingColKeys:n}}createForAutoGroups(t,e){let i=[],n=this.findDepth(e);return t.forEach(o=>{let s=o;for(let r=n-1;r>=0;r--){let a=new ih(null,`FAKE_PATH_${o.getId()}}_${r}`,!0,r);this.createBean(a),a.setChildren([s]),s.setOriginalParent(a),s=a}n===0&&o.setOriginalParent(null),i.push(s)}),[i,n]}findDepth(t){let e=0,i=t;for(;i&&i[0]&&ui(i[0]);)e++,i=i[0].getChildren();return e}balanceColumnTree(t,e,i,n){let o=[];for(let s=0;s<t.length;s++){let r=t[s];if(ui(r)){let a=r,l=this.balanceColumnTree(a.getChildren(),e+1,i,n);a.setChildren(l),o.push(a)}else{let a,l;for(let c=i-1;c>=e;c--){let d=n.getUniqueKey(null,null),u=this.createMergedColGroupDef(null),p=new ih(u,d,!0,e);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l)if(o.push(a),t.some(d=>ui(d))){l.setChildren([r]);continue}else{l.setChildren(t);break}o.push(r)}}return o}findMaxDept(t,e){let i=e;for(let n=0;n<t.length;n++){let o=t[n];if(ui(o)){let s=o,r=this.findMaxDept(s.getChildren(),e+1);i<r&&(i=r)}}return i}recursivelyCreateColumns(t,e,i,n,o,s,r){if(!t)return[];let a=new Array(t.length);for(let l=0;l<a.length;l++){let c=t[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(i,c,e,n,o,s,r):a[l]=this.createColumn(i,c,n,o,r)}return a}createColumnGroup(t,e,i,n,o,s,r){let a=this.createMergedColGroupDef(e),l=o.getUniqueKey(a.groupId||null,null),c=new ih(a,l,!1,i);this.createBean(c);let d=this.findExistingGroup(e,s);d&&s.splice(d.idx,1);let u=d?.group;u&&c.setExpanded(u.isExpanded());let p=this.recursivelyCreateColumns(a.children,i+1,t,n,o,s,r);return c.setChildren(p),c}createMergedColGroupDef(t){let e={};return Object.assign(e,this.gos.get("defaultColGroupDef")),Object.assign(e,t),e}createColumn(t,e,i,n,o){let s=this.findExistingColumn(e,i);s&&i?.splice(s.idx,1);let r=s?.column;if(r){let a=this.addColumnDefaultAndTypes(e,r.getColId());r.setColDef(a,e,o),this.applyColumnState(r,a,o)}else{let a=n.getUniqueKey(e.colId,e.field),l=this.addColumnDefaultAndTypes(e,a);r=new gR(l,e,a,t),this.createBean(r)}return this.dataTypeService?.addColumnListeners(r),r}applyColumnState(t,e,i){let n=Ps(e.flex);if(n!==void 0&&t.setFlex(n),t.getFlex()<=0){let a=Ps(e.width);if(a!=null)t.setActualWidth(a,i);else{let l=t.getActualWidth();t.setActualWidth(l,i)}}e.sort!==void 0&&(e.sort=="asc"||e.sort=="desc"?t.setSort(e.sort,i):t.setSort(void 0,i));let s=Ps(e.sortIndex);s!==void 0&&t.setSortIndex(s);let r=sC(e.hide);r!==void 0&&t.setVisible(!r,i),e.pinned!==void 0&&t.setPinned(e.pinned)}findExistingColumn(t,e){if(e)for(let i=0;i<e.length;i++){let n=e[i].getUserProvidedColDef();if(!n)continue;if(t.colId!=null){if(e[i].getId()===t.colId)return{idx:i,column:e[i]};continue}if(t.field!=null){if(n.field===t.field)return{idx:i,column:e[i]};continue}if(n===t)return{idx:i,column:e[i]}}}findExistingGroup(t,e){if(t.groupId!=null)for(let n=0;n<e.length;n++){let o=e[n];if(o.getColGroupDef()&&o.getId()===t.groupId)return{idx:n,group:o}}}addColumnDefaultAndTypes(t,e){let i={},n=this.gos.get("defaultColDef");an(i,n,!1,!0);let o=this.updateColDefAndGetColumnType(i,t,e);o&&this.assignColumnTypes(o,i),an(i,t,!1,!0);let s=this.gos.get("autoGroupColumnDef"),r=this.gos.isColumnsSortingCoupledToGroup();return t.rowGroup&&s&&r&&an(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService?.validateColDef(i),i}updateColDefAndGetColumnType(t,e,i){let n=this.dataTypeService?.updateColDefAndGetColumnType(t,e,i),o=e.type??n??t.type;return t.type=o,o?nh(o):void 0}assignColumnTypes(t,e){if(!t.length)return;let i=Object.assign({},dO),n=this.gos.get("columnTypes")||{};rn(n,(o,s)=>{o in i?L(`the column type '${o}' is a default column type and cannot be overridden.`):(s.type&&L("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[o]=s)}),t.forEach(o=>{let s=i[o.trim()];s?an(e,s,!1,!0):L("colDef.type '"+o+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(t){return t.children!==void 0}};function oo(t,e,i){if(e)for(let n=0;n<e.length;n++){let o=e[n];ui(o)&&oo(o,o.getChildren(),i),i(o,t)}}var vO=class extends A{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(t){this.context=t.context,this.ctrlsService=t.ctrlsService,this.columnFactory=t.columnFactory,this.columnSizeService=t.columnSizeService,this.visibleColsService=t.visibleColsService,this.columnViewportService=t.columnViewportService,this.pivotResultColsService=t.pivotResultColsService,this.columnAnimationService=t.columnAnimationService,this.autoColService=t.autoColService,this.valueCache=t.valueCache,this.columnDefFactory=t.columnDefFactory,this.columnApplyStateService=t.columnApplyStateService,this.columnGroupStateService=t.columnGroupStateService,this.eventDispatcher=t.columnEventDispatcher,this.columnMoveService=t.columnMoveService,this.columnAutosizeService=t.columnAutosizeService,this.funcColsService=t.funcColsService,this.quickFilterService=t.quickFilterService,this.showRowGroupColsService=t.showRowGroupColsService,this.environment=t.environment}postConstruct(){let t=this.gos.get("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Xr(e.source))),this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(Xr(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],e=>this.recreateColumnDefs(Xr(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Xr(e.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(t,e){let i=t?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();let n=this.colDefCols?.list,o=this.colDefCols?.tree,s=this.columnFactory.createColumnTree(this.colDefs,!0,o,e);qr(this.context,this.colDefCols?.tree,s.columnTree);let r=s.columnTree,a=s.treeDept,l=RC(r),c={};l.forEach(u=>c[u.getId()]=u),this.colDefCols={tree:r,treeDepth:a,list:l,map:c},this.funcColsService.extractCols(e,n),this.ready=!0,this.refreshCols(),t&&!this.showingPivotResult&&!this.gos.get("maintainColumnOrder")&&this.orderColsLikeColDefCols(),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),i&&(this.changeEventsDispatching=!0,i(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Os(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){let t=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=t!=null,t){let{map:e,list:i,tree:n,treeDepth:o}=t;this.cols={list:i.slice(),map:D({},e),tree:n.slice(),treeDepth:o},t.list.some(r=>this.cols?.map[r.getColId()]!==void 0)||(this.lastPivotOrder=null)}else{let{map:e,list:i,tree:n,treeDepth:o}=this.colDefCols;this.cols={list:i.slice(),map:D({},e),tree:n.slice(),treeDepth:o}}}getColsToShow(){let t=this.isPivotMode()&&!this.isShowingPivotResult(),e=this.funcColsService.getValueColumns();return this.cols.list.filter(n=>{let o=WS(n);if(t){let s=e&&Ms(e,n);return o||s}else return o||n.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),CO(this.cols))}createAutoCols(){let t=this.gos.isGroupUseEntireRow(this.pivotMode),e=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),o=!(i.length>0||this.gos.get("treeData"))||e||t,s=()=>{this.autoCols&&(qr(this.context,this.autoCols.tree),this.autoCols=null)};if(o||!this.autoColService){s();return}let r=this.autoColService.createAutoCols(i)??[],a=bO(r,this.autoCols?.list||null),l=this.cols.treeDepth,d=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&d)return;s();let[u,p]=this.columnFactory.createForAutoGroups(r,this.cols?.tree);this.autoCols={list:r,tree:u,treeDepth:p,map:{}};let m=y=>{if(!y)return null;let R=y.filter(S=>!WS(S));return[...r,...R]};this.lastOrder=m(this.lastOrder),this.lastPivotOrder=m(this.lastPivotOrder)}refreshAll(t){this.isReady()&&(this.refreshCols(),this.visibleColsService.refresh(t))}setColsVisible(t,e=!1,i){this.columnApplyStateService.applyColumnState({state:t.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!e}))},i)}setColsPinned(t,e,i){if(!this.cols||Ei(t))return;if(this.gos.isDomLayout("print")){L("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;e===!0||e==="left"?n="left":e==="right"?n="right":n=null;let o=[];t.forEach(s=>{if(!s)return;let r=this.getCol(s);r&&r.getPinned()!==n&&(r.setPinned(n),o.push(r))}),o.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(o,i)),this.columnAnimationService.finish()}setColumnGroupOpened(t,e,i){let n;ui(t)?n=t.getId():n=t||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:e}],i)}getProvidedColGroup(t){let e=null;return oo(null,this.cols?.tree,i=>{ui(i)&&i.getId()===t&&(e=i)}),e}isColGroupLocked(t){let e=this.gos.get("groupLockGroupColumns");if(!t.isRowGroupActive()||e===0)return!1;if(e===-1)return!0;let n=this.funcColsService.getRowGroupColumns().findIndex(o=>o.getColId()===t.getColId());return e>n}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(t=>t.isVisible()&&t.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||L("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let e=new Map(t.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>e.has(l)))return;let n=new Map(this.cols.list.map(l=>[l,!0])),o=t.filter(l=>n.has(l)),s=new Map(o.map(l=>[l,!0])),r=this.cols.list.filter(l=>!s.has(l)),a=o.slice();r.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}let d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(y=>{let R=a.indexOf(y)>=0,S=d.indexOf(y)<0;R&&S&&d.push(y)}),c=c.getOriginalParent();if(!d.length){a.push(l);return}let u=d.map(m=>a.indexOf(m)),p=Math.max(...u);sh(a,l,p+1)}),this.cols.list=a}orderColsLikeColDefCols(){if(!this.colDefCols||!this.cols)return;let t=this.colDefCols.list.filter(i=>this.cols.list.indexOf(i)>=0),e=this.cols.list.filter(i=>t.indexOf(i)<0);this.cols.list=[...e,...t],this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}sortColsLikeKeys(t){if(this.cols==null)return;let e=[],i={};t.forEach(o=>{if(i[o])return;let s=this.cols.map[o];s&&(e.push(s),i[o]=!0)});let n=0;if(this.cols.list.forEach(o=>{let s=o.getColId();if(i[s]!=null)return;s.startsWith(hc)?sh(e,o,n++):e.push(o)}),e=this.columnMoveService.placeLockedColumns(e),!this.columnMoveService.doesMovePassMarryChildren(e)){L("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=e}sortColsLikeCols(t){!t||t.length<=1||t.filter(i=>this.cols.list.indexOf(i)<0).length>0||t.sort((i,n)=>{let o=this.cols.list.indexOf(i),s=this.cols.list.indexOf(n);return o-s})}resetColDefIntoCol(t,e){let i=t.getUserProvidedColDef();if(!i)return!1;let n=this.columnFactory.addColumnDefaultAndTypes(i,t.getColId());return t.setColDef(n,i,e),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(t=>t()),this.resizeOperationQueue=[]}pushResizeOperation(t){this.resizeOperationQueue.push(t)}moveInCols(t,e,i){dR(this.cols?.list,t,e),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;let t=this.colDefCols.list.slice();this.showingPivotResult?t.sort((n,o)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(o)):this.lastOrder&&t.sort((n,o)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(o));let e=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(t,e,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(t=>t.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(t,e){t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=t,this.ready&&(this.refreshCols(),this.visibleColsService.refresh(e),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(t){return t&&this.gos.get("treeData")?(L("Pivot mode not available with treeData."),!1):!0}isPivotActive(){let t=this.funcColsService.getPivotColumns();return this.pivotMode&&!Ei(t)}recreateColumnDefs(t){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,t),this.createColsFromColDefs(!0,t))}setColumnDefs(t,e){let i=!!this.colDefs;this.colDefs=t,this.createColsFromColDefs(i,e)}destroy(){qr(this.context,this.colDefCols?.tree),qr(this.context,this.autoCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){let e=this.pivotResultColsService.getPivotResultCols()?.list;return[].concat(this.colDefCols?.list||[],this.autoCols?.list||[],e||[])}getColsForKeys(t){return t?t.map(i=>this.getCol(i)).filter(i=>i!=null):[]}getColDefCol(t){return this.colDefCols?.list?this.getColFromCollection(t,this.colDefCols):null}getCol(t){return t==null?null:this.getColFromCollection(t,this.cols)}getColFromCollection(t,e){if(e==null)return null;let{map:i,list:n}=e;if(typeof t=="string"&&i[t])return i[t];for(let o=0;o<n.length;o++)if(HS(n[o],t))return n[o];return this.getAutoCol(t)}getAutoCol(t){return this.autoCols==null?null:this.autoCols.list.find(e=>HS(e,t))||null}getAutoCols(){return this.autoCols?.list||null}setColHeaderHeight(t,e){t.setAutoHeaderHeight(e)&&(t.isColumn?this.eventDispatcher.headerHeight(t):this.eventDispatcher.groupHeaderHeight(t))}getGroupRowsHeight(){let t=[],e=this.ctrlsService.getHeaderRowContainerCtrls();for(let i of e){if(!i)continue;let n=i.getGroupRowCount()||0;for(let o=0;o<n;o++){let s=i.getGroupRowCtrlAtIndex(o),r=t[o];if(s){let a=this.getColumnGroupHeaderRowHeight(s);(r==null||a>r)&&(t[o]=a)}}}return t}getColumnGroupHeaderRowHeight(t){let e=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight(),i=0,n=t.getHeaderCtrls();for(let o of n){let s=o.getColumn();if(s.isAutoHeaderHeight()){let r=s.getAutoHeaderHeight();r!=null&&r>i&&(i=r)}}return Math.max(e,i)}getColumnHeaderRowHeight(){let t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(t,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){let t=this.gos.get("autoSizeStrategy");if(t?.type!=="fitCellContents")return;let{colIds:e,skipHeader:i}=t;setTimeout(()=>{e?this.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(t){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,t)}};function Xr(t){return t==="gridOptionsUpdated"?"gridOptionsChanged":t}function CO(t){t.map={},t.list.forEach(e=>t.map[e.getId()]=e)}function HS(t,e){let i=t===e,n=t.getColDef()===e,o=t.getColId()==e;return i||n||o}function bO(t,e){return Os(t,e,(i,n)=>i.getColId()===n.getColId())}var yO=class extends A{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(t){this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.animationFrameService=t.animationFrameService,this.autoWidthCalculator=t.autoWidthCalculator,this.eventDispatcher=t.columnEventDispatcher,this.ctrlsService=t.ctrlsService,this.renderStatusService=t.renderStatusService}autoSizeCols(t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(t));return}let{colKeys:e,skipHeader:i,skipHeaderGroups:n,stopAtGroup:o,source:s="api"}=t;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(t));return}this.timesDelayed=0;let r=[],a=-1,l=i??this.gos.get("skipHeaderOnAutoSize"),c=n??l;for(;a!==0;){a=0;let d=[];e.forEach(u=>{if(!u)return;let p=this.columnModel.getCol(u);if(!p||r.indexOf(p)>=0)return;let m=this.autoWidthCalculator.getPreferredWidthForColumn(p,l);if(m>0){let y=this.normaliseColumnWidth(p,m);p.setActualWidth(y,s),r.push(p),a++}d.push(p)}),d.length&&this.visibleColsService.refresh(s)}c||this.autoSizeColumnGroupsByColumns(e,s,o),this.eventDispatcher.columnResized(r,!0,"autosizeColumns")}autoSizeColumn(t,e,i){t&&this.autoSizeCols({colKeys:[t],skipHeader:i,skipHeaderGroups:!0,source:e})}autoSizeColumnGroupsByColumns(t,e,i){let n=new Set;this.columnModel.getColsForKeys(t).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||n.add(l),l=l.getParent()});let s,r=[];for(let a of n){for(let l of this.ctrlsService.getHeaderRowContainerCtrls())if(s=l.getHeaderCtrlForColumn(a),s)break;s&&s.resizeLeafColumnsToFit(e)}return r}autoSizeAllColumns(t,e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(t,e));return}let i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:e,source:t})}normaliseColumnWidth(t,e){let i=t.getMinWidth();e<i&&(e=i);let n=t.getMaxWidth();return t.isGreaterThanMax(e)&&(e=n),e}},wO=class extends A{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(t){this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher,this.aggFuncService=t.aggFuncService,this.visibleColsService=t.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:t=>this.rowGroupCols.push(t),removeGroupCol:t=>pi(this.rowGroupCols,t),addPivotCol:t=>this.pivotCols.push(t),removePivotCol:t=>pi(this.pivotCols,t),addValueCol:t=>this.valueCols.push(t),removeValueCol:t=>pi(this.valueCols,t)}}getSourceColumnsForGroupColumn(t){let e=t.getColDef().showRowGroup;if(!e)return null;if(e===!0)return this.rowGroupCols.slice(0);let i=this.columnModel.getColDefCol(e);return i?[i]:null}sortRowGroupColumns(t){this.rowGroupCols.sort(t)}sortPivotColumns(t){this.pivotCols.sort(t)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Ei(this.rowGroupCols)}setColumnAggFunc(t,e,i){if(!t)return;let n=this.columnModel.getColDefCol(t);n&&(n.setAggFunc(e),this.eventDispatcher.columnChanged("columnValueChanged",[n],i))}setRowGroupColumns(t,e){this.setColList(t,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,n)=>this.setRowGroupActive(i,n,e),e)}setRowGroupActive(t,e,i){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,i),t&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([e],!1,i),!t&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([e],!0,i))}addRowGroupColumns(t,e){this.updateColList(t,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,e),"columnRowGroupChanged",e)}removeRowGroupColumns(t,e){this.updateColList(t,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,e),"columnRowGroupChanged",e)}addPivotColumns(t,e){this.updateColList(t,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,e),"columnPivotChanged",e)}setPivotColumns(t,e){this.setColList(t,this.pivotCols,"columnPivotChanged",!0,!1,(i,n)=>{n.setPivotActive(i,e)},e)}removePivotColumns(t,e){this.updateColList(t,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,e),"columnPivotChanged",e)}setValueColumns(t,e){this.setColList(t,this.valueCols,"columnValueChanged",!1,!1,(i,n)=>this.setValueActive(i,n,e),e)}setValueActive(t,e,i){if(t!==e.isValueActive()&&(e.setValueActive(t,i),t&&!e.getAggFunc()&&this.aggFuncService)){let n=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(n)}}addValueColumns(t,e){this.updateColList(t,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,e),"columnValueChanged",e)}removeValueColumns(t,e){this.updateColList(t,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,e),"columnValueChanged",e)}moveRowGroupColumn(t,e,i){if(this.isRowGroupEmpty())return;let n=this.rowGroupCols[t],o=this.rowGroupCols.slice(t,e);this.rowGroupCols.splice(t,1),this.rowGroupCols.splice(e,0,n),this.eventDispatcher.rowGroupChanged(o,i)}setColList(t,e,i,n,o,s,r){let a=this.columnModel.getCols();if(Ei(a))return;let l=new Map;e.forEach((d,u)=>l.set(d,u)),e.length=0,W(t)&&t.forEach(d=>{let u=this.columnModel.getColDefCol(d);u&&e.push(u)}),e.forEach((d,u)=>{let p=l.get(d);if(p===void 0){l.set(d,0);return}n&&p!==u||l.delete(d)}),(this.columnModel.getColDefCols()||[]).forEach(d=>{let u=e.indexOf(d)>=0;s(u,d)}),o&&this.columnModel.refreshCols(),this.visibleColsService.refresh(r),this.eventDispatcher.columnChanged(i,[...l.keys()],r)}updateColList(t,e,i,n,o,s,r){if(!t||Ei(t))return;let a=!1,l=new Set;t.forEach(c=>{if(!c)return;let d=this.columnModel.getColDefCol(c);if(d){if(l.add(d),i){if(e.indexOf(d)>=0)return;e.push(d)}else{let u=e.indexOf(d);if(u<0)return;for(let p=u+1;p<e.length;p++)l.add(e[p]);pi(e,d)}o(d),a=!0}}),a&&(n&&this.columnModel.refreshCols(),this.visibleColsService.refresh(r),this.eventDispatcher.genericColumnEvent(s,Array.from(l),r))}extractCols(t,e){this.extractRowGroupCols(t,e),this.extractPivotCols(t,e),this.extractValueCols(t,e)}extractValueCols(t,e){this.valueCols=this.extractColsCommon(e,this.valueCols,(i,n)=>i.setValueActive(n,t),()=>{},()=>{},i=>{let n=i.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueCols.forEach(i=>{let n=i.getColDef();n.aggFunc!=null&&n.aggFunc!=""?i.setAggFunc(n.aggFunc):i.getAggFunc()||i.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(t,e){this.rowGroupCols=this.extractColsCommon(e,this.rowGroupCols,(i,n)=>i.setRowGroupActive(n,t),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(t,e){this.pivotCols=this.extractColsCommon(e,this.pivotCols,(i,n)=>i.setPivotActive(n,t),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(t=[],e=[],i,n,o,s,r){let a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(p=>{let m=t.indexOf(p)<0,y=p.getColDef(),R=sC(s(y)),S=sC(r(y)),k=Ps(n(y)),P=Ps(o(y)),B;R!==void 0?B=R:k!==void 0?k===null?B=!1:B=k>=0:m?S!==void 0?B=S:P!==void 0?B=P!=null&&P>=0:B=!1:B=e.indexOf(p)>=0,B&&((m?k!=null||P!=null:k!=null)?a.push(p):l.push(p))});let d=p=>{let m=n(p.getColDef()),y=o(p.getColDef());return m??y};a.sort((p,m)=>{let y=d(p),R=d(m);return y===R?0:y<R?-1:1});let u=[].concat(a);return e.forEach(p=>{l.indexOf(p)>=0&&u.push(p)}),l.forEach(p=>{u.indexOf(p)<0&&u.push(p)}),e.forEach(p=>{u.indexOf(p)<0&&i(p,!1)}),u.forEach(p=>{e.indexOf(p)<0&&i(p,!0)}),u}generateColumnStateForRowGroupAndPivotIndexes(t,e){let i={},n=(o,s,r,a,l,c)=>{let d=this.columnModel.getColDefCols();if(!s.length||!d)return[];let u=Object.keys(o),p=new Set(u),m=new Set(u),y=new Set(s.map(Q=>{let ce=Q.getColId();return m.delete(ce),ce}).concat(u)),R=[],S={},k=0;for(let Q=0;Q<d.length;Q++){let ce=d[Q].getColId();y.has(ce)&&(R.push(ce),S[ce]=k++)}let P=1e3,B=!1,U=0,te=Q=>{let ce=S[Q];for(let Fe=U;Fe<ce;Fe++){let Z=R[Fe];m.has(Z)&&(o[Z][l]=P++,m.delete(Z))}U=ce};s.forEach(Q=>{let ce=Q.getColId();if(p.has(ce))te(ce),o[ce][l]=P++;else{let Fe=Q.getColDef();(Fe[l]===null||Fe[l]===void 0&&Fe[c]==null)&&(B||(Fe[r]||Fe[r]===void 0&&Fe[a]?te(ce):(m.forEach(Nn=>{o[Nn][l]=P+S[Nn]}),P+=R.length,B=!0)),i[ce]||(i[ce]={colId:ce}),i[ce][l]=P++)}})};return n(t,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(e,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},_O=class extends A{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(t){this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher,this.sortController=t.sortController,this.columnGetStateService=t.columnGetStateService,this.funcColsService=t.funcColsService,this.visibleColsService=t.visibleColsService,this.columnAnimationService=t.columnAnimationService,this.pivotResultColsService=t.pivotResultColsService}applyColumnState(t,e){let i=this.columnModel.getColDefCols()||[];if(Ei(i))return!1;if(t&&t.state&&!t.state.forEach)return L("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;let n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),o=(a,l,c)=>{let d=this.compareColumnStatesAndDispatchEvents(e),u=l.slice(),p={},m={},y=[],R=[],S=0,k=this.funcColsService.getRowGroupColumns().slice(),P=this.funcColsService.getPivotColumns().slice();a.forEach(Q=>{let ce=Q.colId||"";if(ce.startsWith(hc)){y.push(Q),R.push(Q);return}let Z=c(ce);Z?(this.syncColumnWithStateItem(Z,Q,t.defaultState,p,m,!1,e,n),pi(u,Z)):(R.push(Q),S+=1)});let B=Q=>this.syncColumnWithStateItem(Q,null,t.defaultState,p,m,!1,e,n);u.forEach(B),this.funcColsService.sortRowGroupColumns(US.bind(this,p,k)),this.funcColsService.sortPivotColumns(US.bind(this,m,P)),this.columnModel.refreshCols();let te=(this.columnModel.getAutoCols()||[]).slice();return y.forEach(Q=>{let ce=this.columnModel.getAutoCol(Q.colId);pi(te,ce),this.syncColumnWithStateItem(ce,Q,t.defaultState,null,null,!0,e,n)}),te.forEach(B),this.orderLiveColsLikeState(t),this.visibleColsService.refresh(e),this.eventDispatcher.everythingChanged(e),d(),{unmatchedAndAutoStates:R,unmatchedCount:S}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:r}=o(t.state||[],i,a=>this.columnModel.getColDefCol(a));if(s.length>0||W(t.defaultState)){let l=this.pivotResultColsService.getPivotResultCols()?.list;r=o(s,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),r===0}resetColumnState(t){let e=this.columnModel.getColDefCols();if(Ei(e))return;let i=this.columnModel.getColDefColTree(),n=RC(i),o=[],s=1e3,r=1e3,a=[],l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),n&&(a=a.concat(n)),a.forEach(c=>{let d=this.getColumnStateFromColDef(c);Xe(d.rowGroupIndex)&&d.rowGroup&&(d.rowGroupIndex=s++),Xe(d.pivotIndex)&&d.pivot&&(d.pivotIndex=r++),o.push(d)}),this.applyColumnState({state:o,applyOrder:!0},t)}getColumnStateFromColDef(t){let e=(y,R)=>y??R??null,i=t.getColDef(),n=e(i.sort,i.initialSort),o=e(i.sortIndex,i.initialSortIndex),s=e(i.hide,i.initialHide),r=e(i.pinned,i.initialPinned),a=e(i.width,i.initialWidth),l=e(i.flex,i.initialFlex),c=e(i.rowGroupIndex,i.initialRowGroupIndex),d=e(i.rowGroup,i.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let u=e(i.pivotIndex,i.initialPivotIndex),p=e(i.pivot,i.initialPivot);u==null&&(p==null||p==!1)&&(u=null,p=null);let m=e(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:n,sortIndex:o,hide:s,pinned:r,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:p,pivotIndex:u,aggFunc:m}}syncColumnWithStateItem(t,e,i,n,o,s,r,a){if(!t)return;let l=(U,te)=>{let Q={value1:void 0,value2:void 0},ce=!1;return e&&(e[U]!==void 0&&(Q.value1=e[U],ce=!0),W(te)&&e[te]!==void 0&&(Q.value2=e[te],ce=!0)),!ce&&i&&(i[U]!==void 0&&(Q.value1=i[U]),W(te)&&i[te]!==void 0&&(Q.value2=i[te])),Q},c=l("hide").value1;c!==void 0&&t.setVisible(!c,r);let d=l("pinned").value1;d!==void 0&&t.setPinned(d);let u=t.getColDef().minWidth??mR,p=l("flex").value1;if(p!==void 0&&t.setFlex(p),p==null){let U=l("width").value1;U!=null&&u!=null&&U>=u&&t.setActualWidth(U,r)}let m=l("sort").value1;m!==void 0&&(m==="desc"||m==="asc"?t.setSort(m,r):t.setSort(void 0,r));let y=l("sortIndex").value1;if(y!==void 0&&t.setSortIndex(y),s||!t.isPrimary())return;let R=l("aggFunc").value1;R!==void 0&&(typeof R=="string"?(t.setAggFunc(R),t.isValueActive()||(t.setValueActive(!0,r),a.addValueCol(t))):(W(R)&&L("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,r),a.removeValueCol(t))));let{value1:S,value2:k}=l("rowGroup","rowGroupIndex");(S!==void 0||k!==void 0)&&(typeof k=="number"||S?(t.isRowGroupActive()||(t.setRowGroupActive(!0,r),a.addGroupCol(t)),n&&typeof k=="number"&&(n[t.getId()]=k)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,r),a.removeGroupCol(t)));let{value1:P,value2:B}=l("pivot","pivotIndex");(P!==void 0||B!==void 0)&&(typeof B=="number"||P?(t.isPivotActive()||(t.setPivotActive(!0,r),a.addPivotCol(t)),o&&typeof B=="number"&&(o[t.getId()]=B)):t.isPivotActive()&&(t.setPivotActive(!1,r),a.removePivotCol(t)))}orderLiveColsLikeState(t){if(!t.applyOrder||!t.state)return;let e=[];t.state.forEach(i=>{i.colId!=null&&e.push(i.colId)}),this.columnModel.sortColsLikeKeys(e)}compareColumnStatesAndDispatchEvents(t){let e={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),n={};return i.forEach(o=>{n[o.colId]=o}),()=>{let o=this.columnModel.getAllCols(),s=(R,S,k,P)=>{let B=S.map(P),U=k.map(P);if(Os(B,U))return;let Q=new Set(S);k.forEach(Fe=>{Q.delete(Fe)||Q.add(Fe)});let ce=[...Q];this.eventService.dispatchEvent({type:R,columns:ce,column:ce.length===1?ce[0]:null,source:t})},r=R=>{let S=[];return o.forEach(k=>{let P=n[k.getColId()];P&&R(P,k)&&S.push(k)}),S},a=R=>R.getColId();s("columnRowGroupChanged",e.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),s("columnPivotChanged",e.pivotColumns,this.funcColsService.getPivotColumns(),a);let c=r((R,S)=>{let k=R.aggFunc!=null,P=k!=S.isValueActive(),B=k&&R.aggFunc!=S.getAggFunc();return P||B});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,t);let d=(R,S)=>R.width!=S.getActualWidth();this.eventDispatcher.columnResized(r(d),!0,t);let u=(R,S)=>R.pinned!=S.getPinned();this.eventDispatcher.columnPinned(r(u),t);let p=(R,S)=>R.hide==S.isVisible();this.eventDispatcher.columnVisible(r(p),t);let y=r((R,S)=>R.sort!=S.getSort()||R.sortIndex!=S.getSortIndex());y.length>0&&this.sortController.dispatchSortChangedEvents(t,y),this.normaliseColumnMovedEventForColumnState(i,t)}}normaliseColumnMovedEventForColumnState(t,e){let i=this.columnGetStateService.getColumnState(),n={};i.forEach(l=>n[l.colId]=l);let o={};t.forEach(l=>{n[l.colId]&&(o[l.colId]=!0)});let s=t.filter(l=>o[l.colId]),r=i.filter(l=>o[l.colId]),a=[];r.forEach((l,c)=>{let d=s&&s[c];if(d&&d.colId!==l.colId){let u=this.columnModel.getCol(d.colId);u&&a.push(u)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:e,finished:!0})}},US=(t,e,i,n)=>{let o=t[i.getId()],s=t[n.getId()],r=o!=null,a=s!=null;if(r&&a)return o-s;if(r)return-1;if(a)return 1;let l=e.indexOf(i),c=e.indexOf(n),d=l>=0,u=c>=0;return d&&u?l-c:d?-1:1},SO=class extends A{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(t){this.columnModel=t.columnModel,this.columnAnimationService=t.columnAnimationService,this.eventDispatcher=t.columnEventDispatcher}moveColumnByIndex(t,e,i){let n=this.columnModel.getCols();if(!n)return;let o=n[t];this.moveColumns([o],e,i)}moveColumns(t,e,i,n=!0){let o=this.columnModel.getCols();if(!o)return;if(this.columnAnimationService.start(),e>o.length-t.length){L("tried to insert columns in invalid location, toIndex = ",e),L("remember that you should not count the moving columns when calculating the new index");return}let s=this.columnModel.getColsForKeys(t);this.doesMovePassRules(s,e)&&(this.columnModel.moveInCols(s,e,i),this.eventDispatcher.columnMoved({movedColumns:s,source:i,toIndex:e,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(t,e){let i=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(i)}doesOrderPassRules(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))}getProposedColumnOrder(t,e){let n=this.columnModel.getCols().slice();return dR(n,t,e),n}doesMovePassLockedPositions(t){let e=s=>s?s==="left"||s===!0?-1:1:0,i=this.gos.get("enableRtl"),n=i?1:-1,o=!0;return t.forEach(s=>{let r=e(s.getColDef().lockPosition);i?r>n&&(o=!1):r<n&&(o=!1),n=r}),o}doesMovePassMarryChildren(t){let e=!0,i=this.columnModel.getColTree();return oo(null,i,n=>{if(!ui(n))return;let o=n,s=o.getColGroupDef();if(!(s&&s.marryChildren))return;let a=[];o.getLeafColumns().forEach(p=>{let m=t.indexOf(p);a.push(m)});let l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,u=o.getLeafColumns().length-1;d>u&&(e=!1)}),e}placeLockedColumns(t){let e=[],i=[],n=[];return t.forEach(s=>{let r=s.getColDef().lockPosition;r==="right"?n.push(s):r==="left"||r===!0?e.push(s):i.push(s)}),this.gos.get("enableRtl")?[...n,...i,...e]:[...e,...i,...n]}},RO=/[&<>"']/g,xO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Fn(t,e){if(t==null)return null;let i=t.toString().toString();return e?i:i.replace(RO,n=>xO[n])}function EO(t){if(!t||t==null)return null;let e=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return t.replace(e,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(o=>o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")).join(" ")}function DO(t){return t.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var TO=class extends A{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(t){this.expressionService=t.expressionService,this.funcColsService=t.funcColsService,this.columnModel=t.columnModel}getDisplayNameForColumn(t,e,i=!1){if(!t)return null;let n=this.getHeaderName(t.getColDef(),t,null,null,e);return i?this.wrapHeaderNameWithAggFunc(t,n):n}getDisplayNameForProvidedColumnGroup(t,e,i){let n=e?e.getColGroupDef():null;return n?this.getHeaderName(n,null,t,e,i):null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,i,n,o){let s=t.headerValueGetter;if(s){let r=this.gos.addGridCommonParams({colDef:t,column:e,columnGroup:i,providedColumnGroup:n,location:o});return typeof s=="function"?s(r):typeof s=="string"?this.expressionService.evaluate(s,r):(L("headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return EO(t.field)}return""}wrapHeaderNameWithAggFunc(t,e){if(this.gos.get("suppressAggFuncInHeader"))return e;let i=t.getColDef().pivotValueColumn,n=W(i),o=null,s;if(n){let r=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&r.length===1,l=t.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return e;o=i?i.getAggFunc():null,s=!0}else{let r=t.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();r&&a?(o=t.getAggFunc(),s=!0):s=!1}if(s){let r=typeof o=="string"?o:"func";return`${this.localeService.getLocaleTextFunc()(r,r)}(${e})`}return e}},IO=class extends A{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(t){this.context=t.context,this.columnModel=t.columnModel,this.columnFactory=t.columnFactory,this.visibleColsService=t.visibleColsService}destroy(){qr(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(t,e){if(this.pivotResultCols==null)return null;let i=this.columnModel.getColDefCol(e),n=null;return this.pivotResultCols.list.forEach(o=>{let s=o.getColDef().pivotKeys,r=o.getColDef().pivotValueColumn;Os(s,t)&&r===i&&(n=o)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(t){return this.pivotResultCols?this.columnModel.getColFromCollection(t,this.pivotResultCols):null}setPivotResultCols(t,e){if(this.columnModel.isReady()&&!(t==null&&this.pivotResultCols==null)){if(t){this.processPivotResultColDef(t);let i=this.columnFactory.createColumnTree(t,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,e);qr(this.context,this.pivotResultCols?.tree,i.columnTree);let n=i.columnTree,o=i.treeDept,s=RC(n),r={};this.pivotResultCols={tree:n,treeDepth:o,list:s,map:r},this.pivotResultCols.list.forEach(a=>this.pivotResultCols.map[a.getId()]=a),this.previousPivotResultCols=null}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null;this.columnModel.refreshCols(),this.visibleColsService.refresh(e)}}processPivotResultColDef(t){let e=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!e&&!i)return;let n=o=>{o.forEach(s=>{if(W(s.children)){let a=s;i&&i(a),n(a.children)}else e&&e(s)})};t&&n(t)}},kO=class extends A{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(t){this.columnModel=t.columnModel,this.columnViewportService=t.columnViewportService,this.eventDispatcher=t.columnEventDispatcher,this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService}setColumnWidths(t,e,i,n){let o=[];t.forEach(s=>{let r=this.columnModel.getColDefCol(s.key)||this.columnModel.getCol(s.key);if(!r)return;if(o.push({width:s.newWidth,ratios:[1],columns:[r]}),this.gos.get("colResizeDefault")==="shift"&&(e=!e),e){let l=this.visibleColsService.getColAfter(r);if(!l)return;let c=r.getActualWidth()-s.newWidth,d=l.getActualWidth()+c;o.push({width:d,ratios:[1],columns:[l]})}}),o.length!==0&&this.resizeColumnSets({resizeSets:o,finished:i,source:n})}resizeColumnSets(t){let{resizeSets:e,finished:i,source:n}=t;if(!(!e||e.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(i){let d=e&&e.length>0?e[0].columns:null;this.eventDispatcher.columnResized(d,i,n)}return}let s=[],r=[];e.forEach(d=>{let{width:u,columns:p,ratios:m}=d,y={},R={};p.forEach(P=>r.push(P));let S=!0,k=0;for(;S;){if(k++,k>1e3){nt("infinite loop in resizeColumnSets");break}S=!1;let P=[],B=0,U=u;p.forEach((Q,ce)=>{if(R[Q.getId()])U-=y[Q.getId()];else{P.push(Q);let Z=m[ce];B+=Z}});let te=1/B;P.forEach((Q,ce)=>{let Fe=ce===P.length-1,Z;Fe?Z=U:(Z=Math.round(m[ce]*u*te),U-=Z);let Gs=Q.getMinWidth(),Nn=Q.getMaxWidth();Z<Gs?(Z=Gs,R[Q.getId()]=!0,S=!0):Nn>0&&Z>Nn&&(Z=Nn,R[Q.getId()]=!0,S=!0),y[Q.getId()]=Z})}p.forEach(P=>{let B=y[P.getId()];P.getActualWidth()!==B&&(P.setActualWidth(B,n),s.push(P))})});let a=s.length>0,l=[];a&&(l=this.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());let c=r.concat(l);(a||i)&&this.eventDispatcher.columnResized(c,i,n,l)}checkMinAndMaxWidthsForSet(t){let{columns:e,width:i}=t,n=0,o=0,s=!0;e.forEach(l=>{let c=l.getMinWidth();n+=c||0;let d=l.getMaxWidth();d>0?o+=d:s=!1});let r=i>=n,a=!s||i<=o;return r&&a}refreshFlexedColumns(t={}){let e=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];let i=this.visibleColsService.getCenterCols(),n=-1;if(t.resizingCols){let p=new Set(t.resizingCols);for(let m=i.length-1;m>=0;m--)if(p.has(i[m])){n=m;break}}let o=0,s=[],r=0,a=0;for(let p=0;p<i.length;p++)i[p].getFlex()&&p>n?(s.push(i[p]),a+=i[p].getFlex(),r+=i[p].getMinWidth()):o+=i[p].getActualWidth();if(!s.length)return[];let l=[];o+r>this.flexViewportWidth&&(s.forEach(p=>p.setActualWidth(p.getMinWidth(),e)),l=s,s=[]);let c=[],d;e:for(;;){d=this.flexViewportWidth-o;let p=d/a;for(let m=0;m<s.length;m++){let y=s[m],R=p*y.getFlex(),S=0,k=y.getMinWidth(),P=y.getMaxWidth();if(R<k?S=k:R>P&&(S=P),S){y.setActualWidth(S,e),cR(s,y),a-=y.getFlex(),l.push(y),o+=y.getActualWidth();continue e}c[m]=Math.floor(R)}break}let u=d;return s.forEach((p,m)=>{p.setActualWidth(Math.min(c[m],u),e),l.push(p),u-=c[m]}),t.skipSetLeft||this.visibleColsService.setLeftValues(e),t.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),t.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,e,s),s}sizeColumnsToFit(t,e="sizeColumnsToFit",i,n){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(t,e,i,n));return}let o={};n&&n?.columnLimits?.forEach(y=>{var R=y,{key:p}=R,m=Rh(R,["key"]);o[typeof p=="string"?p:p.getColId()]=m});let s=this.visibleColsService.getAllCols(),r=t===eo(s);if(t<=0||!s.length||r)return;let a=[],l=[];s.forEach(p=>{p.getColDef().suppressSizeToFit===!0?l.push(p):a.push(p)});let c=a.slice(0),d=!1,u=p=>{pi(a,p),l.push(p)};for(a.forEach(p=>{p.resetActualWidth(e);let m=o?.[p.getId()],y=m?.minWidth??n?.defaultMinWidth,R=m?.maxWidth??n?.defaultMaxWidth,S=p.getActualWidth();typeof y=="number"&&S<y?p.setActualWidth(y,e,!0):typeof R=="number"&&S>R&&p.setActualWidth(R,e,!0)});!d;){d=!0;let p=t-eo(l);if(p<=0)a.forEach(m=>{let y=o?.[m.getId()]?.minWidth??n?.defaultMinWidth;if(typeof y=="number"){m.setActualWidth(y,e,!0);return}m.setMinimum(e)});else{let m=p/eo(a),y=p;for(let R=a.length-1;R>=0;R--){let S=a[R],k=o?.[S.getId()],P=k?.minWidth??n?.defaultMinWidth,B=k?.maxWidth??n?.defaultMaxWidth,U=S.getMinWidth(),te=S.getMaxWidth(),Q=typeof P=="number"&&P>U?P:U,ce=typeof B=="number"&&B<te?B:te,Fe=Math.round(S.getActualWidth()*m);Fe<Q?(Fe=Q,u(S),d=!1):Fe>ce?(Fe=ce,u(S),d=!1):R===0&&(Fe=y),S.setActualWidth(Fe,e,!0),y-=Fe}}}c.forEach(p=>{p.fireColumnWidthChangedEvent(e)}),this.visibleColsService.setLeftValues(e),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(c,!0,e)}applyAutosizeStrategy(){let t=this.gos.get("autoSizeStrategy");if(!t)return;let{type:e}=t;setTimeout(()=>{if(e==="fitGridWidth"){let{columnLimits:i,defaultMinWidth:n,defaultMaxWidth:o}=t,s=i?.map(({colId:r,minWidth:a,maxWidth:l})=>({key:r,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:o,columnLimits:s})}else e==="fitProvidedWidth"&&this.sizeColumnsToFit(t.width,"sizeColumnsToFit")})}};function vR(t,e){return t+"_"+e}function At(t){return t instanceof CR}var CR=class extends A{constructor(t,e,i,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=e,this.partId=i,this.providedColumnGroup=t,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return vR(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(e=>e.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{At(t)&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let e=Ze(this.displayedChildren).getLeft();this.setLeft(e)}else{let t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(e=>{t+=e.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(e=>{e.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(e=>{t+=e.getMinWidth()}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){let t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){let e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e}addDisplayedLeafColumns(t){this.displayedChildren.forEach(e=>{Xo(e)?t.push(e):At(e)&&e.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(e=>{Xo(e)?t.push(e):At(e)&&e.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;t!=null&&t.isPadding();)t=t.getParent();if(!(t?t.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(At(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":t.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":t.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},bR=class{constructor(){this.existingIds={}}getInstanceIdForKey(t){let e=this.existingIds[t],i;return typeof e!="number"?i=0:i=e+1,this.existingIds[t]=i,i}},MO=class extends A{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(t){this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.columnViewportService=t.columnViewportService,this.eventDispatcher=t.columnEventDispatcher}refresh(t,e=!1){e||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=jv(this.treeLeft),this.columnsCenter=jv(this.treeCenter),this.columnsRight=jv(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(t),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(t),this.eventDispatcher.visibleCols()}updateBodyWidths(){let t=eo(this.columnsCenter),e=eo(this.columnsLeft),i=eo(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==i)&&(this.bodyWidth=t,this.leftWidth=e,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(t){this.setLeftValuesOfCols(t),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(t){let e,i;this.gos.get("enableRtl")?(e=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?Ze(this.columnsRight):null):(e=this.columnsLeft?Ze(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===e,t),n.setFirstRightPinned(n===i,t)})}buildTrees(){let t=this.columnModel.getColsToShow(),e=t.filter(s=>s.getPinned()=="left"),i=t.filter(s=>s.getPinned()=="right"),n=t.filter(s=>s.getPinned()!="left"&&s.getPinned()!="right"),o=new bR;this.treeLeft=this.createGroups({columns:e,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){let t=this.columnModel.getCols(),e=[],i=[],n=[];for(let o of t){let s=o.getPinned();s?s===!0||s==="left"?e.push(o):n.push(o):i.push(o)}this.ariaOrderColumns=e.concat(i).concat(n)}getAriaColIndex(t){let e;return At(t)?e=t.getLeafColumns()[0]:e=t,this.ariaOrderColumns.indexOf(e)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(t=>{t.forEach(e=>{At(e)&&e.checkLeft()})})}setLeftValuesOfCols(t){if(!this.columnModel.getColDefCols())return;let i=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(o=>{if(n){let s=eo(o);o.forEach(r=>{s-=r.getActualWidth(),r.setLeft(s,t)})}else{let s=0;o.forEach(r=>{r.setLeft(s,t),s+=r.getActualWidth()})}JF(i,o)}),i.forEach(o=>{o.setLeft(null,t)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(t){return this.getAllCols().indexOf(t)>=0}getLeftColsForRow(t){return this.columnModel.isColSpanActive()?this.getColsForRow(t,this.columnsLeft):this.columnsLeft}getRightColsForRow(t){return this.columnModel.isColSpanActive()?this.getColsForRow(t,this.columnsRight):this.columnsRight}getColsForRow(t,e,i,n){let o=[],s=null;for(let r=0;r<e.length;r++){let a=e[r],l=e.length-r,c=Math.min(a.getColSpan(t),l),d=[a];if(c>1){let p=c-1;for(let m=1;m<=p;m++)d.push(e[r+m]);r+=p}let u;i?(u=!1,d.forEach(p=>{i(p)&&(u=!0)})):u=!0,u&&(o.length===0&&s&&(n&&n(a))&&o.push(s),o.push(a)),s=a}return o}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(t){let e=this.getAllCols(),i=e.indexOf(t);return i>0?e[i-1]:null}getGroupAtDirection(t,e){let i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),n=t.getDisplayedLeafColumns(),o=e==="After"?Ze(n):n[0],s=`getCol${e}`;for(;;){let r=this[s](o);if(!r)return null;let a=this.getColGroupAtLevel(r,i);if(a!==t)return a}}getColGroupAtLevel(t,e){let i=t.getParent(),n,o;for(;n=i.getProvidedColumnGroup().getLevel(),o=i.getPaddingLevel(),!(n+o<=e);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let t=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};Is(this.treeCenter,!1,t),Is(this.treeLeft,!1,t),Is(this.treeRight,!1,t)}isVisible(t){return this.colsAndGroupsMap[t.getUniqueId()]===t}updateOpenClosedVisibilityInColumnGroups(){let t=this.getAllTrees();Is(t,!1,e=>{At(e)&&e.calculateDisplayedColumns()})}getFirstColumn(){let t=this.gos.get("enableRtl"),e=["getLeftCols","getCenterCols","getRightCols"];t&&e.reverse();for(let i=0;i<e.length;i++){let n=this[e[i]]();if(n.length)return t?Ze(n):n[0]}return null}getColumnGroup(t,e){if(!t)return null;if(At(t))return t;let i=this.getAllTrees(),n=typeof e=="number",o=null;return Is(i,!1,s=>{if(At(s)){let r=s,a;n?a=t===r.getGroupId()&&e===r.getPartId():a=t===r.getGroupId(),a&&(o=r)}}),o}getColAfter(t){let e=this.getAllCols(),i=e.indexOf(t);return i<e.length-1?e[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return eo(this.columnsLeft)}getDisplayedColumnsRightWidth(){return eo(this.columnsRight)}isColAtEdge(t,e){let i=this.getAllCols();if(!i.length)return!1;let n=e==="first",o;if(At(t)){let s=t.getDisplayedLeafColumns();if(!s.length)return!1;o=n?s[0]:Ze(s)}else o=t;return(n?i[0]:Ze(i))===o}createGroups(t){let{columns:e,idCreator:i,pinned:n,oldDisplayedGroups:o,isStandaloneStructure:s}=t,r=this.mapOldGroupsById(o),a=[],l=e;for(;l.length;){let c=l;l=[];let d=0,u=p=>{let m=d;d=p;let y=c[m],S=(At(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(S==null){for(let P=m;P<p;P++)a.push(c[P]);return}let k=this.createColGroup(S,i,r,n,s);for(let P=m;P<p;P++)k.addChild(c[P]);l.push(k)};for(let p=1;p<c.length;p++){let m=c[p],R=(At(m)?m.getProvidedColumnGroup():m).getOriginalParent(),S=c[d],P=(At(S)?S.getProvidedColumnGroup():S).getOriginalParent();R!==P&&u(p)}d<c.length&&u(c.length)}return s||this.setupParentsIntoCols(a,null),a}createColGroup(t,e,i,n,o){let s=t.getGroupId(),r=e.getInstanceIdForKey(s),a=vR(s,r),l=i[a];return l&&l.getProvidedColumnGroup()!==t&&(l=null),W(l)?l.reset():(l=new CR(t,s,r,n),o||this.createBean(l)),l}mapOldGroupsById(t){let e={},i=n=>{n.forEach(o=>{if(At(o)){let s=o;e[o.getUniqueId()]=s,i(s.getChildren())}})};return t&&i(t),e}setupParentsIntoCols(t,e){t.forEach(i=>{if(i.setParent(e),At(i)){let n=i;this.setupParentsIntoCols(n.getChildren(),n)}})}};function Is(t,e,i){if(t)for(let n=0;n<t.length;n++){let o=t[n];if(At(o)){let s=e?o.getDisplayedChildren():o.getChildren();Is(s,e,i)}i(o)}}function jv(t){let e=[];return Is(t,!0,i=>{Xo(i)&&e.push(i)}),e}var yR=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd"],PO=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],AO=[...yR,...PO],FO={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},si=class{};si.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];si.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];si.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];si.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];si.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading"];si.OTHER_PROPERTIES=["suppressStickyTotalRow"];si.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];si.ALL_PROPERTIES=[...si.ARRAY_PROPERTIES,...si.OBJECT_PROPERTIES,...si.STRING_PROPERTIES,...si.NUMBER_PROPERTIES,...si.FUNCTION_PROPERTIES,...si.BOOLEAN_PROPERTIES,...si.OTHER_PROPERTIES];var lc=si,dn=class{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}};dn.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";dn.PUBLIC_EVENTS=yR;dn.EVENT_CALLBACKS=AO.map(t=>dn.getCallbackForEvent(t));dn.BOOLEAN_PROPERTIES=lc.BOOLEAN_PROPERTIES;dn.ALL_PROPERTIES=lc.ALL_PROPERTIES;dn.ALL_PROPERTIES_AND_CALLBACKS=[...dn.ALL_PROPERTIES,...dn.EVENT_CALLBACKS];dn.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(dn.ALL_PROPERTIES_AND_CALLBACKS);var cc=dn;function wR(t,e){typeof t!="object"&&(t={});let i=D({},t);return cc.ALL_PROPERTIES_AND_CALLBACKS.forEach(o=>{let s=e[o];typeof s<"u"&&s!==cc.VUE_OMITTED_PROPERTY&&(i[o]=s)}),i}function _R(t,e){if(!t)return;let i={},n=!1;if(Object.keys(t).filter(r=>cc.ALL_PROPERTIES_AND_CALLBACKS_SET.has(r)).forEach(r=>{i[r]=t[r],n=!0}),!n)return;let o={type:"gridOptionsChanged",options:i};e.dispatchEvent(o);let s={type:"componentStateChanged"};rn(i,(r,a)=>{s[r]=a}),e.dispatchEvent(s)}var OO=class{constructor(t){this.cssClassStates={},this.getGui=t}addCssClass(t){let e=(t||"").split(" ");if(e.length>1){e.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[t]!==!0&&t.length){let n=this.getGui();n&&n.classList.add(t),this.cssClassStates[t]=!0}}removeCssClass(t){let e=(t||"").split(" ");if(e.length>1){e.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[t]!==!1&&t.length){let n=this.getGui();n&&n.classList.remove(t),this.cssClassStates[t]=!1}}containsCssClass(t){let e=this.getGui();return e?e.classList.contains(t):!1}addOrRemoveCssClass(t,e){if(!t)return;if(t.indexOf(" ")>=0){let n=(t||"").split(" ");if(n.length>1){n.forEach(o=>this.addOrRemoveCssClass(o,e));return}}if(this.cssClassStates[t]!==e&&t.length){let n=this.getGui();n&&n.classList.toggle(t,e),this.cssClassStates[t]=e}}};function so(t,e,i){i==null||typeof i=="string"&&i==""?SR(t,e):_n(t,e,i)}function _n(t,e,i){t.setAttribute(RR(e),i.toString())}function SR(t,e){t.removeAttribute(RR(e))}function RR(t){return`aria-${t}`}function Di(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function NO(t){let e;return t==="asc"?e="ascending":t==="desc"?e="descending":t==="mixed"?e="other":e="none",e}function LO(t){return t.getAttribute("aria-label")}function ea(t,e){so(t,"label",e)}function dc(t,e){so(t,"labelledby",e)}function xR(t,e){so(t,"live",e)}function BO(t,e){so(t,"atomic",e)}function VO(t,e){so(t,"relevant",e)}function GO(t,e){so(t,"disabled",e)}function xC(t,e){so(t,"hidden",e)}function rh(t,e){_n(t,"expanded",e)}function WO(t,e){_n(t,"setsize",e)}function HO(t,e){_n(t,"posinset",e)}function UO(t,e){_n(t,"multiselectable",e)}function zO(t,e){_n(t,"rowcount",e)}function ER(t,e){_n(t,"rowindex",e)}function jO(t,e){_n(t,"colcount",e)}function DR(t,e){_n(t,"colindex",e)}function $O(t,e){_n(t,"colspan",e)}function KO(t,e){_n(t,"sort",e)}function qO(t){SR(t,"sort")}function ah(t,e){so(t,"selected",e)}function XO(t,e){so(t,"controls",e.id),dc(e,t.id)}function EC(t,e){return e===void 0?t("ariaIndeterminate","indeterminate"):e===!0?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var $v,qu,Kv,qv,Xv,Yv,cC,dC;function On(){return $v===void 0&&($v=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),$v}function TR(){if(qu===void 0)if(On()){let t=navigator.userAgent.match(/version\/(\d+)/i);t&&(qu=t[1]!=null?parseFloat(t[1]):0)}else qu=0;return qu}function DC(){if(Kv===void 0){let t=window;Kv=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Kv}function IR(){return qv===void 0&&(qv=/(firefox)/i.test(navigator.userAgent)),qv}function kR(){return Xv===void 0&&(Xv=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Xv}function Yo(){return Yv===void 0&&(Yv=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Yv}function uC(){return!On()||TR()>=15}function hC(t){if(!t)return null;let e=t.tabIndex,i=t.getAttribute("tabIndex");return e===-1&&(i===null||i===""&&!IR())?null:e.toString()}function YO(){if(!document.body)return-1;let t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){let n=t*2;if(i.style.height=n+"px",n>e||i.clientHeight!==n)break;t=n}return document.body.removeChild(i),t}function QO(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}function ZO(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}function JO(){return dC==null&&MR(),dC}function MR(){let t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let i=e.offsetWidth-e.clientWidth;i===0&&e.clientWidth===0&&(i=null),e.parentNode&&e.parentNode.removeChild(e),i!=null&&(dC=i,cC=i===0)}function PR(){return cC==null&&MR(),cC}var Xu;var e1="[tabindex], input, select, button, textarea, [href]",AR="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function TC(t){let e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=e.call(t,"input, select, button, textarea"),o=e.call(t,AR),s=wn(t);return n&&!o&&s}function wt(t,e,i={}){let{skipAriaHidden:n}=i;t.classList.toggle("ag-hidden",!e),n||xC(t,!e)}function t1(t,e,i={}){let{skipAriaHidden:n}=i;t.classList.toggle("ag-invisible",!e),n||xC(t,!e)}function uc(t,e){let i="disabled",n=e?o=>o.setAttribute(i,""):o=>o.removeAttribute(i);n(t),GR(t.querySelectorAll("input"),o=>n(o))}function Zr(t,e,i){let n=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,typeof i=="number"){if(++n>i)break}else if(t===i)break}return!1}function Ns(t){let{height:e,width:i,borderTopWidth:n,borderRightWidth:o,borderBottomWidth:s,borderLeftWidth:r,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:p,marginBottom:m,marginLeft:y,boxSizing:R}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(r||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(y||"0"),boxSizing:R}}function IC(t){let e=Ns(t);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function pc(t){let e=Ns(t);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function FR(t){let{height:e,marginBottom:i,marginTop:n}=Ns(t);return Math.floor(e+i+n)}function lh(t){let{width:e,marginLeft:i,marginRight:n}=Ns(t);return Math.floor(e+i+n)}function OR(t){let e=t.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:o,borderBottomWidth:s}=Ns(t);return{top:e.top+(i||0),left:e.left+(n||0),right:e.right+(o||0),bottom:e.bottom+(s||0)}}function ch(){if(typeof Xu=="boolean")return Xu;let t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(t),t.scrollLeft=1,Xu=Math.floor(t.scrollLeft)===0,document.body.removeChild(t),Xu}function dh(t,e){let i=t.scrollLeft;return e&&(i=Math.abs(i),DC()&&!ch()&&(i=t.scrollWidth-t.clientWidth-i)),i}function uh(t,e,i){i&&(ch()?e*=-1:(On()||DC())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function ri(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function cn(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function NR(t){return!!t.offsetParent}function wn(t){let e=t;return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!NR(t)||window.getComputedStyle(t).visibility!=="visible")}function ta(t){let e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function LR(t,e,i){i&&i.nextSibling===e||(i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function BR(t,e){for(let i=0;i<e.length;i++){let n=e[i],o=t.children[i];o!==n&&t.insertBefore(n,o)}}function i1(t,e,i){i?i.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function VR(t,e){if(e)for(let[i,n]of Object.entries(e)){if(!i||!i.length||n==null)continue;let o=DO(i),s=n.toString(),r=s.replace(/\s*!important/g,""),a=r.length!=s.length?"important":void 0;t.style.setProperty(o,r,a)}}function n1(t){return t.clientWidth<t.scrollWidth}function o1(t){return t.clientHeight<t.scrollHeight}function hh(t,e){e==="flex"?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):yn(t,e)}function yn(t,e){e=kC(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function nc(t,e){e=kC(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function kC(t){return typeof t=="number"?`${t}px`:t}function MC(t){return t instanceof Node||t instanceof HTMLElement}function s1(t){if(t==null)return[];let e=[];return GR(t,i=>e.push(i)),e}function r1(t,e){if(t)for(let i=0;i<t.length;i++){let n=t[i];e(n.name,n.value)}}function un(t,e,i){i==null||i===""?t.removeAttribute(e):t.setAttribute(e,i.toString())}function GR(t,e){if(t!=null)for(let i=0;i<t.length;i++)e(t[i])}var ia=class{constructor(t=0,e=1){this.nextValue=t,this.step=e}next(){let t=this.nextValue;return this.nextValue+=this.step,t}peek(){return this.nextValue}skip(t){this.nextValue+=t}},a1=1e3,l1=1e3,zS=100,c1=(()=>{let t=class Ts extends A{constructor(i,n,o,s){super(),this.parentComp=i,this.tooltipShowDelayOverride=n,this.tooltipHideDelayOverride=o,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(i){this.popupService=i.popupService,this.userComponentFactory=i.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let i=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(i,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(i,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(i,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(i,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(i){let n=this.gos.get(i);return n<0&&L(`${i} should not be lower than 0`),Math.max(200,n)}getTooltipDelay(i){return i==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let i=this.gos.get("tooltipTrigger");return!i||i==="hover"?0:1}onMouseEnter(i){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Yo()&&(Ts.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(i)},zS):this.prepareToShowTooltip(i))}onMouseMove(i){this.lastMouseEvent&&(this.lastMouseEvent=i),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(i){let n=i.relatedTarget,o=this.parentComp.getGui(),s=this.tooltipComp?.getGui();this.isInteractingWithTooltip||o.contains(n)||this.interactionEnabled&&s?.contains(n)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(i){if(this.state!=0||Ts.isLocked)return;let n=0;i&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=i||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=1}isLastTooltipHiddenRecently(){let i=new Date().getTime(),n=Ts.lastTooltipHideTime;return i-n<a1}setToDoNothing(i){!i&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let i=D({},this.parentComp.getTooltipParams());if(!W(i.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;let n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(i).newAgStackInstance().then(n)}hideTooltip(i){!i&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Ts.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),i&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(i,n){if(this.state!==2||this.tooltipInstanceCount!==i){this.destroyBean(n);return}let s=n.getGui();this.tooltipComp=n,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");let r=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:s,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let l=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:l,columnMoved:l})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let i=this.tooltipComp?.getGui(),n=this.gos.getActiveDomElement();return!!i&&i.contains(n)}onTooltipFocusOut(i){let n=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,n.contains(i.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let i={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(_e(D({},i),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(_e(D({},i),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let i=this.tooltipPopupDestroyFunc,n=this.tooltipComp,o=this.tooltipTrigger===0?l1:0;window.setTimeout(()=>{i(),this.destroyBean(n)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(i=>{i&&i()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Ts.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},zS)}unlockService(){Ts.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};return t.isLocked=!1,t})(),d1=c1,oa=class extends A{constructor(t,e){super(),this.ctrl=t,e&&(this.beans=e)}wireBeans(t){this.beans=t}postConstruct(){this.refreshToolTip()}setBrowserTooltip(t){let e="title",i=this.ctrl.getGui();i&&(t!=null&&t!=""?i.setAttribute(e,t):i.removeAttribute(e))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.tooltipManager!=null)return;let t={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new d1(t,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){let t=this.ctrl,e=t.getColumn?.(),i=t.getColDef?.(),n=t.getRowNode?.();return{location:t.getLocation(),colDef:i,column:e,rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},u1=new ia,ae=null,ot=class WR extends A{constructor(e,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=u1.next(),this.cssClassManager=new OO(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preWireBeans(e){super.preWireBeans(e)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(e,i){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){let{newTooltipText:i,showDelayOverride:n,hideDelayOverride:o,location:s,shouldDisplayTooltip:r}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);let a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new oa({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:e?.getColDef,getColumn:e?.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:o!=null?()=>o:void 0,shouldDisplayTooltip:r})))}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,i,n,o=null){if(i===void 0&&(i=this.getDataRefAttribute(e)),i){let s=this[i];if(s===ae)this[i]=o??e;else{let r=n&&n[i];!this.suppressDataRefValidation&&!r&&L(`Issue with data-ref: ${i} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(e,i){s1(e.childNodes).forEach(o=>{if(!(o instanceof HTMLElement))return;let s=this.createComponentFromElement(o,r=>{r.getGui()&&this.copyAttributesFromNode(o,r.getGui())},i);if(s){if(s.addItems&&o.children.length){this.createChildComponentsFromTags(o,i);let r=Array.prototype.slice.call(o.children);s.addItems(r)}this.swapComponentForNode(s,e,o)}else o.childNodes&&this.createChildComponentsFromTags(o,i)})}createComponentFromElement(e,i,n){let o=e.nodeName,s=this.getDataRefAttribute(e),r=o.indexOf("AG-")===0,a=r?this.componentSelectors.get(o):null,l=null;if(a){WR.elementGettingCreated=e;let c=n&&s?n[s]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,i)}else r&&L(`Missing selector: ${o}`);return this.applyElementsToComponent(e,s,n,l),l}copyAttributesFromNode(e,i){r1(e.attributes,(n,o)=>i.setAttribute(n,o))}swapComponentForNode(e,i,n){let o=e.getGui();i.replaceChild(o,n),i.insertBefore(document.createComment(n.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){let i=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",i.toString()))}setTemplate(e,i,n){let o=ta(e);this.setTemplateFromElement(o,i,n)}setTemplateFromElement(e,i,n,o=!1){if(this.eGui=e,this.suppressDataRefValidation=o,i)for(let s=0;s<i.length;s++){let r=i[s];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,i){let n=i;return e==null?null:(n||(n=this.eGui),MC(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,i){let{element:n,parent:o}=this.getContainerAndElement(e,i)||{};!n||!o||o.insertAdjacentElement("afterbegin",n)}appendChild(e,i){let{element:n,parent:o}=this.getContainerAndElement(e,i)||{};!n||!o||o.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,i={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:n}=i;t1(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,i={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:n}=i;wt(this.eGui,e,{skipAriaHidden:n});let o={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(o)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(e,i,n){this.eGui.addEventListener(e,i,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,i))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)}},HR={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},h1=(()=>{let t=new Set(Object.values(HR));return t.add("eye"),t})();function p1(t,e,i){let n=zi(t,e,i);if(n){let{className:s}=n;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return n}let o=document.createElement("span");return o.appendChild(n),o}function zi(t,e,i,n){let o=null,s=i&&i.getColDef().icons;if(s&&(o=s[t]),e&&!o){let r=e.get("icons");r&&(o=r[t])}if(o){let r;if(typeof o=="function")r=o();else if(typeof o=="string")r=o;else throw new Error("icon from grid options needs to be a string or a function");if(typeof r=="string")return ta(r);if(MC(r))return r;L("iconRenderer should return back a string or a dom object")}else{let r=document.createElement("span"),a=HR[t]??(h1.has(t)?t:void 0);return a||(n?a=t:(L(`Did not find icon ${t}`),a="")),r.setAttribute("class",`ag-icon ag-icon-${a}`),r.setAttribute("unselectable","on"),Di(r,"presentation"),r}}function UR(t,e,i){if(i===0)return!1;let n=Math.abs(t.clientX-e.clientX),o=Math.abs(t.clientY-e.clientY);return Math.max(n,o)<=i}var Ko=class{constructor(t,e=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new na,this.eElement=t,this.preventMouseClick=e;let i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}addEventListener(t,e){this.localEventService.addEventListener(t,e)}removeEventListener(t,e){this.localEventService.removeEventListener(t,e)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;let e=this.touchStart;window.setTimeout(()=>{let i=this.touchStart===e;if(this.touching&&i&&!this.moved){this.moved=!0;let n={type:"longTap",touchStart:this.touchStart,touchEvent:t};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(t){if(!this.touching)return;let e=this.getActiveTouch(t.touches);if(!e)return;!UR(e,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){if(this.touching){if(!this.moved){let e={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}}checkForDoubleTap(){let t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}};function Ql(t,e){return`<span data-ref="eSort${t}" class="ag-sort-indicator-icon ag-sort-${e} ag-hidden" aria-hidden="true"></span>`}var f1=`<span class="ag-sort-indicator-container">
        ${Ql("Order","order")}
        ${Ql("Asc","ascending-icon")}
        ${Ql("Desc","descending-icon")}
        ${Ql("Mixed","mixed-icon")}
        ${Ql("None","none-icon")}
    </span>`,PC=class extends ot{constructor(t){super(),this.eSortOrder=ae,this.eSortAsc=ae,this.eSortDesc=ae,this.eSortMixed=ae,this.eSortNone=ae,t||this.setTemplate(f1)}wireBeans(t){this.sortController=t.sortController}attachCustomElements(t,e,i,n,o){this.eSortOrder=t,this.eSortAsc=e,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=o}setupSort(t,e=!1){if(this.column=t,this.suppressOrder=e,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t);let i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(t,e,i){if(e==null)return;let n=zi(t,this.gos,i);n&&e.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){let e=t==="asc";wt(this.eSortAsc,e,{skipAriaHidden:!0})}if(this.eSortDesc){let e=t==="desc";wt(this.eSortDesc,e,{skipAriaHidden:!0})}if(this.eSortNone){let e=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=t==null;wt(this.eSortNone,!e&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);let t=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&t&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){let t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";wt(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;let t=this.sortController.getColumnsWithSortingOrdered(),e=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=t.some(o=>this.sortController.getDisplaySortIndexForColumn(o)??!1),n=e>=0&&i;wt(this.eSortOrder,n,{skipAriaHidden:!0}),e>=0?this.eSortOrder.textContent=(e+1).toString():ri(this.eSortOrder)}},m1={selector:"AG-SORT-INDICATOR",component:PC},g1=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,pC=class extends ot{constructor(){super(...arguments),this.eFilter=ae,this.eFilterButton=ae,this.eSortIndicator=ae,this.eMenu=ae,this.eLabel=ae,this.eText=ae,this.eSortOrder=ae,this.eSortAsc=ae,this.eSortDesc=ae,this.eSortMixed=ae,this.eSortNone=ae,this.lastMovingChanged=0}wireBeans(t){this.sortController=t.sortController,this.menuService=t.menuService,this.funcColsService=t.funcColsService}destroy(){super.destroy()}refresh(t){let e=this.params;return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||e.enableFilterButton!=t.enableFilterButton||e.enableFilterIcon!=t.enableFilterIcon?!1:(this.setDisplayName(t),!0)}workOutTemplate(){let t=this.params.template??g1;return t=t&&t.trim?t.trim():t,t}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[m1]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;let e=Fn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=e)}}addInIcon(t,e,i){if(e==null)return;let n=zi(t,this.gos,i);n&&e.appendChild(n)}setupTap(){let{gos:t}=this;if(t.get("suppressTouch"))return;let e=new Ko(this.getGui(),!0),i=this.shouldSuppressMenuHide(),n=i&&W(this.eMenu),o=n?new Ko(this.eMenu,!0):e;if(this.params.enableMenu){let s=n?"tap":"longTap",r=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(o,{[s]:r})}if(this.params.enableSorting){let s=r=>{let a=r.touchStart.target;i&&(this.eMenu?.contains(a)||this.eFilterButton?.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(e,{tap:s})}if(this.params.enableFilterButton){let s=new Ko(this.eFilterButton,!0);this.addManagedListeners(s,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>s.destroy())}this.addDestroyFunc(()=>e.destroy()),n&&this.addDestroyFunc(()=>o.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){cn(this.eMenu),this.eMenu=void 0;return}let t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!t),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(t){let e=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(t&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(e))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new PC(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:e=>{let i=this.params.column.isMoving(),o=new Date().getTime()-this.lastMovingChanged<50;if(!(i||o)){let a=this.gos.get("multiSortKey")==="ctrl"?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(a)}}});let t=()=>{let e=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",e==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",e==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!e),this.params.column.getColDef().showRowGroup){let o=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(s=>this.params.column.getSort()==s.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedEventListeners({sortChanged:t,columnRowGroupChanged:t})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(t,e,i){if(!t)return cn(e),!1;let n=this.params.column;return this.addInIcon("filter",e,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedIcon(){let t=this.params.column.isFilterActive();wt(this.eFilter,t,{skipAriaHidden:!0})}onFilterChangedButton(){let t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)}getAnchorElementForMenu(t){return t?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},v1=class extends ot{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=ae,this.agClosed=ae,this.agLabel=ae}wireBeans(t){this.columnModel=t.columnModel}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&L("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);let t=o=>{if(to(o))return;let s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,t),this.addTouchAndClickListeners(this.agOpened,t);let e=o=>{Jr(o)};this.addManagedElementListeners(this.agClosed,{dblclick:e}),this.addManagedElementListeners(this.agOpened,{dblclick:e}),this.addManagedElementListeners(this.getGui(),{dblclick:t}),this.updateIconVisibility();let i=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(t,e){let i=new Ko(t,!0);this.addManagedListeners(i,{tap:e}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(t,{click:e})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){let e=this.params.columnGroup.isExpanded();wt(this.agOpened,e),wt(this.agClosed,!e)}else wt(this.agOpened,!1),wt(this.agClosed,!1)}addInIcon(t,e){let i=zi(t,this.gos,null);i&&e.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){wt(this.agOpened,!1),wt(this.agClosed,!1);return}}setupLabel(){let{displayName:t,columnGroup:e}=this.params;if(W(t)){let i=Fn(t,!0);this.agLabel.textContent=i}this.addOrRemoveCssClass("ag-sticky-label",!e.getColGroupDef()?.suppressStickyLabel)}},zR=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(zR||{}),C1=(()=>{let t=class at{static register(i){at.__register(i,!0,void 0)}static registerModules(i){at.__registerModules(i,!0,void 0)}static __register(i,n,o){at.runVersionChecks(i),o!==void 0?(at.areGridScopedModules=!0,at.gridModulesMap[o]===void 0&&(at.gridModulesMap[o]={}),at.gridModulesMap[o][i.moduleName]=i):at.globalModulesMap[i.moduleName]=i,at.setModuleBased(n)}static __unRegisterGridModules(i){delete at.gridModulesMap[i]}static __registerModules(i,n,o){at.setModuleBased(n),i&&i.forEach(s=>at.__register(s,n,o))}static isValidModuleVersion(i){let[n,o]=i.version.split(".")||[],[s,r]=at.currentModuleVersion.split(".")||[];return n===s&&o===r}static runVersionChecks(i){at.currentModuleVersion||(at.currentModuleVersion=i.version);let n=o=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${o} Please update all modules to the same version.`;if(i.version?at.isValidModuleVersion(i)||nt(n(`'${i.moduleName}' is version ${i.version} but the other modules are version ${at.currentModuleVersion}.`)):nt(n(`'${i.moduleName}' is incompatible.`)),i.validate){let o=i.validate();o.isValid||nt(`${o.message}`)}}static setModuleBased(i){at.moduleBased===void 0?at.moduleBased=i:at.moduleBased!==i&&(nt("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),nt("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){at.isBundled=!0}static __assertRegistered(i,n,o){if(this.__isRegistered(i,o))return!0;let s;if(at.isBundled)s=`AG Grid: unable to use ${n} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(at.moduleBased||at.moduleBased===void 0){let r=Object.entries(zR).find(([a,l])=>l===i)?.[0];s=`AG Grid: unable to use ${n} as the ${r} is not registered${at.areGridScopedModules?` for gridId: ${o}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${r} } from '${i}';
    
    ModuleRegistry.registerModules([ ${r} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${n} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return nt(s),!1}static __isRegistered(i,n){return!!at.globalModulesMap[i]||!!at.gridModulesMap[n]?.[i]}static __getRegisteredModules(i){return[...th(at.globalModulesMap),...th(at.gridModulesMap[i]||{})]}static __getGridRegisteredModules(i){return th(at.gridModulesMap[i]??{})||[]}static __isPackageBased(){return!at.moduleBased}};return t.globalModulesMap={},t.gridModulesMap={},t.areGridScopedModules=!1,t})(),hi=C1,b1="\u2191",y1="\u2193",w1=class extends ot{constructor(){super(),this.refreshCount=0;let t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-change-delta");let i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),t.appendChild(e),t.appendChild(i),this.setTemplateFromElement(t)}wireBeans(t){this.filterManager=t.filterManager}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)}showDelta(t,e){let i=Math.abs(e),n=t.formatValue(i),o=W(n)?n:i,s=e>=0;s?this.eDelta.textContent=b1+o:this.eDelta.textContent=y1+o,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;let t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ri(this.eDelta)}refresh(t,e=!1){let i=t.value;if(i===this.lastValue||(W(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:W(t.value)?this.eValue.textContent=i:ri(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){let n=i-this.lastValue;this.showDelta(t,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),e||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},_1=class extends ot{constructor(){super(),this.refreshCount=0;let t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-slide-current"),t.appendChild(e),this.setTemplateFromElement(t),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(t){this.filterManager=t.filterManager}init(t){this.refresh(t,!0)}addSlideAnimation(){this.refreshCount++;let t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let e=document.createElement("span");e.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=e,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(t,e=!1){let i=t.value;return Xe(i)&&(i=""),i===this.lastValue||this.filterManager?.isSuppressFlashingCellsBecauseFiltering()?!1:(e||this.addSlideAnimation(),this.lastValue=i,W(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:W(t.value)?this.eCurrent.textContent=i:ri(this.eCurrent),!0)}},N=(()=>{let t=class{};return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t.A="KeyA",t.C="KeyC",t.D="KeyD",t.V="KeyV",t.X="KeyX",t.Y="KeyY",t.Z="KeyZ",t})(),S1=class extends ot{constructor(t,e,i){super(e,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:t,label:e,labelWidth:i,labelAlignment:n,disabled:o}=this.config;o!=null&&this.setDisabled(o),t!=null&&this.setLabelSeparator(t),e!=null&&this.setLabel(e),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){ri(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(wt(this.eLabel,!1),Di(this.eLabel,"presentation")):(wt(this.eLabel,!0),Di(this.eLabel,null))}setLabelSeparator(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)}setLabelAlignment(t){let i=this.getGui().classList;return i.toggle("ag-label-align-left",t==="left"),i.toggle("ag-label-align-right",t==="right"),i.toggle("ag-label-align-top",t==="top"),this}setLabelEllipsis(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this}setLabelWidth(t){return this.label==null?this:(hh(this.eLabel,t),this)}setDisabled(t){t=!!t;let e=this.getGui();return uc(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this}isDisabled(){return!!this.disabled}},jR=class extends S1{constructor(t,e,i,n){super(t,e,i),this.className=n}postConstruct(){super.postConstruct();let{width:t,value:e,onValueChange:i}=this.config;t!=null&&this.setWidth(t),e!=null&&this.setValue(e),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(t){return super.setLabel(t),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let t=this.getAriaElement(),e=this.getLabelId(),i=this.getLabel();i==null||i==""||LO(t)!==null?dc(t,""):dc(t,e??"")}setAriaLabel(t){return ea(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this}onValueChange(t){return this.addManagedListeners(this,{fieldValueChanged:()=>t(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return yn(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,e){return this.value===t?this:(this.previousValue=this.value,this.value=t,e||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},ks=class extends jR{constructor(t,e,i="text",n="input"){super(t,t?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],e),this.inputType=i,this.displayFieldTag=n,this.eLabel=ae,this.eWrapper=ae,this.eInput=ae}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;let{inputName:t,inputWidth:e}=this.config;t!=null&&this.setInputName(t),e!=null&&this.setInputWidth(e),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:t=>this.setValue(t.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(t){return hh(this.eWrapper,t),this}setInputName(t){return this.getInputElement().setAttribute("name",t),this}getFocusableElement(){return this.eInput}setMaxLength(t){let e=this.eInput;return e.maxLength=t,this}setInputPlaceholder(t){return un(this.eInput,"placeholder",t),this}setInputAriaLabel(t){return ea(this.eInput,t),this.refreshAriaLabelledBy(),this}setDisabled(t){return uc(this.eInput,t),super.setDisabled(t)}setAutoComplete(t){if(t===!0)un(this.eInput,"autocomplete",null);else{let e=typeof t=="string"?t:"off";un(this.eInput,"autocomplete",e)}return this}},AC=class extends ks{constructor(t,e="ag-checkbox",i="checkbox"){super(t,e,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:t,passive:e}=this.config;typeof t=="boolean"&&this.setReadOnly(t),typeof e=="boolean"&&this.setPassive(e)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t}setDisabled(t){return this.eWrapper.classList.toggle("ag-disabled",t),super.setDisabled(t)}toggle(){if(this.eInput.disabled)return;let t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}getValue(){return this.isSelected()}setValue(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this}setName(t){let e=this.getInputElement();return e.name=t,this}isSelected(){return this.selected}setSelected(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,e||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(t,e,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:t,previousValue:e,event:i});let n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:t,previousValue:e})}onCheckboxClick(t){if(this.passive||this.eInput.disabled)return;let e=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)}},FC={selector:"AG-CHECKBOX",component:AC},R1=class extends ot{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[FC]),this.eCheckbox=ae}init(t){this.params=t,this.updateCheckbox(t);let e=this.eCheckbox.getInputElement();e.setAttribute("tabindex","-1"),xR(e,"polite"),this.addManagedListeners(e,{click:i=>{if(Jr(i),this.eCheckbox.isDisabled())return;let n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:i=>{Jr(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===N.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();let n=this.eCheckbox.getValue();this.onCheckboxChanged(n),i.preventDefault()}}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){let e,i=!0;if(t.node.group&&t.column)if(typeof t.value=="boolean")e=t.value;else{let a=t.column.getColId();a.startsWith(hc)?e=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[a]!==void 0?e=t.value??void 0:i=!1}else e=t.value??void 0;if(!i){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(e);let n=t.disabled!=null?t.disabled:!t.column?.isCellEditable(t.node);this.eCheckbox.setDisabled(n);let o=this.localeService.getLocaleTextFunc(),s=EC(o,e),r=n?s:`${o("ariaToggleCellValue","Press SPACE to toggle cell value")} (${s})`;this.eCheckbox.setInputAriaLabel(r)}onCheckboxChanged(t){let{column:e,node:i,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:e,colDef:e?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n});let o=this.params.node.setDataValue(this.params.column,t,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:e,colDef:e?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n,oldValue:n,newValue:t,valueChanged:o})}},x1=class extends ot{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=ae,this.eLoadingText=ae}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){let t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){let t=zi("groupLoading",this.gos,null);t&&this.eLoadingIcon.appendChild(t);let e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}},E1=class extends ot{constructor(){super('<div class="ag-skeleton-container"></div>')}init(t){let e=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",e),this.addDestroyFunc(()=>dc(t.eParentOfValue)),dc(t.eParentOfValue,e),t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){let t=this.localeService.getLocaleTextFunc();this.getGui().innerText=t("loadingError","ERR");let e=t("ariaSkeletonCellLoadingFailed","Row failed to load");ea(this.getGui(),e)}setupLoading(t){let i=this.gos.getDocument().createElement("div");i.classList.add("ag-skeleton-effect");let n=t.node.rowIndex;if(n!=null){let r=75+25*(n%2===0?Math.sin(n):Math.cos(n));i.style.width=`${r}%`}this.getGui().appendChild(i);let s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");ea(this.getGui(),s)}refresh(t){return!1}destroy(){super.destroy()}},$R=class extends ot{constructor(){super()}destroy(){super.destroy()}},D1=class extends $R{init(){let t=io(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(t??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!t){let e=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=e("loadingOoo","Loading...")})}}},T1=class extends $R{init(){let t=io(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(t??'<span class="ag-overlay-no-rows-center"></span>'),!t){let e=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=e("noRowsToShow","No Rows To Show")})}}},sa=class extends ot{isPopup(){return!0}setParentComponent(t){t.addCssClass("ag-has-popup"),super.setParentComponent(t)}destroy(){let t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),super.destroy()}},I1=class extends sa{constructor(){super('<div class="ag-tooltip"></div>')}init(t){let{value:e}=t;this.getGui().textContent=Fn(e,!0)}};function k1(t,e,i){let n={},o=t.filter(s=>!e.some(r=>r===s));return o.length>0&&o.forEach(s=>n[s]=KR(s,i).values),n}function KR(t,e,i,n){let o=e.map((a,l)=>({value:a,relevance:M1(t.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(o.sort((a,l)=>l.relevance-a.relevance),i&&(o=o.filter(a=>a.relevance!==0)),o.length>0&&n&&n>0){let l=o[0].relevance*n;o=o.filter(c=>l-c.relevance<0)}let s=[],r=[];for(let a of o)s.push(a.value),r.push(a.idx);return{values:s,indices:r}}function M1(t,e){let i=t.replace(/\s/g,""),n=e.replace(/\s/g,""),o=0,s=-1;for(let r=0;r<i.length;r++){let a=n.indexOf(i[r],s+1);a!==-1&&(s=a,o+=100-s*100/1e4*100)}return o}var P1=class extends A{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agColumnHeader:pC,agColumnGroupHeader:v1,agSortIndicator:PC,agAnimateShowChangeCellRenderer:w1,agAnimateSlideCellRenderer:_1,agLoadingCellRenderer:x1,agSkeletonCellRenderer:E1,agCheckboxCellRenderer:R1,agLoadingOverlay:D1,agNoRowsOverlay:T1,agTooltipComponent:I1},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){let t=this.gos.get("components");t!=null&&rn(t,(e,i)=>this.registerJsComponent(e,i))}registerDefaultComponent(t,e){this.agGridDefaults[t]=e}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){let i=(a,l)=>({componentFromFramework:l,component:a}),n=this.getFrameworkOverrides().frameworkComponent(e,this.gos.get("components"));if(n!=null)return i(n,!0);let o=this.jsComps[e];if(o){let a=this.getFrameworkOverrides().isFrameworkComponent(o);return i(o,a)}let s=this.agGridDefaults[e];if(s)return i(s,!1);let r=this.enterpriseAgDefaultCompsModule[e];return r?hi.__assertRegistered(r,`AG Grid '${t}' component: ${e}`,this.gridId):_C(()=>{this.warnAboutMissingComponent(t,e)},"MissingComp"+e),null}warnAboutMissingComponent(t,e){let i=[...Object.keys(this.agGridDefaults).filter(o=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(o)),...Object.keys(this.jsComps)],n=KR(e,i,!0,.8).values;L(`Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`),n.length>0&&L(`         Did you mean: [${n.slice(0,3)}]?`),L(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},Ui=class ec{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(i=>this.onDone(i),i=>this.onReject(i))}static all(e){return e.length?new ec(i=>{let n=e.length,o=new Array(n);e.forEach((s,r)=>{s.then(a=>{o[r]=a,n--,n===0&&i(o)})})}):ec.resolve()}static resolve(e=null){return new ec(i=>i(e))}then(e){return new ec(i=>{this.status===1?i(e(this.resolution)):this.waiters.push(n=>i(e(n)))})}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(i=>i(e))}onReject(e){}},A1={propertyName:"dateComponent",cellRenderer:!1},F1={propertyName:"headerComponent",cellRenderer:!1},O1={propertyName:"headerGroupComponent",cellRenderer:!1},jS={propertyName:"cellRenderer",cellRenderer:!0},N1={propertyName:"cellRenderer",cellRenderer:!1},L1={propertyName:"loadingCellRenderer",cellRenderer:!0},B1={propertyName:"cellEditor",cellRenderer:!1},$S={propertyName:"innerRenderer",cellRenderer:!0},V1={propertyName:"loadingOverlayComponent",cellRenderer:!1},G1={propertyName:"noRowsOverlayComponent",cellRenderer:!1},W1={propertyName:"tooltipComponent",cellRenderer:!1},OC={propertyName:"filter",cellRenderer:!1},H1={propertyName:"floatingFilterComponent",cellRenderer:!1},U1={propertyName:"toolPanel",cellRenderer:!1},z1={propertyName:"statusPanel",cellRenderer:!1},j1={propertyName:"fullWidthCellRenderer",cellRenderer:!0},$1={propertyName:"loadingCellRenderer",cellRenderer:!0},K1={propertyName:"groupRowRenderer",cellRenderer:!0},q1={propertyName:"detailCellRenderer",cellRenderer:!0},X1={propertyName:"menuItem",cellRenderer:!1},qR=class XR extends A{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(e){this.agComponentUtils=e.agComponentUtils,this.componentMetadataProvider=e.componentMetadataProvider,this.userComponentRegistry=e.userComponentRegistry,this.frameworkComponentWrapper=e.frameworkComponentWrapper,this.gridOptions=e.gridOptions}getHeaderCompDetails(e,i){return this.getCompDetails(e,F1,"agColumnHeader",i)}getHeaderGroupCompDetails(e){let i=e.columnGroup.getColGroupDef();return this.getCompDetails(i,O1,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,j1,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,$1,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,K1,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,q1,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,i){return this.getCompDetails(e,$S,null,i)}getFullWidthGroupRowInnerCellRenderer(e,i){return this.getCompDetails(e,$S,null,i)}getCellRendererDetails(e,i){return this.getCompDetails(e,jS,null,i)}getEditorRendererDetails(e,i){return this.getCompDetails(e,N1,null,i)}getLoadingCellRendererDetails(e,i){return this.getCompDetails(e,L1,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(e,i){return this.getCompDetails(e,B1,"agCellEditor",i,!0)}getFilterDetails(e,i,n){return this.getCompDetails(e,OC,n,i,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,A1,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,V1,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,G1,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,W1,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,i){return this.getCompDetails(e,jS,null,i)}getFloatingFilterCompDetails(e,i,n){return this.getCompDetails(e,H1,n,i)}getToolPanelCompDetails(e,i){return this.getCompDetails(e,U1,null,i,!0)}getStatusPanelCompDetails(e,i){return this.getCompDetails(e,z1,null,i,!0)}getMenuItemCompDetails(e,i){return this.getCompDetails(e,X1,"agMenuItem",i,!0)}getCompDetails(e,i,n,o,s=!1){let{propertyName:r,cellRenderer:a}=i,{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:p,popupPositionFromSelector:m}=XR.getCompKeys(this.frameworkOverrides,e,i,o),y=P=>{let B=this.userComponentRegistry.retrieve(r,P);B&&(c=B.componentFromFramework?void 0:B.component,d=B.componentFromFramework?B.component:void 0)};if(l!=null&&y(l),c==null&&d==null&&n!=null&&y(n),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(r,c)),!c&&!d){s&&nt(`Could not find component ${l}, did you forget to configure this component?`);return}let R=this.mergeParamsWithApplicationProvidedParams(e,i,o,u),S=c==null,k=c||d;return{componentFromFramework:S,componentClass:k,params:R,type:i,popupFromSelector:p,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(k,S,R,i)}}static getCompKeys(e,i,n,o){let{propertyName:s}=n,r,a,l,c,d,u;if(i){let p=i,m=p[s+"Selector"],y=m?m(o):null,R=S=>{typeof S=="string"?r=S:S!=null&&S!==!0&&(e.isFrameworkComponent(S)?l=S:a=S)};y?(R(y.component),c=y.params,d=y.popup,u=y.popupPosition):R(p[s])}return{compName:r,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:u}}newAgStackInstance(e,i,n,o){let s=o.propertyName,r=!i,a;if(r)a=new e;else{let c=this.componentMetadataProvider.retrieve(s);a=this.frameworkComponentWrapper.wrap(e,c.mandatoryMethodList,c.optionalMethodList,o)}let l=this.initComponent(a,n);return l==null?Ui.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,i,n,o=null){let s=this.gos.getGridCommonParams();an(s,n);let r=e,a=r&&r[i.propertyName+"Params"];if(typeof a=="function"){let l=a(n);an(s,l)}else typeof a=="object"&&an(s,a);return an(s,o),s}initComponent(e,i){if(this.createBean(e),e.init!=null)return e.init(i)}};function oc(t){let e=t;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():t}var Y1=class{constructor(t){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!t||!t.beanClasses)&&(this.beanDestroyComparator=t.beanDestroyComparator,this.init(t))}init(t){Object.entries(t.providedBeanInstances).forEach(([e,i])=>{this.beans[e]=i}),t.beanClasses.forEach(e=>{let i=new e;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${e.name} is missing beanName`),this.createdBeans.push(i)}),t.derivedBeans?.forEach(e=>{let{beanName:i,bean:n}=e(this);this.beans[i]=n,this.createdBeans.push(n)}),t.beanInitComparator&&this.createdBeans.sort(t.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.initBeans([t],e),t}initBeans(t,e){t.forEach(i=>{i.preWireBeans?.(this.beans),i.wireBeans?.(this.beans)}),t.forEach(i=>i.preConstruct?.()),e&&t.forEach(e),t.forEach(i=>i.postConstruct?.())}getBeans(){return this.beans}getBean(t){return this.beans[t]}destroy(){if(this.destroyed)return;this.destroyed=!0;let t=this.getBeanInstances();this.beanDestroyComparator&&t.sort(this.beanDestroyComparator),this.destroyBeans(t),this.beans={},this.createdBeans=[]}destroyBean(t){t?.destroy?.()}destroyBeans(t){if(t)for(let e=0;e<t.length;e++)this.destroyBean(t[e]);return[]}isDestroyed(){return this.destroyed}},Q1=class extends Y1{init(t){this.gridId=t.gridId,this.beans.context=this,super.init(t)}destroy(){super.destroy(),hi.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}};var YR=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(YR||{});var Z1=`<div class="ag-dnd-ghost ag-unselectable">
<span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
<div class="ag-dnd-ghost-label"></div>
</div>`,J1=class extends A{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(t){this.dragService=t.dragService,this.mouseEventService=t.mouseEventService,this.environment=t.environment}postConstruct(){let t=e=>p1(e,this.gos,null);this.dropIconMap={pinned:t("columnMovePin"),hide:t("columnMoveHide"),move:t("columnMoveMove"),left:t("columnMoveLeft"),right:t("columnMoveRight"),group:t("columnMoveGroup"),aggregate:t("columnMoveValue"),pivot:t("columnMovePivot"),notAllowed:t("dropNotAllowed")}}addDragSource(t,e=!1){let i={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:i,dragSource:t}),this.dragService.addDragSource(i)}removeDragSource(t){let e=this.dragSourceAndParamsList.find(i=>i.dragSource===t);e&&(this.dragService.removeDragSource(e.params),pi(this.dragSourceAndParamsList,e))}destroy(){this.dragSourceAndParamsList.forEach(t=>this.dragService.removeDragSource(t.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createGhost()}onDragStop(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped?.(),this.lastDropTarget?.onDragStop){let e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=void 0,this.dragItem=null,this.removeGhost()}onDragging(t,e){let i=this.getHorizontalDirection(t),n=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);let o=this.dropTargets.filter(r=>this.isMouseOnDropTarget(t,r)),s=this.findCurrentDropTarget(t,o);if(s!==this.lastDropTarget)this.leaveLastTargetIfExists(t,i,n,e),this.lastDropTarget!==null&&s===null&&this.dragSource.onGridExit?.(this.dragItem),this.lastDropTarget===null&&s!==null&&this.dragSource.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(s,t,i,n,e),this.lastDropTarget=s;else if(s&&s.onDragging){let r=this.createDropTargetEvent(s,t,i,n,e);s.onDragging(r)}}getAllContainersFromDropTarget(t){let e=t.getSecondaryContainers?t.getSecondaryContainers():null,i=[[t.getContainer()]];return e?i.concat(e):i}allContainersIntersect(t,e){for(let i of e){let{width:n,height:o,left:s,right:r,top:a,bottom:l}=i.getBoundingClientRect();if(n===0||o===0)return!1;let c=t.clientX>=s&&t.clientX<r,d=t.clientY>=a&&t.clientY<l;if(!c||!d)return!1}return!0}isMouseOnDropTarget(t,e){let i=this.getAllContainersFromDropTarget(e),n=!1;for(let r of i)if(this.allContainersIntersect(t,r)){n=!0;break}let{eElement:o,type:s}=this.dragSource;return e.targetContainsSource&&!e.getContainer().contains(o)?!1:n&&e.isInterestedIn(s,o)}findCurrentDropTarget(t,e){let i=e.length;if(i===0)return null;if(i===1)return e[0];let o=this.gos.getRootNode().elementsFromPoint(t.clientX,t.clientY);for(let s of o)for(let r of e)if(tO(this.getAllContainersFromDropTarget(r)).indexOf(s)!==-1)return r;return null}enterDragTargetIfExists(t,e,i,n,o){if(t){if(t.onDragEnter){let s=this.createDropTargetEvent(t,e,i,n,o);t.onDragEnter(s)}this.setGhostIcon(t.getIconName?t.getIconName():null)}}leaveLastTargetIfExists(t,e,i,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){let o=this.createDropTargetEvent(this.lastDropTarget,t,e,i,n);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter(e=>e.getContainer()!==t.getContainer())}hasExternalDropZones(){return this.dropTargets.some(t=>t.external)}findExternalZone(t){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===t.getContainer())||null}getHorizontalDirection(t){let e=this.eventLastTime&&this.eventLastTime.clientX,i=t.clientX;return e===i?null:e>i?0:1}getVerticalDirection(t){let e=this.eventLastTime&&this.eventLastTime.clientY,i=t.clientY;return e===i?null:e>i?0:1}createDropTargetEvent(t,e,i,n,o){let s=t.getContainer(),r=s.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=e.clientX-r.left,d=e.clientY-r.top;return this.gos.addGridCommonParams({event:e,x:c,y:d,vDirection:n,hDirection:i,dragSource:l,fromNudge:o,dragItem:a,dropZoneTarget:s})}positionGhost(t){let e=this.eGhost;if(!e)return;let n=e.getBoundingClientRect().height,o=QO()-2,s=ZO()-2,r=OR(e.offsetParent),{clientY:a,clientX:l}=t,c=a-r.top-n/2,d=l-r.left-10,u=this.gos.getDocument(),p=u.defaultView||window,m=p.pageYOffset||u.documentElement.scrollTop,y=p.pageXOffset||u.documentElement.scrollLeft;o>0&&d+e.clientWidth>o+y&&(d=o+y-e.clientWidth),d<0&&(d=0),s>0&&c+e.clientHeight>s+m&&(c=s+m-e.clientHeight),c<0&&(c=0),e.style.left=`${d}px`,e.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=ta(Z1),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost),this.environment.applyThemeClasses(this.eGhost),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);let t=this.eGhost.querySelector(".ag-dnd-ghost-label"),e=this.dragSource.dragItemName;SC(e)&&(e=e()),t.innerHTML=Fn(e)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";let i=this.gos.getDocument(),n=null,o=null;try{n=i.fullscreenElement}catch{}finally{n||(n=this.gos.getRootNode());let s=n.querySelector("body");s?o=s:n instanceof ShadowRoot?o=n:n instanceof Document?o=n?.documentElement:o=n}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):L("Could not find document body, it is needed for dragging columns")}setGhostIcon(t,e=!1){ri(this.eGhostIcon);let i=null;t||(t=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():"notAllowed"),i=this.dropIconMap[t],this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),!(i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}},eN=class{constructor(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>!1)}check(t,e=!1){let i=e||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;let n=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<n.left+o,this.tickRight=t.clientX>n.right-o,this.tickUp=t.clientY<n.top+o&&!i,this.tickDown=t.clientY>n.bottom-o&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let t=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){let e=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(e-t),this.tickRight&&this.setHorizontalPosition(e+t)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};var tN=class extends A{wireBeans(t){this.dragAndDropService=t.dragAndDropService,this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService,this.focusService=t.focusService,this.sortController=t.sortController,this.filterManager=t.filterManager,this.selectionService=t.selectionService,this.mouseEventService=t.mouseEventService,this.ctrlsService=t.ctrlsService,this.funcColsService=t.funcColsService,this.rangeService=t.rangeService}constructor(t){super(),this.eContainer=t}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(t=>{let e=t.gridBodyCtrl;this.autoScrollService=new eN({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>e.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(t){return t===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];let e=t.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let n=[...this.selectionService.getSelectedNodes()].sort((o,s)=>o.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(s));if(n.indexOf(e)!==-1)return n}return[e]}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent("rowDragEnter",t),this.getRowNodes(t).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){let{dragSourceDomDataKey:e}=t.dragSource;return e===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(t){let i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=t;return!i.contains(n)}onEnterOrDragging(t){this.dispatchGridEvent("rowDragMove",t),this.lastDraggingEvent=t;let e=this.mouseEventService.getNormalisedPosition(t).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)}doManagedDrag(t,e){let i=this.isFromThisGrid(t),n=this.gos.get("rowDragManaged"),o=t.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(o[0],e):this.moveRows(o,e))}getRowIndexNumber(t){let e=t.getRowIndexString();return parseInt(Ze(e.split("-")),10)}moveRowAndClearHighlight(t){let e=this.clientSideRowModel.getLastHighlightedRowNode(),i=e&&e.highlighted===1,n=this.mouseEventService.getNormalisedPosition(t).y,o=t.dragItem.rowNodes,s=i?1:0;if(this.isFromThisGrid(t))o.forEach(r=>{r.rowTop<n&&(s-=1)}),this.moveRows(o,n,s);else{let r=this.gos.getRowIdCallback(),a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&a--,this.clientSideRowModel.updateRowData({add:o.filter(l=>!this.clientSideRowModel.getRowNode(r?.({data:l.data,level:0,rowPinned:l.rowPinned})??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,i=0){this.clientSideRowModel.ensureRowsAtPixel(t,e,i)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(t){if(!t.getContainer()){L("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){L("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let e={getContainer:t.getContainer};t.fromGrid?e=t:(t.onDragEnter&&(e.onDragEnter=i=>{t.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),t.onDragLeave&&(e.onDragLeave=i=>{t.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),t.onDragging&&(e.onDragging=i=>{t.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),t.onDragStop&&(e.onDragStop=i=>{t.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))})),this.dragAndDropService.addDropTarget(D({isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0},e))}getRowDropZone(t){let e=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),o=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:e,onDragEnter:t.onDragEnter?r=>{i(r),t.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}:i,onDragLeave:t.onDragLeave?r=>{n(r),t.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}:n,onDragging:t.onDragging?r=>{o(r),t.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}:o,onDragStop:t.onDragStop?r=>{s(r),t.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}:s,fromGrid:!0}:{getContainer:e,onDragEnter:i,onDragLeave:n,onDragging:o,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(t,e){let i=this.mouseEventService.getNormalisedPosition(e).y,n=i>this.pageBoundsService.getCurrentPageHeight(),o=-1,s;n||(o=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(o));let r;switch(e.vDirection){case 1:r="down";break;case 0:r="up";break;default:r=null;break}return this.gos.addGridCommonParams({type:t,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:o,overNode:s,y:i,vDirection:r})}dispatchGridEvent(t,e){let i=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(i)}onDragLeave(t){this.dispatchGridEvent("rowDragLeave",t),this.stopDragging(t),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(t){this.dispatchGridEvent("rowDragEnd",t),this.stopDragging(t),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)}stopDragging(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(e=>{e.setDragging(!1)})}},iN=class extends A{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(t){this.mouseEventService=t.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(t){let e=t.dragSource.eElement,i=t.mouseDownListener;if(e.removeEventListener("mousedown",i),t.touchEnabled){let n=t.touchStartListener;e.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(t){let e=this.dragSources.find(i=>i.dragSource===t);e&&(this.removeListener(e),pi(this.dragSources,e))}isDragging(){return this.dragging}addDragSource(t){let e=this.onMouseDown.bind(this,t),{eElement:i,includeTouch:n,stopPropagationForTouch:o}=t;i.addEventListener("mousedown",e);let s=null,r=this.gos.get("suppressTouch");n&&!r&&(s=a=>{TC(a.target)||(o&&a.stopPropagation(),this.onTouchStart(t,a))},i.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:s,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t,this.dragging=!1;let i=e.touches[0];this.touchLastTime=i,this.touchStart=i;let n=l=>this.onTouchMove(l,t.eElement),o=l=>this.onTouchUp(l,t.eElement),s=l=>{l.cancelable&&l.preventDefault()},r=e.target,a=[{target:this.gos.getRootNode(),type:"touchmove",listener:s,options:{passive:!1}},{target:r,type:"touchmove",listener:n,options:{passive:!0}},{target:r,type:"touchend",listener:o,options:{passive:!0}},{target:r,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(a),t.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,t.eElement)}onMouseDown(t,e){let i=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,e.button!==0))return;this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;let n=l=>this.onMouseMove(l,t.eElement),o=l=>this.onMouseUp(l,t.eElement),s=l=>l.preventDefault(),r=this.gos.getRootNode(),a=[{target:r,type:"mousemove",listener:n},{target:r,type:"mouseup",listener:o},{target:r,type:"contextmenu",listener:s}];this.addTemporaryEvents(a),t.dragStartPixels===0&&this.onMouseMove(e,t.eElement)}addTemporaryEvents(t){t.forEach(e=>{let{target:i,type:n,listener:o,options:s}=e;i.addEventListener(n,o,s)}),this.dragEndFunctions.push(()=>{t.forEach(e=>{let{target:i,type:n,listener:o,options:s}=e;i.removeEventListener(n,o,s)})})}isEventNearStartEvent(t,e){let{dragStartPixels:i}=this.currentDragParams,n=W(i)?i:4;return UR(t,e,n)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}onCommonMove(t,e,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)}onTouchMove(t,e){let i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,e)}onMouseMove(t,e){On()&&this.gos.getDocument().getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){let e=this.gos.get("enableCellTextSelection"),i=t.type==="mousemove";return e&&i&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){return!!t.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(t,e){let i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:"dragStopped",target:e})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}},fC=class extends ot{constructor(t,e,i,n,o,s){super(),this.cellValueFn=t,this.rowNode=e,this.column=i,this.customGui=n,this.dragStartPixels=o,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(t){this.beans=t}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(zi("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){let t=this.gos.get("rowDragManaged")?new oN(this,this.beans,this.rowNode,this.column):new nN(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t),this.addDragSource(e)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];let e=this.beans.selectionService.getSelectedNodes();return e.indexOf(this.rowNode)!==-1?e:[this.rowNode]}checkCompatibility(){let t=this.gos.get("rowDragManaged");this.gos.get("treeData")&&t&&L("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){let e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gos.get("rowDragText")}addDragSource(t=4){this.dragSource&&this.removeDragSource();let e=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(e,{mousedown:n=>{n?.preventDefault()}})[0]);let i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:e,dragItemName:()=>{let n=this.getDragItem(),o=n.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(n,o):o===1?this.cellValueFn():`${o} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},QR=class extends A{constructor(t,e,i){super(),this.parent=t,this.rowNode=e,this.column=i}setDisplayedOrVisible(t){let e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=SC(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,e),this.parent.setVisible(i,e)):(this.parent.setDisplayed(i,e),this.parent.setVisible(!0,e))}}},nN=class extends QR{constructor(t,e,i,n){super(t,i,n),this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let t=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:t}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let t=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(t)}},oN=class extends QR{constructor(t,e,i,n){super(t,i,n),this.beans=e}postConstruct(){let t=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:t,filterChanged:t,columnRowGroupChanged:t,newColumnsLoaded:t}),this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=e&&e.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),o=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!o||n;this.setDisplayedOrVisible(s)}},sN=new Set(["localEventService","__objectId","sticky"]),rN=(()=>{let t=class Kr{constructor(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Kr.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=i}setData(i){this.setDataCommon(i,!1)}updateData(i){this.setDataCommon(i,!0)}setDataCommon(i,n){let o=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();let s=this.createDataChangedEvent(i,o,n);this.localEventService?.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(i,n,o){return{type:"dataChanged",node:this,oldData:n,newData:i,update:o}}getRowIndexString(){return this.rowIndex==null?(nt("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){let i=new Kr(this.beans);return i.id=this.id,i.data=this.data,i.__daemon=!0,i.selected=this.selected,i.level=this.level,i}setDataAndId(i,n){let o=W(this.id)?this.createDaemonNode():null,s=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(n),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,o);let r=this.createDataChangedEvent(i,s,!1);this.localEventService?.dispatchEvent(r)}checkRowSelectable(){let i=this.beans.gos.get("isRowSelectable");this.setRowSelectable(i?i(this):!0)}setRowSelectable(i,n){if(this.selectable!==i){if(this.selectable=i,this.dispatchRowEvent("selectableChanged"),n)return;if(this.beans.gos.get("groupSelectsChildren")){let s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(i){let n=this.beans.gos.getRowIdCallback();if(n)if(this.data){let o=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Kr.ID_PREFIX_ROW_GROUP)&&nt(`Row IDs cannot start with ${Kr.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=i}getGroupKeys(i=!1){let n=[],o=this;for(i&&(o=o.parent);o&&o.level>=0;)n.push(o.key),o=o.parent;return n.reverse(),n}isPixelInRange(i){return!W(this.rowTop)||!W(this.rowHeight)?!1:i>=this.rowTop&&i<this.rowTop+this.rowHeight}updateIfDifferent(i,n,o){this[i]!==n&&(this[i]=n,this.dispatchRowEvent(o))}setFirstChild(i){this.updateIfDifferent("firstChild",i,"firstChildChanged")}setLastChild(i){this.updateIfDifferent("lastChild",i,"lastChildChanged")}setChildIndex(i){this.updateIfDifferent("childIndex",i,"childIndexChanged")}setRowTop(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.dispatchRowEvent("topChanged"),this.setDisplayed(i!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(i){this.updateIfDifferent("displayed",i,"displayedChanged")}setDragging(i){this.updateIfDifferent("dragging",i,"draggingChanged")}setHighlighted(i){this.updateIfDifferent("highlighted",i,"rowHighlightChanged")}setHovered(i){this.hovered!==i&&(this.hovered=i)}isHovered(){return this.hovered}setAllChildrenCount(i){this.updateIfDifferent("allChildrenCount",i,"allChildrenCountChanged")}setMaster(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.dispatchRowEvent("masterChanged"))}setGroup(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(i,n=!1){this.rowHeight=i,this.rowHeightEstimated=n,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(i,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=i,i!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=fi(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let i=!1,n=!0,o=0,s=this.__autoHeights;if(s==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=s[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let d=[];switch(l.getPinned()){case"left":d=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":d=this.beans.visibleColsService.getRightColsForRow(this);break;case null:d=this.beans.columnViewportService.getColsWithinViewport(this);break}if(d.includes(l)){i=!0;return}c=-1}else{i=!0;return}else n=!1;c>o&&(o=c)}),i)||((n||o<10)&&(o=this.beans.gos.getRowHeightForNode(this).height),o==this.rowHeight))return;this.setRowHeight(o);let a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}setRowIndex(i){this.updateIfDifferent("rowIndex",i,"rowIndexChanged")}setUiLevel(i){this.updateIfDifferent("uiLevel",i,"uiLevelChanged")}setExpanded(i,n,o){if(this.expanded===i)return;this.expanded=i,this.dispatchRowEvent("expandedChanged");let s=_e(D({},this.createGlobalRowEvent("rowGroupOpened")),{expanded:i,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s,o),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(i){return this.beans.gos.addGridCommonParams({type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(i,n,o){let r=typeof i!="string"?i:this.beans.columnModel.getCol(i)??this.beans.columnModel.getColDefCol(i),a=this.getValueFromValueService(r);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:r,colDef:r.getColDef(),data:this.data,node:this,oldValue:a,newValue:n,value:n,source:o}),!1;let l=this.beans.valueService.setValue(this,r,n,o);return this.dispatchCellChangedEvent(r,n,a),this.checkRowSelectable(),l}getValueFromValueService(i){let n=this.leafGroup&&this.beans.columnModel.isPivotMode(),o=this.group&&this.expanded&&!this.footer&&!n,s=!1,r=this.beans.gos.get("groupTotalRow")??this.beans.gos.get("groupIncludeFooter");typeof r!="function"?s=!!r:s=!!(this.beans.gos.getCallback("groupTotalRow")??this.beans.gos.getCallback("groupIncludeFooter"))({node:this});let a=this.beans.gos.get("groupSuppressBlankHeader"),l=o&&s&&!a;return this.beans.valueService.getValue(i,this,!1,l)}setGroupValue(i,n){let o=this.beans.columnModel.getCol(i);Xe(this.groupData)&&(this.groupData={});let s=o.getColId(),r=this.groupData[s];r!==n&&(this.groupData[s]=n,this.dispatchCellChangedEvent(o,n,r))}setAggData(i){let n=this.aggData;if(this.aggData=i,this.localEventService){let o=s=>{let r=this.aggData?this.aggData[s]:void 0,a=n?n[s]:void 0;if(r===a)return;let l=this.beans.columnModel.getCol(s);l&&this.dispatchCellChangedEvent(l,r,a)};for(let s in this.aggData)o(s);for(let s in i)s in this.aggData||o(s)}}updateHasChildren(){let i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){let o=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");i=!this.stub&&!this.footer&&(o?!!s&&s(this.data):!!this.group)}i!==this.__hasChildren&&(this.__hasChildren=!!i,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return(this.group&&Ei(this.childrenAfterGroup))??!1}dispatchCellChangedEvent(i,n,o){let s={type:"cellChanged",node:this,column:i,newValue:n,oldValue:o};this.localEventService?.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(n=>n.depthFirstSearch(i)),i(this)}calculateSelectedFromChildren(){let i=!1,n=!1,o=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){let r=this.childrenAfterGroup[s],a=r.isSelected();if(!r.selectable){let l=r.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:i=!0;break;case!1:n=!0;break;default:o=!0;break}}if(!(o||i&&n))return i?!0:n?!1:this.selectable?this.selected:null}setSelectedInitialValue(i){this.selected=i}dispatchRowEvent(i){let n={type:i,node:this};this.localEventService?.dispatchEvent(n)}selectThisNode(i,n,o="api"){let s=!this.selectable&&i,r=this.selected===i;if(s||r)return!1;this.selected=i,this.dispatchRowEvent("rowSelected");let a=this.sibling;return a&&a.footer&&a.localEventService&&a.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent(_e(D({},this.createGlobalRowEvent("rowSelected")),{event:n||null,source:o})),!0}setSelected(i,n=!1,o="api"){if(typeof o=="boolean"){L("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:i,clearSelection:n,rangeSelect:!1,source:o})}setSelectedParams(i){return this.rowPinned?(L("cannot select pinned rows"),0):this.id===void 0?(L("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(_e(D({},i),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(i){let n=this.parent;for(;n;){if(n===i)return!0;n=n.parent}return!1}addEventListener(i,n){this.localEventService||(this.localEventService=new na),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new yC(this.beans.frameworkOverrides));let o=this.frameworkEventListenerService?.wrap(n)??n;this.localEventService.addEventListener(i,o)}removeEventListener(i,n){if(!this.localEventService)return;let o=this.frameworkEventListenerService?.unwrap(n)??n;this.localEventService.removeEventListener(i,o),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}getFirstChildOfFirstChild(i){let n=this,o=!0,s=!1,r=null;for(;o&&!s;){let a=n.parent;W(a)&&n.firstChild?a.rowGroupColumn===i&&(s=!0,r=a):o=!1,n=a}return s?r:null}isFullWidthCell(){if(this.detail)return!0;let i=this.beans.gos.getCallback("isFullWidthRow");return i?i({rowNode:this}):!1}getRoute(){if(this.key==null)return;let i=[],n=this;for(;n&&n.key!=null;)i.push(n.key),n=n.parent;return i.reverse()}createFooter(){if(this.sibling)return;let i=new Kr(this.beans);Object.keys(this).forEach(n=>{sN.has(n)||(i[n]=this[n])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};return t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t})(),no=rN,aN=class extends A{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(t){this.columnModel=t.columnModel,this.dataTypeService=t.dataTypeService,this.quickFilterService=t.quickFilterService,this.advancedFilterService=t.advancedFilterService,this.columnFilterService=t.columnFilterService}postConstruct(){let t=this.refreshFiltersForAggregations.bind(this),e=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:t,columnPivotChanged:t,columnPivotModeChanged:t,newColumnsLoaded:e,columnVisible:e,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){let t=this.gos.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1}doesExternalFilterPass(t){let e=this.gos.get("doesExternalFilterPass");return typeof e=="function"?e(t):!1}setFilterModel(t,e="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}this.columnFilterService?.setFilterModel(t,e)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(t){t?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}onFilterChanged(t={}){let{source:e,additionalEventAttributes:i,columns:n=[]}=t;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(t):Ui.resolve()).then(()=>{let o={source:e,type:"filterChanged",columns:n};i&&an(o,i),this.eventService.dispatchEvent(o),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassAggregateFilters(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))}doesRowPassFilter(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))}isFilterActive(t){return!!this.columnFilterService?.isFilterActive(t)}getOrCreateFilterWrapper(t){return this.columnFilterService?.getOrCreateFilterWrapper(t)??null}getDefaultFloatingFilter(t){return this.columnFilterService.getDefaultFloatingFilter(t)}createFilterParams(t,e){return this.columnFilterService.createFilterParams(t,e)}isFilterAllowed(t){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.isFilterAllowed(t)}getFloatingFilterCompDetails(t,e){return this.columnFilterService?.getFloatingFilterCompDetails(t,e)}getCurrentFloatingFilterParentModel(t){return this.columnFilterService?.getCurrentFloatingFilterParentModel(t)}destroyFilter(t,e="api"){this.columnFilterService?.destroyFilter(t,e)}areFilterCompsDifferent(t,e){return!!this.columnFilterService?.areFilterCompsDifferent(t,e)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(t,e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:e,force:t})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(t,e){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return this.columnFilterService?.getFilterInstance(t,e)}getColumnFilterInstance(t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(t)??Promise.resolve(void 0)}warnAdvancedFilters(){L("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(t){this.advancedFilterService?.getCtrl().setupHeaderComp(t)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(t=>this.setAdvancedFilterModel(t)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(t){return this.columnFilterService?.getColumnFilterModel(t)}setColumnFilterModel(t,e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(t,e)??Promise.resolve()}},lN=class extends ot{constructor(t,e){super('<div class="ag-filter"></div>'),this.column=t,this.source=e,this.filterWrapper=null}wireBeans(t){this.filterManager=t.filterManager,this.columnModel=t.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??Ui.resolve()}afterGuiAttached(t){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiAttached?.(t)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiDetached?.()})}createFilter(t){let{column:e,source:i}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(e)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(n=>{let o=n.getGui();W(o)||L(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),t&&this.eventService.dispatchEvent({type:"filterOpened",column:e,source:i,eGui:this.getGui()})})}onFilterDestroyed(t){(t.source==="api"||t.source==="paramsUpdated")&&t.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(ri(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},ZR="ag-resizer-wrapper",jo=(t,e)=>`<div data-ref="${t}Resizer" class="ag-resizer ag-resizer-${e}"></div>`,cN=`<div class="${ZR}">
        ${jo("eTopLeft","topLeft")}
        ${jo("eTop","top")}
        ${jo("eTopRight","topRight")}
        ${jo("eRight","right")}
        ${jo("eBottomRight","bottomRight")}
        ${jo("eBottom","bottom")}
        ${jo("eBottomLeft","bottomLeft")}
        ${jo("eLeft","left")}
    </div>`,dN=class extends A{constructor(t,e){super(),this.element=t,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},e)}wireBeans(t){this.popupService=t.popupService,this.resizeObserverService=t.resizeObserverService,this.dragService=t.dragService}center(){let{clientHeight:t,clientWidth:e}=this.offsetParent,i=e/2-this.getWidth()/2,n=t/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;let{centered:t,forcePopupParentAsOffsetParent:e,minWidth:i,width:n,minHeight:o,height:s,x:r,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0,d=wn(this.element);if(d){let u=this.findBoundaryElement(),p=window.getComputedStyle(u);if(p.minWidth!=null){let m=u.offsetWidth-this.element.offsetWidth;c=parseInt(p.minWidth,10)-m}if(p.minHeight!=null){let m=u.offsetHeight-this.element.offsetHeight;l=parseInt(p.minHeight,10)-m}}if(this.minHeight=o||l,this.minWidth=i||c,n&&this.setWidth(n),s&&this.setHeight(s),(!n||!s)&&this.refreshSize(),t)this.center();else if(r||a)this.offsetElement(r,a);else if(d&&e){let u=this.boundaryEl,p=!0;if(u||(u=this.findBoundaryElement(),p=!1),u){let m=parseFloat(u.style.top),y=parseFloat(u.style.left);p?this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m):this.setPosition(y,m)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable)return;this.movable=t;let i=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(t){if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(e=>{let n=!!t[e],o=this.getResizerElement(e),s={dragStartPixels:0,eElement:o,onDragStart:r=>this.onResizeStart(r,e),onDragging:this.onResize.bind(this),onDragStop:r=>this.onResizeEnd(r,e)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(s),this.resizeListeners.push(s),o.style.pointerEvents="all"):o.style.pointerEvents="none",this.resizable[e]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:t,width:e}=this.lastSize;e!==-1&&(this.element.style.width=`${e}px`),t!==-1&&(this.element.style.height=`${t}px`)}getHeight(){return this.element.offsetHeight}setHeight(t){let{popup:e}=this.config,i=this.element,n=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)nc(i,t),t=FR(i),n=!0;else if(t=Math.max(this.minHeight,t),this.positioned){let o=this.getAvailableHeight();o&&t>o&&(t=o)}this.getHeight()!==t&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):e?nc(i,t):(i.style.height=`${t}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))}getAvailableHeight(){let{popup:t,forcePopupParentAsOffsetParent:e}=this.config;this.positioned||this.initialisePosition();let{clientHeight:i}=this.offsetParent;if(!i)return null;let n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=t?this.position.y:n.top,r=t?0:o.top,a=0;if(e){let c=this.element.parentElement;if(c){let{bottom:d}=c.getBoundingClientRect();a=d-n.bottom}}return i+r-s-a}getWidth(){return this.element.offsetWidth}setWidth(t){let e=this.element,{popup:i}=this.config,n=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)yn(e,t),t=lh(e),n=!0;else if(this.positioned){t=Math.max(this.minWidth,t);let{clientWidth:o}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;o&&t+s>o&&(t=o-s)}this.getWidth()!==t&&(n?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?yn(e,t):(e.style.width=`${t}px`,e.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))}offsetElement(t=0,e=0){let{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(t){if(!this.config.forcePopupParentAsOffsetParent)return;let e=()=>{let i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),e):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(t,e){this.position.x=t,this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){let{e,isLeft:i,isTop:n,anywhereWithin:o,topBuffer:s}=t,r=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y,l=this.shouldSkipX(e,!!i,!!o,r)?0:r,c=this.shouldSkipY(e,!!n,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(t,e,i,n){let o=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:o.left,l=a<=0&&s.left>=t.clientX||s.right<=t.clientX&&s.right<=r.right;return l?!0:(e?l=n<0&&t.clientX>a+s.left||n>0&&t.clientX<a+s.left:i?l=n<0&&t.clientX>r.right||n>0&&t.clientX<a+s.left:l=n<0&&t.clientX>r.right||n>0&&t.clientX<r.right,l)}shouldSkipY(t,e,i=0,n){let o=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:o.top,l=a<=0&&s.top>=t.clientY||s.bottom<=t.clientY&&s.bottom<=r.bottom;return l?!0:(e?l=n<0&&t.clientY>a+s.top+i||n>0&&t.clientY<a+s.top:l=n<0&&t.clientY>r.bottom||n>0&&t.clientY<r.bottom,l)}createResizeMap(){let t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[data-ref=eTopLeftResizer]")},top:{element:t.querySelector("[data-ref=eTopResizer]")},topRight:{element:t.querySelector("[data-ref=eTopRightResizer]")},right:{element:t.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:t.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:t.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;let t=this.element;if(!t)return;let i=new DOMParser().parseFromString(cN,"text/html").body;t.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;let t=this.element.querySelector(`.${ZR}`);t&&this.element.removeChild(t),this.resizersAdded=!1}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");let{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){let e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let t=this.getSiblings()||[],e=0,i=0;for(let n=0;n<t.length;n++){let o=t[n],s=!!o.style.flex&&o.style.flex!=="0 0 auto";if(o===this.element)continue;let r=this.minHeight||0,a=this.minWidth||0;if(s){let l=window.getComputedStyle(o);l.minHeight&&(r=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else r=o.offsetHeight,a=o.offsetWidth;e+=r,i+=a}return{height:e,width:i}}applySizeToSiblings(t){let e=null,i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){let o=i[n];o!==e&&(t?o.style.height=`${o.offsetHeight}px`:o.style.width=`${o.offsetWidth}px`,o.style.flex="0 0 auto",o===this.element&&(e=i[n+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(t=>t)}onResize(t){if(!this.isResizing||!this.currentResizer)return;let{popup:e,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:o,isBottom:s,isLeft:r}=this.currentResizer,a=o||r,l=s||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e:t,isLeft:r,isTop:n}),u=this.position.x,p=this.position.y,m=0,y=0;if(a&&c){let R=r?-1:1,S=this.getWidth(),k=S+c*R,P=!1;r&&(m=S-k,(u+m<=0||k<=this.minWidth)&&(P=!0,m=0)),P||this.setWidth(k)}if(l&&d){let R=n?-1:1,S=this.getHeight(),k=S+d*R,P=!1;n?(y=S-k,(p+y<=0||k<=this.minHeight)&&(P=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<k&&this.getMinSizeOfSiblings().height+k>this.element.parentElement.offsetHeight&&(P=!0),P||this.setHeight(k)}this.updateDragStartPosition(t.clientX,t.clientY),((e||i)&&m||y)&&this.offsetElement(u+m,p+y)}onResizeEnd(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))}onMoveStart(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving)return;let{x:e,y:i}=this.position,n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());let{movementX:o,movementY:s}=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(e+o,i+s),this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let t=this.element;for(;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},uN=(()=>{let t=class JR extends A{constructor(i,n={}){super(),this.eFocusableElement=i,this.callbacks=n,this.callbacks=D({shouldStopEventPropagation:()=>!1,onTabKeyDown:o=>{if(o.defaultPrevented)return;let s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,o.shiftKey);s&&(s.focus(),o.preventDefault())}},n)}wireBeans(i){this.focusService=i.focusService}postConstruct(){this.eFocusableElement.classList.add(JR.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(i){this.addManagedElementListeners(i,{keydown:n=>{if(!(n.defaultPrevented||to(n))){if(this.callbacks.shouldStopEventPropagation(n)){Jr(n);return}n.key===N.TAB?this.callbacks.onTabKeyDown(n):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(n)}}})}};return t.FOCUS_MANAGED_CLASS="ag-focus-managed",t})(),Ls=uN,ex={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function NC(t,e){return ph(t)?(t.debounceMs!=null&&L("debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:e}function ph(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}var hN=class extends ot{constructor(t){super(),this.filterNameKey=t,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=ae,this.buttonListeners=[]}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Ls(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new dN(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit);let i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),t),e=this.getGui(),e&&e.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=ph(t),this.resetButtonsPanel(t)}updateParams(t){this.providedFilterParams=t,this.applyActive=ph(t),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(t,e){let{buttons:i,readOnly:n}=e??{},{buttons:o,readOnly:s}=t;if(n===s&&ac(i,o))return;let r=o&&o.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(ri(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):r&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!r){this.eButtonsPanel&&cn(this.eButtonsPanel);return}let a=document.createDocumentFragment(),l=c=>{let d,u;switch(c){case"apply":d=this.translate("applyFilter"),u=y=>this.onBtApply(!1,!1,y);break;case"clear":d=this.translate("clearFilter"),u=()=>this.onBtClear();break;case"reset":d=this.translate("resetFilter"),u=()=>this.onBtReset();break;case"cancel":d=this.translate("cancelFilter"),u=y=>{this.onBtCancel(y)};break;default:L("Unknown button type specified");return}let m=ta(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${d}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(m,{click:u})),a.append(m)};o.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){let t=NC(this.providedFilterParams,this.getDefaultDebounceMs()),e=fi(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,e()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){return(t!=null?this.setModelIntoUi(t):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(t)})}handleCancelEnd(t){this.providedFilterParams.closeOnApply&&this.close(t)}resetUiToActiveModel(t,e){let i=()=>{this.onUiChanged(!1,"prevent"),e?.()};t!=null?this.setModelIntoUi(t).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(t="api"){let e=this.getModelFromUi();if(!this.isModelValid(e))return!1;let i=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(i,e)}isModelValid(t){return!0}onFormSubmit(t){t.preventDefault()}onBtApply(t=!1,e=!1,i){i&&i.preventDefault(),this.applyModel(e?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e,source:"columnFilter"});let{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!t&&!e&&this.close(i)}onNewRowsLoaded(){}close(t){if(!this.hidePopup)return;let e=t,i=e&&e.key,n;(i==="Enter"||i==="Space")&&(n={keyboardEvent:e}),this.hidePopup(n),this.hidePopup=null}onUiChanged(t=!1,e){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let i=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&uc(n,!i)}t&&!e||e==="immediately"?this.onBtApply(t):(!this.applyActive&&!e||e==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t?.container)}refreshFilterResizer(t){if(!this.positionableFeature||t==="toolPanel")return;let e=t==="floatingFilter"||t==="columnFilter",{positionableFeature:i,gos:n}=this;e?(i.restoreLastSize(),i.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(t){let e=this.providedFilterParams;return this.providedFilterParams=t,this.resetButtonsPanel(t,e),!0}destroy(){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(t){return this.localeService.getLocaleTextFunc()(t,ex[t])}getCellValue(t){return this.providedFilterParams.getValue(t)}getPositionableElement(){return this.eFilterBody}},pN=class extends AC{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)}},fN=class extends ot{constructor(t="default",e=!1){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.unFocusable=e,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let t=this.getGui();this.addManagedElementListeners(t,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(t,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(t){let e=t.key;switch(e){case N.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case N.DOWN:case N.UP:t.preventDefault(),this.navigate(e);break;case N.PAGE_DOWN:case N.PAGE_UP:case N.PAGE_HOME:case N.PAGE_END:t.preventDefault(),this.navigateToPage(e);break}}navigate(t){let e=t===N.DOWN,i;if(!this.highlightedEl)i=this.itemEls[e?0:this.itemEls.length-1];else{let o=this.itemEls.indexOf(this.highlightedEl)+(e?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),i=this.itemEls[o]}this.highlightItem(i)}navigateToPage(t){if(!this.highlightedEl||this.itemEls.length===0)return;let e=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,n=this.itemEls[0].clientHeight,o=Math.floor(this.getGui().clientHeight/n),s=-1;t===N.PAGE_HOME?s=0:t===N.PAGE_END?s=i:t===N.PAGE_DOWN?s=Math.min(e+o,i):t===N.PAGE_UP&&(s=Math.max(e-o,0)),s!==-1&&this.highlightItem(this.itemEls[s])}addOptions(t){return t.forEach(e=>this.addOption(e)),this}addOption(t){let{value:e,text:i}=t,n=i||e;return this.options.push({value:e,text:n}),this.renderOption(e,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(t=>{cn(t)}),this.itemEls=[]}updateIndices(){let t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((e,i)=>{HO(e,i+1),WO(e,t.length)})}renderOption(t,e){let i=this.gos.getDocument(),n=i.createElement("div");Di(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let o=i.createElement("span");n.appendChild(o),o.textContent=e,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(t)}}),this.createManagedBean(new oa({getTooltipValue:()=>e,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>o.scrollWidth>o.clientWidth})),this.getGui().appendChild(n)}setValue(t,e){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(e),this;let i=this.options.findIndex(n=>n.value===t);if(i!==-1){let n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[i]),e||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let t=this.options.findIndex(e=>e.value===this.value);t!==-1&&this.highlightItem(this.itemEls[t])}reset(t){this.value=null,this.displayValue=null,this.clearHighlighted(),t||this.fireChangeEvent()}highlightItem(t){if(!wn(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(this.activeClass),ah(this.highlightedEl,!0);let e=this.getGui(),{scrollTop:i,clientHeight:n}=e,{offsetTop:o,offsetHeight:s}=t;(o+s>i+n||o<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!wn(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),ah(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},mN=class extends jR{constructor(t){if(super(t,t?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,t?.agComponents||[],t?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=ae,this.eWrapper=ae,this.eDisplayField=ae,this.eIcon=ae,this.ariaRole=t?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!t)return;let{pickerGap:e,maxPickerHeight:i,variableWidth:n,minPickerWidth:o,maxPickerWidth:s}=t;e!=null&&(this.pickerGap=e),this.variableWidth=!!n,i!=null&&this.setPickerMaxHeight(i),o!=null&&this.setPickerMinWidth(o),s!=null&&this.setPickerMaxWidth(s)}wireBeans(t){this.popupService=t.popupService}postConstruct(){super.postConstruct(),this.setupAria();let t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t);let e=this.getAriaElement();this.addManagedElementListeners(e,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:i,inputWidth:n}=this.config;if(i){let o=zi(i,this.gos);o&&this.eIcon.appendChild(o)}n!=null&&this.setInputWidth(n)}setupAria(){let t=this.getAriaElement();t.setAttribute("tabindex",this.gos.get("tabIndex").toString()),rh(t,!1),this.ariaRole&&Di(t,this.ariaRole)}onLabelOrWrapperMouseDown(t){if(t){let e=this.getFocusableElement();if(e!==this.eWrapper&&t?.target===e)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(t){switch(t.key){case N.UP:case N.DOWN:case N.ENTER:case N.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case N.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let e=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:o=!0}=this.config,s={modal:o,eChild:t,closeOnEsc:!0,closedCallback:()=>{let p=this.gos.isNothingFocused();this.beforeHidePicker(),p&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:e(i,n),anchorToElement:this.eWrapper};t.style.position="absolute";let r=this.popupService.addPopup(s),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:d}=this;d?(l&&(t.style.minWidth=l),t.style.width=kC(lh(this.eWrapper)),c&&(t.style.maxWidth=c)):hh(t,c??lh(this.eWrapper));let u=a??`${IC(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",u),this.alignPickerToComponent(),r.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerType:t}=this.config,{pickerGap:e}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(t){if(!this.isAlive())return;let e=this.getAriaElement();rh(e,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(t){this.pickerComponent?.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(t){return hh(this.eWrapper,t),this}getFocusableElement(){return this.eWrapper}setPickerGap(t){return this.pickerGap=t,this}setPickerMinWidth(t){return typeof t=="number"&&(t=`${t}px`),this.minPickerWidth=t??void 0,this}setPickerMaxWidth(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerWidth=t??void 0,this}setPickerMaxHeight(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerHeight=t??void 0,this}destroy(){this.hidePicker(),super.destroy()}},LC=class extends mN{constructor(t){super(D({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:t,value:e,placeholder:i}=this.config;t!=null&&this.addOptions(t),e!=null&&this.setValue(e,!0),i&&e==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new fN("select",!0)),this.listComponent.setParentComponent(this);let t=this.listComponent.getAriaElement(),e=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",e),XO(this.getAriaElement(),t),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(t){let{key:e}=t;switch(e===N.TAB&&this.hidePicker(),e){case N.ENTER:case N.UP:case N.DOWN:case N.PAGE_UP:case N.PAGE_DOWN:case N.PAGE_HOME:case N.PAGE_END:t.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(t):super.onKeyDown(t);break;case N.ESCAPE:super.onKeyDown(t);break;case N.SPACE:this.isPickerDisplayed?t.preventDefault():super.onKeyDown(t);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(t){return t.forEach(e=>this.addOption(e)),this}addOption(t){return this.listComponent.addOption(t),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(t,e,i){if(this.value===t||!this.listComponent)return this;if(i||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue())return this;let o=this.listComponent.getDisplayValue();return o==null&&this.config.placeholder&&(o=this.config.placeholder),this.eDisplayField.textContent=o,this.setTooltip({newTooltipText:o??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(t,e)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},gN={selector:"AG-SELECT",component:LC},tx=class{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(t=>{if(typeof t=="string")return;let e=[["displayKey"],["displayName"],["predicate","test"]],i=n=>n.some(o=>t[o]!=null)?!0:(L(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!e.every(i)){this.filterOptions=this.filterOptions.filter(n=>n===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){let e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:L("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else L("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}},ix=class extends hN{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){let e=this.optionsFactory.getCustomOption(t);if(e){let{numberOfInputs:n}=e;return n??1}return t&&["empty","notBlank","blank"].indexOf(t)>=0?0:t==="inRange"?2:1}onFloatingFilterChanged(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((e,i)=>{i===0?e.setValue(t,!0):e.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){let t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;let i=!t.operator,n=!e.operator;if(!i&&n||i&&!n)return!1;let s;if(i){let r=t,a=e;s=this.areSimpleModelsEqual(r,a)}else{let r=t,a=e;s=r.operator===a.operator&&Os(r.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}shouldRefresh(t){let e=this.getModel(),i=e?e.conditions??[e]:null,n=t.filterOptions?.map(s=>typeof s=="string"?s:s.displayKey)??this.getDefaultFilterOptions();return!(!(!i||i.every(s=>n.find(r=>r===s.type)!==void 0))||typeof t.maxNumConditions=="number"&&i&&i.length>t.maxNumConditions)}refresh(t){return!this.shouldRefresh(t)||!super.refresh(t)?!1:(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(t){if(t.operator){let i=t,n=i.conditions;n==null&&(n=[],L("Filter model is missing 'conditions'"));let o=this.validateAndUpdateConditions(n),s=this.getNumConditions();if(o<s)this.removeConditionsAndOperators(o);else if(o>s)for(let a=s;a<o;a++)this.createJoinOperatorPanel(),this.createOption();let r=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!r,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(r,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{let i=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Ui.resolve()}validateAndUpdateConditions(t){let e=t.length;return e>this.maxNumConditions&&(t.splice(this.maxNumConditions),L('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),e=this.maxNumConditions),e}doesFilterPass(t){let e=this.getModel();if(e==null)return!0;let{operator:i}=e,n=[];if(i){let s=e;n.push(...s.conditions??[])}else n.push(e);return n[i&&i==="OR"?"some":"every"](s=>this.individualConditionPasses(t,s))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new tx,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(t){this.maxNumConditions=t.maxNumConditions??2,this.maxNumConditions<1&&(L('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=t.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(L('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(L('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){let t=this.createManagedBean(new LC);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());let e=this.createValueElement();this.eConditionBodies.push(e),this.eFilterBody.appendChild(e),this.putOptionsIntoDropdown(t),this.resetType(t);let i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){let t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");let e=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);let n=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(e,n,o),this.resetJoinOperatorOr(i,n,o),this.isReadOnly()||(e.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(t,e,i){let n=this.createManagedBean(new pN);return t.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${i}`),e.appendChild(n.getGui()),n}getDefaultJoinOperator(t){return t==="AND"||t==="OR"?t:"AND"}createFilterListOptions(){let t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(e=>{t.addOption(e)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){let{displayKey:e}=t,i=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(e)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){let t=-1,e=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?t=i:e=!1;if(this.shouldAddNewConditionAtEnd(e))this.createJoinOperatorPanel(),this.createOption();else{let i=this.lastUiCompletePosition??this.getNumConditions()-2;if(t<i){this.removeConditionsAndOperators(i+1);let n=t+1,o=i-n;o>0&&this.removeConditionsAndOperators(n,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(t,e){this.eTypes.forEach((n,o)=>{let s=this.isConditionDisabled(o,t);n.setDisabled(s||this.filterListOptions.length<=1),o===1&&(uc(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((n,o)=>{wt(n,this.isConditionBodyVisible(o))});let i=(e??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(i,!0)}),this.forEachInput((n,o,s,r)=>{this.setElementDisplayed(n,o<r),this.setElementDisabled(n,this.isConditionDisabled(s,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,e){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,e),this.removeElements(this.eConditionBodies,t,e),this.removeValueElements(t,e);let i=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,i,e),this.removeComponents(this.eJoinOperatorsAnd,i,e),this.removeComponents(this.eJoinOperatorsOr,i,e)}removeElements(t,e,i){this.removeItems(t,e,i).forEach(o=>cn(o))}removeComponents(t,e,i){this.removeItems(t,e,i).forEach(o=>{cn(o.getGui()),this.destroyBean(o)})}removeItems(t,e,i){return i==null?t.splice(e):t.splice(e,i)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!t?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{let e=this.getInputs(0)[0];if(!e)return;e instanceof ks&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();let t=this.getModel();this.resetUiToActiveModel(t);let e=-1,i=-1,n=!1,o=this.getJoinOperator();for(let r=this.getNumConditions()-1;r>=0;r--)if(this.isConditionUiComplete(r))e===-1&&(e=r,i=r);else{let a=r>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(r-1),l=r<e;(a||l)&&(this.removeConditionsAndOperators(r,1),n=!0,l&&i--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(i,o),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(t,e){let i=this.translate(t);if(SC(this.filterPlaceholder)){let n=this.filterPlaceholder,o=this.eTypes[e].getValue(),s=this.translate(o);i=n({filterOptionKey:o,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){let t=this.localeService.getLocaleTextFunc();this.forEachInput((e,i,n,o)=>{if(!(e instanceof ks))return;let s=i===0&&o>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",r=i===0&&o>1?t("ariaFilterFromValue","Filter from value"):i===0?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");e.setInputPlaceholder(this.getPlaceholderText(s,n)),e.setInputAriaLabel(r)})}setElementValue(t,e,i){t instanceof ks&&t.setValue(e!=null?String(e):null,!0)}setElementDisplayed(t,e){t instanceof ot&&wt(t.getGui(),e)}setElementDisabled(t,e){t instanceof ot&&uc(t.getGui(),e)}attachElementOnChange(t,e){t instanceof ks&&t.onValueChange(e)}forEachInput(t){this.getConditionTypes().forEach((e,i)=>{this.forEachPositionTypeInput(i,e,t)})}forEachPositionInput(t,e){let i=this.getConditionType(t);this.forEachPositionTypeInput(t,i,e)}forEachPositionTypeInput(t,e,i){let n=this.getNumberOfInputs(e),o=this.getInputs(t);for(let s=0;s<o.length;s++){let r=o[s];r!=null&&i(r,s,t,n)}}isConditionDisabled(t,e){return this.isReadOnly()?!0:t===0?!1:t>e+1}isConditionBodyVisible(t){let e=this.getConditionType(t);return this.getNumberOfInputs(e)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)==="empty"||this.getValues(t).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let t=[];for(let e=0;e<this.getNumConditions();e++)this.isConditionUiComplete(e)&&t.push(this.createCondition(e));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(e=>this.resetType(e)),this.eJoinOperatorsAnd.forEach((e,i)=>this.resetJoinOperatorAnd(e,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((e,i)=>this.resetJoinOperatorOr(e,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(e=>this.resetInput(e)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Ui.resolve()}resetType(t){let i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,e,i){this.resetJoinOperator(t,e,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(t,e,i){this.resetJoinOperator(t,e,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(t,e,i,n,o){this.updateJoinOperatorDisabled(t.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(n),e)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,e)=>this.updateJoinOperatorDisabled(t,e)),this.eJoinOperatorsOr.forEach((t,e)=>this.updateJoinOperatorDisabled(t,e))}updateJoinOperatorDisabled(t,e){t.setDisabled(this.isReadOnly()||e>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,e){let i=this.mapValuesFromModel(t);this.forEachInput((n,o,s)=>{s===e&&this.setElementValue(n,i[o]!=null?i[o]:null)})}setValueFromFloatingFilter(t){this.forEachInput((e,i,n)=>{this.setElementValue(e,i===0&&n===0?t:null,!0)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,e){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(e,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(t,e){let i=this.getCellValue(t.node),n=this.mapValuesFromModel(e),o=this.optionsFactory.getCustomOption(e.type),s=this.evaluateCustomFilter(o,n,i);return s??(i==null?this.evaluateNullValue(e.type):this.evaluateNonNullValue(n,i,e,t))}evaluateCustomFilter(t,e,i){if(t==null)return;let{predicate:n}=t;if(n!=null&&!e.some(o=>o==null))return n(e,i)}isBlank(t){return t==null||typeof t=="string"&&t.trim().length===0}hasInvalidInputs(){return!1}},nx=class extends ix{setParams(t){super.setParams(t),this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case"equals":case"notEqual":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(t,e,i){let n=this.comparator(),o=t[0]!=null?n(t[0],e):0;switch(i.type){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{let s=n(t[1],e);return this.scalarFilterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case"blank":return this.isBlank(e);case"notBlank":return!this.isBlank(e);default:return L('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},vN=65,CN=67,bN=86,yN=68,wN=90,_N=89;function ox(t){return t.altKey||t.ctrlKey||t.metaKey?!1:t.key?.length===1}function mC(t,e,i,n,o){let s=n?n.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;let r=t.addGridCommonParams({event:e,editing:o,column:n,node:i,data:i.data,colDef:n.getColDef()});return!!(s&&s(r))}function SN(t,e,i,n){let o=n.getDefinition(),s=o&&o.suppressHeaderKeyboardEvent;if(!W(s))return!1;let r=t.addGridCommonParams({colDef:o,column:n,headerRowIndex:i,event:e});return!!s(r)}function RN(t){let{keyCode:e}=t,i;switch(e){case vN:i=N.A;break;case CN:i=N.C;break;case bN:i=N.V;break;case yN:i=N.D;break;case wN:i=N.Z;break;case _N:i=N.Y;break;default:i=t.code}return i}function xN(t,e=!1){return t===N.DELETE?!0:!e&&t===N.BACKSPACE?kR():!1}var Bs=class extends ks{constructor(t,e="ag-text-field",i="text"){super(t,e,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(t,e){return this.eInput.value!==t&&(this.eInput.value=W(t)?t:""),super.setValue(t,e)}setStartValue(t){this.setValue(t,!0)}preventDisallowedCharacters(){let t=new RegExp(`[${this.config.allowedCharPattern}]`),e=i=>{ox(i)&&i.key&&!t.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:e,paste:i=>{let n=i.clipboardData?.getData("text");n&&n.split("").some(o=>!t.test(o))&&i.preventDefault()}})}},fh={selector:"AG-INPUT-TEXT-FIELD",component:Bs},BC=class extends Bs{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{let o=parseFloat(this.eInput.value),s=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";let{precision:t,min:e,max:i,step:n}=this.config;typeof t=="number"&&this.setPrecision(t),typeof e=="number"&&this.setMin(e),typeof i=="number"&&this.setMax(i),typeof n=="number"&&this.setStep(n)}onWheel(t){this.gos.getActiveDomElement()===this.eInput&&t.preventDefault()}normalizeValue(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));let e=parseFloat(t);return this.min!=null&&e<this.min?t=this.min.toString():this.max!=null&&e>this.max&&(t=this.max.toString()),t}adjustPrecision(t,e){if(this.precision==null)return t;if(e){let n=parseFloat(t).toFixed(this.precision);return parseFloat(n).toString()}let i=String(t).split(".");if(i.length>1){if(i[1].length<=this.precision)return t;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(t){return this.min===t?this:(this.min=t,un(this.eInput,"min",t),this)}setMax(t){return this.max===t?this:(this.max=t,un(this.eInput,"max",t),this)}setPrecision(t){return this.precision=t,this}setStep(t){return this.step===t?this:(this.step=t,un(this.eInput,"step",t),this)}setValue(t,e){return this.setValueOrInputValue(i=>super.setValue(i,e),()=>this,t)}setStartValue(t){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},t)}setValueOrInputValue(t,e,i){if(W(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return t(i);if(!n){i=this.adjustPrecision(i);let o=this.normalizeValue(i);n=i!=o}if(n)return e(i)}return t(i)}getValue(){if(!this.eInput.validity.valid)return;let t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(t){return typeof t=="string"&&t.includes("e")}},EN={selector:"AG-INPUT-NUMBER-FIELD",component:BC},sx=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],VC=class{constructor(t,e,i){this.localeService=t,this.optionsFactory=e,this.valueFormatter=i}getModelAsString(t){if(!t)return null;let e=t.operator!=null,i=this.localeService.getLocaleTextFunc();if(e){let n=t,s=(n.conditions??[]).map(a=>this.getModelAsString(a)),r=n.operator==="AND"?"andCondition":"orCondition";return s.join(` ${i(r,ex[r])} `)}else{if(t.type==="blank"||t.type==="notBlank")return i(t.type,t.type);{let n=t,o=this.optionsFactory.getCustomOption(n.type),{displayKey:s,displayName:r,numberOfInputs:a}=o||{};return s&&r&&a===0?(i(s,r),r):this.conditionToString(n,o)}}}updateParams(t){this.optionsFactory=t.optionsFactory}formatValue(t){return this.valueFormatter?this.valueFormatter(t??null)??"":String(t)}},rx=class extends VC{conditionToString(t,e){let{numberOfInputs:i}=e||{};return t.type=="inRange"||i===2?`${this.formatValue(t.filter)}-${this.formatValue(t.filterTo)}`:t.filter!=null?this.formatValue(t.filter):`${t.type}`}};function gC(t){let{allowedCharPattern:e}=t??{};return e??null}var DN=class extends nx{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:super.refresh(t)}mapValuesFromModel(t){let{filter:e,filterTo:i,type:n}=t||{};return[this.processValue(e),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(t,e)=>t===e?0:t<e?1:-1}setParams(t){this.numberFilterParams=t,super.setParams(t),this.filterModelFormatter=new rx(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return sx}setElementValue(t,e,i){let n=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(e??null):e;super.setElementValue(t,n)}createValueElement(){let t=gC(this.numberFilterParams),e=document.createElement("div");return e.classList.add("ag-filter-body"),Di(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from",t),this.createFromToElement(e,this.eValuesTo,"to",t),e}createFromToElement(t,e,i,n){let o=this.createManagedBean(n?new Bs({allowedCharPattern:n}):new BC);o.addCssClass(`ag-filter-${i}`),o.addCssClass("ag-filter-filter"),e.push(o),t.appendChild(o.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)}getValues(t){let e=[];return this.forEachPositionInput(t,(i,n,o,s)=>{n<s&&e.push(this.processValue(this.stringToFloat(i.getValue())))}),e}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getFilterType(){return"number"}processValue(t){return t==null||isNaN(t)?null:t}stringToFloat(t){if(typeof t=="number")return t;let e=io(t);return e!=null&&e.trim()===""&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):e==null||e.trim()==="-"?null:parseFloat(e)}createCondition(t){let e=this.getConditionType(t),i={filterType:this.getFilterType(),type:e},n=this.getValues(t);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}hasInvalidInputs(){let t=!1;return this.forEachInput(e=>{if(!e.getInputElement().validity.valid){t=!0;return}}),t}},ax=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],lx=class extends VC{conditionToString(t,e){let{numberOfInputs:i}=e||{};return t.type=="inRange"||i===2?`${t.filter}-${t.filterTo}`:t.filter!=null?`${t.filter}`:`${t.type}`}};function cx(t){let e=t&&t.trim();return e===""?t:e}var TN=class extends ix{constructor(){super("textFilter"),this.defaultFormatter=t=>t,this.defaultLowercaseFormatter=t=>t==null?null:t.toString().toLowerCase(),this.defaultMatcher=({filterOption:t,value:e,filterText:i})=>{if(i==null)return!1;switch(t){case"contains":return e.indexOf(i)>=0;case"notContains":return e.indexOf(i)<0;case"equals":return e===i;case"notEqual":return e!=i;case"startsWith":return e.indexOf(i)===0;case"endsWith":{let n=e.lastIndexOf(i);return n>=0&&n===e.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new lx(this.localeService,this.optionsFactory)}getTextMatcher(){let t=this.textFilterParams.textCustomComparator;return t?(L("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:e,value:i,filterText:n})=>t(e,i,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(t){let e=this.getConditionType(t),i={filterType:this.getFilterType(),type:e},n=this.getValuesWithSideEffects(t,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){return this.getValuesWithSideEffects(t,!1)}getValuesWithSideEffects(t,e){let i=[];return this.forEachPositionInput(t,(n,o,s,r)=>{if(o<r){let a=io(n.getValue());e&&this.textFilterParams.trimInput&&(a=cx(a)??null,n.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return ax}createValueElement(){let t=document.createElement("div");return t.classList.add("ag-filter-body"),Di(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t}createFromToElement(t,e,i){let n=this.createManagedBean(new Bs);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),e.push(n),t.appendChild(n.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)}mapValuesFromModel(t){let{filter:e,filterTo:i,type:n}=t||{};return[e||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(t){return t?["notEqual","notContains","blank"].indexOf(t)>=0:!1}evaluateNonNullValue(t,e,i,n){let o=t.map(p=>this.formatter(p))||[],s=this.formatter(e),{api:r,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if(i.type==="blank")return this.isBlank(e);if(i.type==="notBlank")return!this.isBlank(e);let u={api:r,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:i.type,value:s,textFormatter:d};return o.some(p=>this.matcher(_e(D({},u),{filterText:p})))}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}};function dx(t){if(typeof t=="number")return t;if(typeof t=="string"){let e=parseInt(t);return isNaN(e)?void 0:e}}function An(t,e=Number.MAX_VALUE){return i=>{let n=dx(i);if(!(n==null||n<t||n>e))return n}}function sc(t,e){return t.toString().padStart(e,"0")}function IN(t,e){let i=[];for(let n=t;n<=e;n++)i.push(n);return i}function kN(t,e,i){return typeof t!="number"?"":t.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function hn(t,e=!0,i="-"){if(!t)return null;let n=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(o=>sc(o,2)).join(i);return e&&(n+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(o=>sc(o,2)).join(":")),n}var Qv=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function rc(t,e="YYYY-MM-DD"){let i=sc(t.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>n[t.getMonth()],MMM:()=>n[t.getMonth()].slice(0,3),MM:()=>sc(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${Qv(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${Qv(t.getDate())}`,DD:()=>sc(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>o[t.getDay()],ddd:()=>o[t.getDay()].slice(0,3),dd:()=>o[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${Qv(t.getDay())}`,d:()=>`${t.getDay()}`},r=new RegExp(Object.keys(s).join("|"),"g");return e.replace(r,a=>a in s?s[a]():a)}function xi(t){if(!t)return null;let[e,i]=t.split(" ");if(!e)return null;let n=e.split("-").map(u=>parseInt(u,10));if(n.filter(u=>!isNaN(u)).length!==3)return null;let[o,s,r]=n,a=new Date(o,s-1,r);if(a.getFullYear()!==o||a.getMonth()!==s-1||a.getDate()!==r)return null;if(!i||i==="00:00:00")return a;let[l,c,d]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var ux=class{constructor(t,e,i,n,o){this.alive=!0,this.context=t,this.eParent=n,e.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){t.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),o?.(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t}setDisabled(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t}setDisplayed(t){wt(this.eParent,t)}setInputPlaceholder(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)}setInputAriaLabel(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)}afterGuiAttached(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)}updateParams(t){let e=!1;this.dateComp?.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(t)!==null&&(e=!0),!e&&this.dateComp?.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(t)!==null&&L("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)}},hx=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],px=class extends VC{constructor(t,e,i){super(e,i),this.dateFilterParams=t}conditionToString(t,e){let{type:i}=t,{numberOfInputs:n}=e||{},o=i=="inRange"||n===2,s=xi(t.dateFrom),r=xi(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(o){let l=s!==null?rc(s,a):"null",c=r!==null?rc(r,a):"null";return`${l}-${c}`}return s!=null?rc(s,a):`${i}`}updateParams(t){super.updateParams(t),this.dateFilterParams=t.dateFilterParams}},KS=1e3,qS=1/0,MN=class extends nx{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=KS,this.maxValidYear=qS,this.minValidDate=null,this.maxValidDate=null}wireBeans(t){super.wireBeans(t),this.context=t.context,this.userComponentFactory=t.userComponentFactory}afterGuiAttached(t){super.afterGuiAttached(t),this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){let{dateFrom:e,dateTo:i,type:n}=t||{};return[e&&xi(e)||null,i&&xi(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,e){let i=e;return e==null||i<t?-1:i>t?1:0}setParams(t){this.dateFilterParams=t,super.setParams(t);let e=(i,n)=>{if(t[i]!=null)if(isNaN(t[i]))L(`DateFilter ${i} is not a number`);else return t[i]==null?n:Number(t[i]);return n};this.minValidYear=e("minValidYear",KS),this.maxValidYear=e("maxValidYear",qS),this.minValidYear>this.maxValidYear&&L("DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:xi(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:xi(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&L("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new px(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){let e=new ux(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);return this.addDestroyFunc(()=>e.destroy()),e}setElementValue(t,e){t.setDate(e)}setElementDisplayed(t,e){t.setDisplayed(e)}setElementDisabled(t,e){t.setDisabled(e)}getDefaultFilterOptions(){return hx}createValueElement(){let e=this.gos.getDocument().createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(t,e,i,n){let s=this.gos.getDocument().createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),e.push(s),t.appendChild(s),i.push(this.createDateCompWrapper(s))}removeValueElements(t,e){this.removeDateComps(this.dateConditionFromComps,t,e),this.removeDateComps(this.dateConditionToComps,t,e),this.removeItems(this.eConditionPanelsFrom,t,e),this.removeItems(this.eConditionPanelsTo,t,e)}removeDateComps(t,e,i){this.removeItems(t,e,i).forEach(o=>o.destroy())}isValidDateValue(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(t){if(!super.isConditionUiComplete(t))return!1;let e=!0;return this.forEachInput((i,n,o,s)=>{o!==t||!e||n>=s||(e=e&&this.isValidDateValue(i.getDate()))}),e}areSimpleModelsEqual(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type}getFilterType(){return"date"}createCondition(t){let e=this.getConditionType(t),i={},n=this.getValues(t);return n.length>0&&(i.dateFrom=hn(n[0])),n.length>1&&(i.dateTo=hn(n[1])),D({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e},i)}resetPlaceholder(){let t=this.localeService.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),i=t("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(e),n.setInputAriaLabel(i)})}getInputs(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){let e=[];return this.forEachPositionInput(t,(i,n,o,s)=>{n<s&&e.push(i.getDate())}),e}translate(t){return t==="lessThan"?super.translate("before"):t==="greaterThan"?super.translate("after"):super.translate(t)}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}},GC=class extends A{constructor(t,e,i,n){super(),this.columnOrGroup=t,this.columnOrGroup=t,this.eCell=e,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(t){this.colsSpanning=t,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Ze(this.colsSpanning):this.columnOrGroup}postConstruct(){let t=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:t}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:t}),this.addManagedPropertyListener("domLayout",t)}setLeftFirstTime(){let t=this.beans.gos.get("suppressColumnMoveAnimation"),e=W(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let t=this.getColumnOrGroup(),e=t.getLeft(),i=t.getOldLeft(),n=this.modifyLeftForPrintLayout(t,i),o=this.modifyLeftForPrintLayout(t,e);this.setLeft(n),this.actualLeft=o,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===o&&this.setLeft(o)})}onLeftChanged(){let t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){if(!this.beans.gos.isDomLayout("print")||t.getPinned()==="left")return e;let n=this.beans.visibleColsService.getColsLeftWidth();if(t.getPinned()==="right"){let o=this.beans.visibleColsService.getBodyContainerWidth();return n+o+e}return n+e}setLeft(t){if(W(t)&&(this.eCell.style.left=`${t}px`),At(this.columnOrGroup)){let e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&$O(this.ariaEl,e.length)}}},PN="ag-column-first",AN="ag-column-last";function fx(t,e,i,n){return Xe(t)?[]:ON(t.headerClass,t,e,i,n)}function mx(t,e,i){t.addOrRemoveCssClass(PN,i.isColAtEdge(e,"first")),t.addOrRemoveCssClass(AN,i.isColAtEdge(e,"last"))}function FN(t,e,i,n){return e.addGridCommonParams({colDef:t,column:i,columnGroup:n})}function ON(t,e,i,n,o){if(Xe(t))return[];let s;if(typeof t=="function"){let r=FN(e,i,n,o);s=t(r)}else s=t;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}var NN=0,LN=(()=>{let t=class gx extends A{constructor(i,n,o){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=i,this.parentRowCtrl=o,this.beans=n,this.instanceId=i.getUniqueId()+"-"+NN++}wireBeans(i){this.pinnedWidthService=i.pinnedWidthService,this.focusService=i.focusService,this.userComponentFactory=i.userComponentFactory,this.ctrlsService=i.ctrlsService,this.dragAndDropService=i.dragAndDropService,this.menuService=i.menuService}postConstruct(){let i=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],i),this.addManagedEventListeners({overlayExclusiveChanged:i})}shouldStopEventPropagation(i){let{headerRowIndex:n,column:o}=this.focusService.getFocusedHeader();return SN(this.gos,i,n,o)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(i){this.eGui=i,this.addDomData(i),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(i){let{wrapperElement:n,checkMeasuringCallback:o}=i,{animationFrameService:s,resizeObserverService:r,columnModel:a,gos:l}=this.beans,c=R=>{if(!this.isAlive())return;let{paddingTop:S,paddingBottom:k,borderBottomWidth:P,borderTopWidth:B}=Ns(this.getGui()),U=S+k+P+B,Q=n.offsetHeight+U;if(R<5){let ce=l.getDocument(),Fe=!ce||!ce.contains(n),Z=Q==0;if(Fe||Z){s.requestAnimationFrame(()=>c(R+1));return}}a.setColHeaderHeight(this.column,Q)},d=!1,u,p=()=>{let R=this.column.isAutoHeaderHeight();R&&!d&&m(),!R&&d&&y()},m=()=>{d=!0,c(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=r.observeResize(n,()=>c(0))},y=()=>{d=!1,u&&u(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};p(),this.addDestroyFunc(()=>y()),this.addManagedListeners(this.column,{widthChanged:()=>d&&c(0)}),this.addManagedEventListeners({sortChanged:()=>{d&&window.setTimeout(()=>c(0))}}),o&&o(p)}onDisplayedColumnsChanged(){let{comp:i,column:n,beans:o,eGui:s}=this;!i||!n||!s||(mx(i,n,o.visibleColsService),DR(s,o.visibleColsService.getAriaColIndex(n)))}addResizeAndMoveKeyboardListeners(i){this.resizeFeature&&this.addManagedListeners(i,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let i=this.focusService.isHeaderFocusSuppressed();this.eGui&&un(this.eGui,"tabindex",i?null:"-1")}onGuiKeyDown(i){let n=this.gos.getActiveDomElement(),o=i.key===N.LEFT||i.key===N.RIGHT;if(this.isResizing&&(i.preventDefault(),i.stopImmediatePropagation()),n!==this.eGui||!i.shiftKey&&!i.altKey||((this.isResizing||o)&&(i.preventDefault(),i.stopImmediatePropagation()),!o))return;let s=i.key===N.LEFT!==this.gos.get("enableRtl"),r=YR[s?"Left":"Right"];if(i.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let a=this.getViewportAdjustedResizeDiff(i);this.resizeHeader(a,i.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}getViewportAdjustedResizeDiff(i){let n=this.getResizeDiff(i);if(this.column.getPinned()){let s=this.pinnedWidthService.getPinnedLeftWidth(),r=this.pinnedWidthService.getPinnedRightWidth(),a=pc(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+r+n>a)if(a>s+r)n=a-s-r;else return 0}return n}getResizeDiff(i){let n=i.key===N.LEFT!==this.gos.get("enableRtl"),o=this.column.getPinned(),s=this.gos.get("enableRtl");return o&&s!==(o==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(i){let n=this.getWrapperHasFocus();switch(i.key){case N.PAGE_DOWN:case N.PAGE_UP:case N.PAGE_HOME:case N.PAGE_END:n&&i.preventDefault()}}addDomData(i){let n=gx.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(i,n,this),this.addDestroyFunc(()=>this.gos.setDomData(i,n,null))}getGui(){return this.eGui}focus(i){return this.eGui?(this.lastFocusEvent=i||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(i,n,o){let s=i??n;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault();let r=Xo(o)?o:void 0;this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,i,n),this.dispatchColumnMouseEvent("columnHeaderContextMenu",o)}dispatchColumnMouseEvent(i,n){this.eventService.dispatchEvent({type:i,column:n})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};return t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",t})(),mh=LN,WC=class extends A{wireBeans(t){this.columnHoverService=t.columnHoverService}constructor(t,e){super(),this.columns=t,this.element=e}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},BN=class extends mh{constructor(t,e,i){super(t,e,i),this.iconCreated=!1,this.column=t}setComp(t,e,i,n){this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(e),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(),this.addManagedListeners(this.column,{colDefChanged:this.onColDefChanged.bind(this)})}resizeHeader(){}moveHeader(){}setupActive(){let t=this.column.getColDef(),e=!!t.filter,i=!!t.floatingFilter;this.active=e&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let t=zi("filter",this.gos,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}setupFocus(){this.createManagedBean(new Ls(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let t=this.localeService.getLocaleTextFunc();ea(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){if(this.gos.getActiveDomElement()===this.eGui)return;let n=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),n.focus();return}let o=this.findNextColumnWithFloatingFilter(t.shiftKey);o&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:t})&&t.preventDefault()}findNextColumnWithFloatingFilter(t){let e=this.beans.visibleColsService,i=this.column;do if(i=t?e.getColBefore(i):e.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(t){super.handleKeyDown(t);let e=this.getWrapperHasFocus();switch(t.key){case N.UP:case N.DOWN:e||t.preventDefault();case N.LEFT:case N.RIGHT:if(e)return;t.stopPropagation();case N.ENTER:e&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case N.ESCAPE:e||this.eGui.focus()}}onFocusIn(t){if(this.eGui.contains(t.relatedTarget))return;let i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),n=!!t.relatedTarget&&Zr(t.relatedTarget,"ag-floating-filter");if(i&&n&&t.target===this.eGui){let s=this.lastFocusEvent,r=!!(s&&s.key===N.TAB);if(s&&r){let a=s.shiftKey;this.focusService.focusInto(this.eGui,a)}}let o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.column)}setupHover(){this.createManagedBean(new WC([this.column],this.eGui));let t=()=>{if(!this.gos.get("columnHoverHighlight"))return;let e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(){let t=new GC(this.column,this.eGui,this.beans);this.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;let t=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setCompDetails(t)}showParentFilter(){let t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;let{filterManager:t}=this.beans,e=i=>{if(i?.source==="filterDestroyed"&&!this.isAlive())return;let n=this.comp.getFloatingFilterComp();n&&n.then(o=>{if(o){let s=t?.getCurrentFloatingFilterParentModel(this.column),r=i?_e(D({},i),{columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}):null;o.onParentModelChanged(s,r)}})};[this.destroySyncListener]=this.addManagedListeners(this.column,{filterChanged:e}),t?.isFilterActive(this.column)&&e(null)}setupWidth(){let t=()=>{let e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};this.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(){this.active&&([this.destroyFilterChangedListener]=this.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let t=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){let t=this.active;this.setupActive();let e=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let i=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,n=this.comp.getFloatingFilterComp();!n||!i?this.updateCompDetails(i,e):n.then(o=>{!o||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(i,e):this.updateFloatingFilterParams(i)})}updateCompDetails(t,e){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),e&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(t){if(!t)return;let e=t.params;this.comp.getFloatingFilterComp()?.then(i=>{let n=!1;i?.refresh&&typeof i.refresh=="function"&&i.refresh(e)!==null&&(n=!0),!n&&i?.onParamsUpdated&&typeof i.onParamsUpdated=="function"&&i.onParamsUpdated(e)!==null&&L("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var Oe="32.1.0";function VN(t){return!!t.filterManager?.isColumnFilterPresent()||!!t.filterManager?.isAggregateFilterPresent()}function GN(t,e,i){return t.filterManager?.getFilterInstance(e,i)}function WN(t,e){return t.filterManager?.getColumnFilterInstance(e)??Promise.resolve(void 0)}function HN(t,e){let i=t.columnModel.getColDefCol(e);if(i)return t.filterManager?.destroyFilter(i,"api")}function UN(t,e){t.frameworkOverrides.wrapIncoming(()=>t.filterManager?.setFilterModel(e))}function zN(t){return t.filterManager?.getFilterModel()??{}}function jN(t,e){return t.filterManager?.getColumnFilterModel(e)??null}function $N(t,e,i){return t.filterManager?.setColumnFilterModel(e,i)??Promise.resolve()}function KN(t,e){let i=t.columnModel.getCol(e);if(!i){nt(`column '${e}' not found`);return}t.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function qN(t,e,i){if(e==null)return null;let n=null,{compName:o,jsComp:s,fwComp:r}=qR.getCompKeys(t,e,OC);return o?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[o]:s==null&&r==null&&e.filter===!0&&(n=i()),n}var XN=class extends A{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.rowModel=t.rowModel,this.userComponentFactory=t.userComponentFactory,this.rowRenderer=t.rowRenderer,this.dataTypeService=t.dataTypeService,this.filterManager=t.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=D({},this.gos.get("initialState")?.filter?.filterModel??{})}setFilterModel(t,e="api"){if(this.dataTypeService?.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:e});return}let i=[],n=this.getFilterModel(!0);if(t){let o=new Set(Object.keys(t));this.allColumnFilters.forEach((s,r)=>{let a=t[r];i.push(this.setModelOnFilterWrapper(s.filterPromise,a)),o.delete(r)}),o.forEach(s=>{let r=this.columnModel.getColDefCol(s)||this.columnModel.getCol(s);if(!r){L("setFilterModel() - no column found for colId: "+s);return}if(!r.isFilterAllowed()){L("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);return}let a=this.getOrCreateFilterWrapper(r);if(!a){L("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s);return}i.push(this.setModelOnFilterWrapper(a.filterPromise,t[s]))})}else this.allColumnFilters.forEach(o=>{i.push(this.setModelOnFilterWrapper(o.filterPromise,null))});Ui.all(i).then(()=>{let o=this.getFilterModel(!0),s=[];this.allColumnFilters.forEach((r,a)=>{let l=n?n[a]:null,c=o?o[a]:null;ac(l,c)||s.push(r.column)}),s.length>0&&this.filterManager?.onFilterChanged({columns:s,source:e})})}setModelOnFilterWrapper(t,e){return new Ui(i=>{t.then(n=>{typeof n.setModel!="function"&&(L("filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(e)||Ui.resolve()).then(()=>i())})})}getFilterModel(t){let e={},{allColumnFilters:i,initialFilterModel:n}=this;return i.forEach((o,s)=>{let r=this.getModelFromFilterWrapper(o);W(r)&&(e[s]=r)}),t||Object.entries(n).forEach(([o,s])=>{W(s)&&!i.has(o)&&this.columnModel.getCol(o)?.isFilterAllowed()&&(e[o]=s)}),e}getModelFromFilterWrapper(t){let{filter:e}=t;return e?typeof e.getModel!="function"?(L("filter API missing getModel method, which is needed for getFilterModel"),null):e.getModel():this.getModelFromInitialState(t.column)}getModelFromInitialState(t){return this.initialFilterModel[t.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,!0)}updateActiveFilters(){let t=s=>s?s.isFilterActive?s.isFilterActive():(L("Filter is missing isFilterActive() method"),!1):!1,e=!!this.gos.getGroupAggFiltering(),i=s=>{if(!s.isPrimary())return!0;let a=!this.columnModel.isPivotActive();return!s.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:e},n=[],o=[];return this.forEachColumnFilter((s,r)=>{t(s)&&(i(r.column)?n.push(s):o.push(s))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=o})}updateFilterFlagInColumns(t,e){return this.forEachColumnFilter((i,n)=>n.column.setFilterActive(i.isFilterActive(),t,e))}forEachColumnFilter(t){return Ui.all(Array.from(this.allColumnFilters.values()).map(e=>e.filterPromise.then(i=>t(i,e))))}doColumnFiltersPass(t,e,i){let{data:n,aggData:o}=t,s=i?this.activeAggregateFilters:this.activeColumnFilters,r=i?o:n;for(let a=0;a<s.length;a++){let l=s[a];if(!(l==null||l===e)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:r}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(t){let e=()=>this.filterManager?.onFilterChanged(t);this.rowRenderer.isRefreshInProgress()?setTimeout(e,0):e()}updateBeforeFilterChanged(t={}){let{filterInstance:e,additionalEventAttributes:i}=t;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(o=>{o&&o!==e&&o.onAnyFilterChanged&&o.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(t){this.forEachColumnFilter(e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(t,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,!0)}createGetValue(t){return(e,i)=>{let n=i?this.columnModel.getCol(i):t;return n?this.valueService.getValue(n,e,!0):void 0}}isFilterActive(t){let{filter:e}=this.cachedFilter(t)??{};return e?e.isFilterActive():this.getModelFromInitialState(t)!=null}getOrCreateFilterWrapper(t){if(!t.isFilterAllowed())return null;let e=this.cachedFilter(t);return e||(e=this.createFilterWrapper(t),this.setColumnFilterWrapper(t,e)),e}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){let e;if(hi.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))e="agSetColumnFilter";else{let i=this.dataTypeService?.getBaseDataType(t);i==="number"?e="agNumberColumnFilter":i==="date"||i==="dateString"?e="agDateColumnFilter":e="agTextColumnFilter"}return e}getDefaultFloatingFilter(t){let e;if(hi.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))e="agSetColumnFloatingFilter";else{let i=this.dataTypeService?.getBaseDataType(t);i==="number"?e="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?e="agDateColumnFloatingFilter":e="agTextColumnFloatingFilter"}return e}createFilterInstance(t,e){let i=this.getDefaultFilter(t),n=t.getColDef(),o,s=_e(D({},this.createFilterParams(t,n)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(o,t)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(o,t)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(o,a):!0}),r=this.userComponentFactory.getFilterDetails(n,s,i);return r?{filterPromise:()=>{let a=r.newAgStackInstance();return a?.then(l=>{o=l,e&&(e.filter=l)}),a},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(t,e){return this.gos.addGridCommonParams({column:t,colDef:pR(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(t){let e={column:t,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:n}=this.createFilterInstance(t,e);return e.filterPromise=i?.()??null,e.compDetails=n,e}onColumnsChanged(){let t=[];this.allColumnFilters.forEach((i,n)=>{let o;i.column.isPrimary()?o=this.columnModel.getColDefCol(n):o=this.columnModel.getCol(n),!(o&&o===i.column)&&(t.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(n))});let e=t.every(i=>i.getColDef().filter==="agGroupColumnFilter");t.length>0&&!e?this.filterManager?.onFilterChanged({columns:t,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(e=>{e.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(e)})}isFilterAllowed(t){if(!t.isFilterAllowed())return!1;let{filter:i}=this.allColumnFilters.get(t.getColId())??{};return i&&typeof i?.isFilterAllowed=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(t,e){let i=l=>{let c=this.getOrCreateFilterWrapper(t)?.filterPromise;c?.then(d=>{l(oc(d))})},n=t.getColDef(),o=_e(D({},this.createFilterParams(t,n)),{filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,t)())}),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,OC,o),r=qN(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(t));r==null&&(r="agReadOnlyFloatingFilter");let a={column:t,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:i,showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,r)}getCurrentFloatingFilterParentModel(t){return this.getModelFromFilterWrapper(this.cachedFilter(t)??{column:t})}destroyFilter(t,e="api"){let i=t.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&(this.disposeFilterWrapper(n,e),this.filterManager?.onFilterChanged({columns:[t],source:"api"}))}disposeColumnListener(t){let e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())}disposeFilterWrapper(t,e){t.filterPromise.then(i=>{this.destroyBean(i),t.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(t.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:e,column:t.column})})}filterModifiedCallbackFactory(t,e){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:e,filterInstance:t})}}filterChangedCallbackFactory(t,e){return i=>{let n=i?.source??"columnFilter",o={filter:t,additionalEventAttributes:i,columns:[e],source:n};this.callOnFilterChangedOutsideRenderCycle(o)}}checkDestroyFilter(t){let e=this.allColumnFilters.get(t);if(!e)return;let i=e.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(e.compDetails,n)){this.destroyFilter(i,"paramsUpdated");return}let o=i.getColDef().filterParams;if(!e.filterPromise){this.destroyFilter(i,"paramsUpdated");return}e.filterPromise.then(s=>{(s?.refresh?s.refresh(D(_e(D({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,i),filterChangedCallback:this.filterChangedCallbackFactory(s,i),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,a):!0}),o)):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(t,e){let i=t.getColId();this.allColumnFilters.set(i,e),this.allColumnListeners.set(i,this.addManagedListeners(t,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(t,e){if(!e||!t)return!0;let{componentClass:i}=t,{componentClass:n}=e;return!(i===n||i?.render&&n?.render&&i.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(e=>e.getColDef().floatingFilter)}getFilterInstance(t,e){e&&this.getFilterInstanceImpl(t).then(i=>{let n=oc(i);e(n)})}getColumnFilterInstance(t){return new Promise(e=>{this.getFilterInstanceImpl(t).then(i=>{e(oc(i))})})}getFilterInstanceImpl(t){let e=this.columnModel.getColDefCol(t);return e?this.getOrCreateFilterWrapper(e)?.filterPromise??Ui.resolve(null):Ui.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:t,source:e})=>this.setFilterModel(t,e)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:t,model:e,resolve:i})=>{this.setColumnFilterModel(t,e).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(t){let e=this.getFilterWrapper(t);return e?this.getModelFromFilterWrapper(e):null}setColumnFilterModel(t,e){if(this.dataTypeService?.isPendingInference()){let s=()=>{},r=new Promise(a=>{s=a});return this.columnFilterModelUpdateQueue.push({key:t,model:e,resolve:s}),r}let i=this.columnModel.getColDefCol(t),n=i?this.getOrCreateFilterWrapper(i):null;return n?(s=>new Promise(r=>{s.then(a=>r(a))}))(this.setModelOnFilterWrapper(n.filterPromise,e)):Promise.resolve()}getFilterWrapper(t){let e=this.columnModel.getColDefCol(t);return e?this.cachedFilter(e)??null:null}destroy(){super.destroy(),this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"gridDestroyed")),this.allColumnListeners.clear()}};function YN(t){return!!t.filterManager?.isAnyFilterPresent()}function QN(t,e="api"){t.filterManager?.onFilterChanged({source:e})}var ZN=class extends ot{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[fh]),this.eFloatingFilterText=ae}wireBeans(t){this.columnNameService=t.columnNameService}destroy(){super.destroy()}init(t){this.params=t;let e=this.columnNameService.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${e} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(e=>{if(e.getModelAsString){let i=e.getModelAsString(t);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(t){this.refresh(t)}refresh(t){this.init(t)}},vx=class extends ot{wireBeans(t){this.columnNameService=t.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}let e=t.operator,i;e?i=t.conditions[0]:i=t,this.lastType=i.type}canWeEditAfterModelFromParentFilter(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;let i=t;return this.isTypeEditable(i.type)}init(t){this.setSimpleParams(t,!1)}setSimpleParams(t,e=!0){this.optionsFactory=new tx,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),e||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;let i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.setSimpleParams(t)}doesFilterHaveSingleInput(t){let e=this.optionsFactory.getCustomOption(t),{numberOfInputs:i}=e||{};return i==null||i==1}isTypeEditable(t){let e=["inRange","empty","blank","notBlank"];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}getAriaLabel(t){let e=this.columnNameService.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${e} ${i("ariaFilterInput","Filter Input")}`}},JN=class extends vx{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[fh]),this.eReadOnlyText=ae,this.eDateWrapper=ae}wireBeans(t){super.wireBeans(t),this.context=t.context,this.userComponentFactory=t.userComponentFactory}getDefaultFilterOptions(){return hx}init(t){super.init(t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new px(this.filterParams,this.localeService,this.optionsFactory);let e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())}updateCompOnModelChange(t){let e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(e),e){if(t){let i=t;this.dateComp.setDate(xi(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}setEditable(t){wt(this.eDateWrapper,t),wt(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(super.setLastTypeFromModel(t),this.updateCompOnModelChange(t))}onDateChanged(){let t=this.dateComp.getDate(),e=hn(t);this.params.parentFilterInstance(i=>{if(i){let n=xi(e);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){let t=NC(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:fi(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new ux(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,t=>{t.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){let t=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)}getFilterModelFormatter(){return this.filterModelFormatter}},eL=class extends ot{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[fh]),this.eDateInput=ae}destroy(){super.destroy()}init(t){this.params=t,this.setParams(t);let e=this.eDateInput.getInputElement();this.addManagedListeners(e,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||e.focus()},input:i=>{i.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(t){let e=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=i&&On(),e.type=i?"date":"text";let{minValidYear:n,maxValidYear:o,minValidDate:s,maxValidDate:r}=t.filterParams||{};if(s&&n&&L("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),r&&o&&L("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&r){let[a,l]=[s,r].map(c=>c instanceof Date?c:xi(c));a&&l&&a.getTime()>l.getTime()&&L("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?e.min=rc(s):e.min=s:n&&(e.min=`${n}-01-01`),r?r instanceof Date?e.max=rc(r):e.max=r:o&&(e.max=`${o}-12-31`)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.params=t,this.setParams(t)}getDate(){return xi(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(hn(t,!1))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setInputAriaLabel(t){this.eDateInput.setAriaLabel(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:DC()||IR()||On()&&TR()>=14.1}},Cx=class extends A{constructor(t){super(),this.params=t,this.eFloatingFilterTextInput=ae,this.valueChangedListener=()=>{}}setupGui(t){this.eFloatingFilterTextInput=this.createManagedBean(new Bs(this.params?.config));let e=this.eFloatingFilterTextInput.getGui();t.appendChild(e);let i=n=>this.valueChangedListener(n);this.addManagedListeners(e,{input:i,keydown:i})}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}setAutoComplete(t){this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}setValueChangedListener(t){this.valueChangedListener=t}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)}},bx=class extends vx{constructor(){super(...arguments),this.eFloatingFilterInputContainer=ae}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))}init(t){this.setupFloatingFilterInputService(t),super.init(t),this.setTextInputParams(t)}setupFloatingFilterInputService(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(t){this.params=t;let e=t.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:e}),this.applyActive=ph(this.params.filterParams),!this.isReadOnly()){let i=NC(this.params.filterParams,this.getDefaultDebounceMs()),n=fi(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.setTextInputParams(t)}recreateFloatingFilterInputService(t){let e=this.floatingFilterInputService.getValue();ri(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(e,!0)}syncUpWithParentFilter(t){let e=t.key===N.ENTER;if(this.applyActive&&!e)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=cx(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(t){this.floatingFilterInputService.setEditable(t)}},tL=class extends A{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new BC),this.eFloatingFilterTextInput=this.createManagedBean(new Bs),this.eFloatingFilterTextInput.setDisabled(!0);let e=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();t.appendChild(e),t.appendChild(i),this.setupListeners(e,n=>this.valueChangedListener(n)),this.setupListeners(i,n=>this.valueChangedListener(n))}setEditable(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(t){this.valueChangedListener=t}setupListeners(t,e){this.addManagedListeners(t,{input:e,keydown:e})}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)}},iL=class extends bx{init(t){super.init(t),this.filterModelFormatter=new rx(this.localeService,this.optionsFactory,t.filterParams?.numberFormatter)}onParamsUpdated(t){this.refresh(t)}refresh(t){gC(t.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return sx}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){return this.allowedCharPattern=gC(t.filterParams),this.allowedCharPattern?this.createManagedBean(new Cx({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new tL)}},nL=class extends bx{init(t){super.init(t),this.filterModelFormatter=new lx(this.localeService,this.optionsFactory)}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return ax}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Cx)}};function oL(t){return!!t.filterManager?.isQuickFilterPresent()}function sL(t){return t.gos.get("quickFilterText")}function rL(t){t.filterManager?.resetQuickFilterCache()}var aL=class extends A{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.rowModel=t.rowModel,this.pivotResultColsService=t.pivotResultColsService}postConstruct(){let t=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:t,columnRowGroupChanged:t,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){let t=this.columnModel.isPivotMode(),e=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols(),n=(t&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];e&&(n=n.concat(e)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(o=>o.isVisible()||o.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(t){let e=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(e,t):this.quickFilterParts.every(i=>e?this.doesRowPassQuickFilterCache(t,i):this.doesRowPassQuickFilterNoCache(t,i))}resetQuickFilterCache(){this.rowModel.forEachNode(t=>t.quickFilterAggregateText=null)}setQuickFilterParts(){let{quickFilter:t,parser:e}=this;t?this.quickFilterParts=e?e(t):t.split(" "):this.quickFilterParts=null}parseQuickFilter(t){return W(t)?this.gos.isRowModelType("clientSide")?t.toUpperCase():(L("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(t){if(t!=null&&typeof t!="string"){L(`Grid option quickFilterText only supports string inputs, received: ${typeof t}`);return}let e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){let t=this.gos.get("quickFilterParser"),e=this.gos.get("quickFilterMatcher"),i=t!==this.parser||e!==this.matcher;this.parser=t,this.matcher=e,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(t,e){return this.colsForQuickFilter.some(i=>{let n=this.getQuickFilterTextForColumn(i,t);return W(n)&&n.indexOf(e)>=0})}doesRowPassQuickFilterCache(t,e){return this.checkGenerateQuickFilterAggregateText(t),t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilterMatcher(t,e){let i;t?(this.checkGenerateQuickFilterAggregateText(e),i=e.quickFilterAggregateText):i=this.getQuickFilterAggregateText(e);let{quickFilterParts:n,matcher:o}=this;return o(n,i)}checkGenerateQuickFilterAggregateText(t){t.quickFilterAggregateText||(t.quickFilterAggregateText=this.getQuickFilterAggregateText(t))}getQuickFilterTextForColumn(t,e){let i=this.valueService.getValue(t,e,!0),n=t.getColDef();if(n.getQuickFilterText){let o=this.gos.addGridCommonParams({value:i,node:e,data:e.data,column:t,colDef:n});i=n.getQuickFilterText(o)}return W(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(t){let e=[];return this.colsForQuickFilter.forEach(i=>{let n=this.getQuickFilterTextForColumn(i,t);W(n)&&e.push(n)}),e.join(`
`)}},HC={version:Oe,moduleName:"@ag-grid-community/filter-core",beans:[aN]},lL={version:Oe,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:YN,onFilterChanged:QN},dependantModules:[HC]},gh={version:Oe,moduleName:"@ag-grid-community/column-filter",beans:[XN],dependantModules:[HC]},cL={version:Oe,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:VN,getFilterInstance:GN,getColumnFilterInstance:WN,destroyFilter:HN,setFilterModel:UN,getFilterModel:zN,getColumnFilterModel:jN,setColumnFilterModel:$N,showColumnFilter:KN},dependantModules:[gh,lL]},UC={version:Oe,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:BN}],dependantModules:[gh]},KJ={version:Oe,moduleName:"@ag-grid-community/floating-filter",dependantModules:[UC,gh]},dL={version:Oe,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:ZN}],dependantModules:[UC]},uL={version:Oe,moduleName:"@ag-grid-community/simple-filter",dependantModules:[gh],userComponents:[{name:"agTextColumnFilter",classImp:TN},{name:"agNumberColumnFilter",classImp:DN},{name:"agDateColumnFilter",classImp:MN},{name:"agDateInput",classImp:eL}]},hL={version:Oe,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[uL,UC],userComponents:[{name:"agTextColumnFloatingFilter",classImp:nL},{name:"agNumberColumnFloatingFilter",classImp:iL},{name:"agDateColumnFloatingFilter",classImp:JN}]},yx={version:Oe,moduleName:"@ag-grid-community/quick-filter-core",beans:[aL],dependantModules:[HC]},pL={version:Oe,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:oL,getQuickFilter:sL,resetQuickFilter:rL},dependantModules:[yx]},fL={version:Oe,moduleName:"@ag-grid-community/quick-filter",dependantModules:[yx,pL]},mL={version:Oe,moduleName:"@ag-grid-community/filter",dependantModules:[hL,dL,fL,cL]},zC=class extends ot{constructor(t,e){super(t),this.ctrl=e}getCtrl(){return this.ctrl}},gL=class extends zC{constructor(t){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,t),this.eFloatingFilterBody=ae,this.eButtonWrapper=ae,this.eButtonShowMainFilter=ae}postConstruct(){let t=this.getGui(),e={addOrRemoveCssClass:(i,n)=>this.addOrRemoveCssClass(i,n),addOrRemoveBodyCssClass:(i,n)=>this.eFloatingFilterBody.classList.toggle(i,n),setButtonWrapperDisplayed:i=>wt(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>t.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(e,t,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(t){if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(e=>this.afterCompCreated(e))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}},vL=class extends zC{constructor(t){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,t),this.eResize=ae,this.eHeaderCompWrapper=ae,this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){let t=this.getGui();((o,s)=>{s!=null&&s!=""?t.setAttribute(o,s):t.removeAttribute(o)})("col-id",this.column.getColId());let i={setWidth:o=>t.style.width=o,addOrRemoveCssClass:(o,s)=>this.addOrRemoveCssClass(o,s),setAriaSort:o=>o?KO(t,o):qO(t),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);let n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;let e=this.headerCompVersion;t.newAgStackInstance().then(i=>this.afterCompCreated(e,i))}afterCompCreated(t,e){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(e);return}this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},CL=class extends zC{constructor(t){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,t),this.eResize=ae,this.eHeaderCompWrapper=ae}postConstruct(){let t=this.getGui(),e=(n,o)=>o!=null?t.setAttribute(n,o):t.removeAttribute(n);t.setAttribute("col-id",this.ctrl.getColId());let i={addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setResizableDisplayed:n=>wt(this.eResize,n),setWidth:n=>t.style.width=n,setAriaExpanded:n=>e("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,t,this.eResize,this.eHeaderCompWrapper)}setUserCompDetails(t){t.newAgStackInstance().then(e=>this.afterHeaderCompCreated(e))}afterHeaderCompCreated(t){let e=()=>this.destroyBean(t);if(!this.isAlive()){e();return}let i=this.getGui(),n=t.getGui();this.eHeaderCompWrapper.appendChild(n),this.addDestroyFunc(e),this.headerGroupComp=t,this.ctrl.setDragSource(i)}};var bL=class extends ot{constructor(t){super(),this.headerComps={},this.ctrl=t,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){ER(this.getGui(),this.ctrl.getAriaRowIndex());let t={setHeight:e=>this.getGui().style.height=e,setTop:e=>this.getGui().style.top=e,setHeaderCtrls:(e,i)=>this.setHeaderCtrls(e,i),setWidth:e=>this.getGui().style.width=e};this.ctrl.setComp(t)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(t,e){if(!this.isAlive())return;let i=this.headerComps;if(this.headerComps={},t.forEach(n=>{let o=n.getInstanceId(),s=i[o];delete i[o],s==null&&(s=this.createHeaderComp(n),this.getGui().appendChild(s.getGui())),this.headerComps[o]=s}),rn(i,(n,o)=>{this.getGui().removeChild(o.getGui()),this.destroyBean(o)}),e){let n=qo(this.headerComps);n.sort((s,r)=>{let a=s.getCtrl().getColumnGroupChild().getLeft(),l=r.getCtrl().getColumnGroupChild().getLeft();return a-l});let o=n.map(s=>s.getGui());BR(this.getGui(),o)}}createHeaderComp(t){let e;switch(this.ctrl.getType()){case"group":e=new CL(t);break;case"filter":e=new gL(t);break;default:e=new vL(t);break}return this.createBean(e),e.setParentComponent(this),e}};var yL=class extends A{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(t){this.focusService=t.focusService,this.headerPositionUtils=t.headerPositionUtils,this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.visibleColService=t.visibleColsService}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl});let t=this.gos.getDocument();this.addManagedElementListeners(t,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){let t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0}getHeaderPositionForColumn(t,e){let i;if(typeof t=="string"?(i=this.columnModel.getCol(t),i||(i=this.visibleColService.getColumnGroup(t))):i=t,!i)return null;let o=this.ctrlsService.getHeaderRowContainerCtrl()?.getAllCtrls(),s=Ze(o||[]).getType()==="filter",r=this.getHeaderRowCount()-1,a=-1,l=i;for(;l;)a++,l=l.getParent();let c=a;return e&&s&&c===r-1&&c++,c===-1?null:{headerRowIndex:c,column:i}}navigateVertically(t,e,i){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;let{headerRowIndex:n}=e,o=e.column,s=this.getHeaderRowCount(),r=t===0,{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=r?this.headerPositionUtils.getColumnVisibleParent(o,n):this.headerPositionUtils.getColumnVisibleChild(o,n),d=!1;return a<0&&(a=0,l=o,d=!0),a>=s?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!d&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(t){this.currentHeaderRowWithoutSpan=t}navigateHorizontally(t,e=!1,i){let n=this.focusService.getFocusedHeader(),o=t===2,s=this.gos.get("enableRtl"),r,a;if(this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,o!==s?(a="Before",r=this.headerPositionUtils.findHeader(n,a)):(a="After",r=this.headerPositionUtils.findHeader(n,a)),r||!e)return this.focusService.focusHeaderPosition({headerPosition:r,direction:a,fromTab:e,allowUserOverride:!0,event:i});if(e){let l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:r,direction:a})}return this.focusNextHeaderRow(n,a,i)}focusNextHeaderRow(t,e,i){let n=t.headerRowIndex,o=null,s;if(e==="Before"?n>0&&(s=n-1,this.currentHeaderRowWithoutSpan-=1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),o=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!o)return!1;let{column:r,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(o.column,o?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:a},direction:e,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(t,e="After"){if(t.getPinned())return;let i;if(At(t)){let n=t.getDisplayedLeafColumns();i=e==="Before"?Ze(n):n[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},wL=class extends A{wireBeans(t){this.animationFrameService=t.animationFrameService,this.headerNavigationService=t.headerNavigationService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.menuService=t.menuService}setComp(t,e,i){this.comp=t,this.eGui=e,this.createManagedBean(new Ls(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();let n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){let t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t),this.addManagedEventListeners({displayedColumnsChanged:t,columnHeaderHeightChanged:t,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>t()),gridStylesChanged:t,advancedFilterEnabledChanged:t})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){let{columnModel:t}=this,e=0,i=this.columnModel.getGroupRowsHeight().reduce((s,r)=>s+r,0),n=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()&&(e+=t.getFloatingFiltersHeight()),e+=i,e+=n,this.headerHeight===e)return;this.headerHeight=e;let o=`${e+1}px`;this.comp.setHeightAndMinHeight(o),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){let t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){let e=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){let e=this.gos.get("enableRtl"),i=t.shiftKey,n=i!==e?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,t)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault()}handleKeyDown(t){let e=null;switch(t.key){case N.LEFT:e=2;case N.RIGHT:{W(e)||(e=3),this.headerNavigationService.navigateHorizontally(e,!1,t)&&t.preventDefault();break}case N.UP:e=0;case N.DOWN:{W(e)||(e=1),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break}default:return}}onFocusOut(t){let{relatedTarget:e}=t;!e&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(e)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(t,e,i){if(!t&&!i||!this.menuService.isHeaderContextMenuEnabled())return;let{target:n}=t??e;(n===this.eGui||n===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement())&&this.menuService.showHeaderContextMenu(void 0,t,i)}mockContextMenuForIPad(t){if(!Yo())return;let e=new Ko(this.eGui),i=n=>{t(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(e,{longTap:i}),this.addDestroyFunc(()=>e.destroy())}},jC=class extends A{constructor(t,e=!1){super(),this.callback=t,this.addSpacer=e}wireBeans(t){this.visibleColsService=t.visibleColsService,this.scrollVisibleService=t.scrollVisibleService}postConstruct(){let t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedEventListeners({columnContainerWidthChanged:t,displayedColumnsChanged:t,leftPinnedWidthChanged:t}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:t,scrollVisibilityChanged:t,scrollbarWidthChanged:t}),this.setWidth()}setWidth(){let t=this.gos.isDomLayout("print"),e=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth(),o;t?o=e+i+n:(o=e,this.addSpacer&&(this.gos.get("enableRtl")?i:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(o+=this.gos.getScrollbarWidth())),this.callback(o)}},_L=class extends A{constructor(t){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}wireBeans(t){this.funcColsService=t.funcColsService}onDragEnter(t){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let e=t.dragItem.columns;e&&e.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};function $C(t){let{isFromHeader:e,hDirection:i,xPosition:n,fromEnter:o,fakeEvent:s,pinned:r,gos:a,columnModel:l,columnMoveService:c,presentedColsService:d}=t,u=i===0,p=i===1,{allMovingColumns:m}=t;if(e){let Q=[];m.forEach(ce=>{let Fe=null,Z=ce.getParent();for(;Z!=null&&Z.getDisplayedLeafColumns().length===1;)Fe=Z,Z=Z.getParent();Fe!=null?(!!Fe.getColGroupDef()?.marryChildren?Fe.getProvidedColumnGroup().getLeafColumns():Fe.getLeafColumns()).forEach(Re=>{Q.includes(Re)||Q.push(Re)}):Q.includes(ce)||Q.push(ce)}),m=Q}let y=m.slice();l.sortColsLikeCols(y);let R=EL({movingCols:y,draggingRight:p,xPosition:n,pinned:r,gos:a,columnModel:l,presentedColsService:d}),S=SL(y,l);if(R.length===0)return;let k=R[0],P=S!==null&&!o;if(e&&(P=S!==null),P&&!s&&(u&&k>=S||p&&k<=S))return;let B=d.getAllCols(),U=[],te=null;for(let Q=0;Q<R.length;Q++){let ce=R[Q],Fe=c.getProposedColumnOrder(y,ce);if(!c.doesOrderPassRules(Fe))continue;let Z=Fe.filter(Nn=>B.includes(Nn));if(te===null)te=Z;else if(!Os(Z,te))break;let Gs=RL(Fe);U.push({move:ce,fragCount:Gs})}if(U.length!==0)return U.sort((Q,ce)=>Q.fragCount-ce.fragCount),wx(m,U[0].move,"uiColumnMoved",!1,c)}function wx(t,e,i,n,o){return o.moveColumns(t,e,i,n),n?null:{columns:t,toIndex:e}}function SL(t,e){let i=e.getCols(),n=ZF(t.map(l=>i.indexOf(l))),o=n[0];return Ze(n)-o!==n.length-1?null:o}function RL(t){function e(n){let o=[],s=n.getOriginalParent();for(;s!=null;)o.push(s),s=s.getOriginalParent();return o}let i=0;for(let n=0;n<t.length-1;n++){let o=e(t[n]),s=e(t[n+1]);[o,s]=o.length>s.length?[o,s]:[s,o],o.forEach(r=>{s.indexOf(r)===-1&&i++})}return i}function xL(t,e){switch(e){case"left":return t.getLeftCols();case"right":return t.getRightCols();default:return t.getCenterCols()}}function EL(t){let{movingCols:e,draggingRight:i,xPosition:n,pinned:o,gos:s,columnModel:r,presentedColsService:a}=t;if(s.get("suppressMovableColumns")||e.some(B=>B.getColDef().suppressMovable))return[];let c=xL(a,o),d=r.getCols(),u=c.filter(B=>Ms(e,B)),p=c.filter(B=>!Ms(e,B)),m=d.filter(B=>!Ms(e,B)),y=0,R=n;if(i){let B=0;u.forEach(U=>B+=U.getActualWidth()),R-=B}if(R>0){for(let B=0;B<p.length;B++){let U=p[B];if(R-=U.getActualWidth(),R<0)break;y++}i&&y++}let S;if(y>0){let B=p[y-1];S=m.indexOf(B)+1}else S=m.indexOf(p[0]),S===-1&&(S=0);let k=[S],P=(B,U)=>B-U;if(i){let B=S+1,U=d.length-1;for(;B<=U;)k.push(B),B++;k.sort(P)}else{let B=S,U=d.length-1,te=d[B];for(;B<=U&&c.indexOf(te)<0;)B++,k.push(B),te=d[B];B=S-1;let Q=0;for(;B>=Q;)k.push(B),B--;k.sort(P).reverse()}return k}function KC(t,e,i,n,o){let s=o.getHeaderRowContainerCtrl(e)?.getViewportElement();return s?(i&&(t-=s.getBoundingClientRect().left),n.get("enableRtl")&&(t=s.clientWidth-t),e==null&&(t+=o.get("center").getCenterViewportScrollLeft()),t):0}var DL=class extends A{constructor(t){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.isCenterContainer=!W(t)}wireBeans(t){this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnMoveService=t.columnMoveService,this.dragAndDropService=t.dragAndDropService,this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl})}getIconName(){let t=this.lastDraggingEvent.dragItem.columns??[];return this.pinned?t.some(i=>!i.getColDef().lockPinned||i.getPinned()===this.pinned)?"pinned":"notAllowed":t.some(i=>!i.getColDef().lockPinned||!i.isPinned())?"move":"notAllowed"}onDragEnter(t){let e=t.dragItem.columns;if(t.dragSource.type===0)this.setColumnsVisible(e,!0,"uiColumnDragged");else{let n=t.dragItem.visibleState,o=(e||[]).filter(s=>n[s.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(t,e,i){if(t){let n=t.filter(o=>!o.getColDef().lockVisible);this.columnModel.setColsVisible(n,e,i)}}setColumnsPinned(t,e,i){if(t){let n=t.filter(o=>!o.getColDef().lockPinned);this.columnModel.setColsPinned(n,e,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(t){if(this.isCenterContainer){let e=this.ctrlsService.get("center"),i=e.getCenterViewportScrollLeft(),n=i+e.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=t<i+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<i+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(t=this.lastDraggingEvent,e=!1,i=!1,n=!1){if(n){if(this.lastMovedInfo){let{columns:c,toIndex:d}=this.lastMovedInfo;wx(c,d,"uiColumnMoved",!0,this.columnMoveService)}return}if(this.lastDraggingEvent=t,Xe(t.hDirection))return;let o=KC(t.x,this.pinned,!1,this.gos,this.ctrlsService);e||this.checkCenterForScrolling(o);let s=this.normaliseDirection(t.hDirection),r=t.dragSource.type,a=t.dragSource.getDragItem().columns?.filter(c=>c.getColDef().lockPinned?c.getPinned()==this.pinned:!0)||[],l=$C({allMovingColumns:a,isFromHeader:r===1,hDirection:s,xPosition:o,pinned:this.pinned,fromEnter:e,fakeEvent:i,gos:this.gos,columnModel:this.columnModel,columnMoveService:this.columnMoveService,presentedColsService:this.visibleColsService});l&&(this.lastMovedInfo=l)}normaliseDirection(t){if(this.gos.get("enableRtl"))switch(t){case 0:return 1;case 1:return 0;default:nt(`Unknown direction ${t}`)}else return t}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(this.getIconName()))}moveInterval(){let t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);let e=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let o=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);if(o.length>0&&(this.dragAndDropService.setGhostIcon("pinned"),this.failedMoveAttempts>7)){let s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}}},TL=class extends A{wireBeans(t){this.dragAndDropService=t.dragAndDropService,this.columnModel=t.columnModel,this.ctrlsService=t.ctrlsService}constructor(t,e){super(),this.pinned=t,this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.left.getContainerElement()],[t.bottomLeft.getContainerElement()],[t.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.right.getContainerElement()],[t.bottomRight.getContainerElement()],[t.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.center.getViewportElement()],[t.bottomCenter.getViewportElement()],[t.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new DL(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new _L(this.pinned)),this.dragAndDropService.addDropTarget(this)}isInterestedIn(t){return t===1||t===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&t.dragSource.type===0}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}},IL=class extends A{wireBeans(t){this.horizontalResizeService=t.horizontalResizeService,this.pinnedWidthService=t.pinnedWidthService,this.ctrlsService=t.ctrlsService,this.columnSizeService=t.columnSizeService,this.columnAutosizeService=t.columnAutosizeService}constructor(t,e,i,n,o){super(),this.pinned=t,this.column=e,this.eResize=i,this.comp=n,this.ctrl=o}postConstruct(){let t=[],e,i,n=()=>{if(wt(this.eResize,e),!e)return;let r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(r),i){let a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);let c=new Ko(this.eResize);c.addEventListener("doubleTap",l),t.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},o=()=>{t.forEach(r=>r()),t.length=0},s=()=>{let r=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(r!==e||a!==i)&&(e=r,i=a,o(),n())};s(),this.addDestroyFunc(o),this.ctrl.addRefreshFunction(s)}onResizing(t,e){let{column:i,lastResizeAmount:n,resizeStartWidth:o}=this,s=this.normaliseResizeAmount(e),r=o+s,a=[{key:i,newWidth:r}];if(this.column.getPinned()){let l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),d=pc(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(s-n)>d)return}this.lastResizeAmount=s,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}normaliseResizeAmount(t){let e=t,i=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?i&&(e*=-1):n&&(e*=-1),e}},kL=class extends A{constructor(t){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=t}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}onSpaceKeyDown(t){let e=this.cbSelectAll;e.isDisplayed()&&!e.getGui().contains(this.gos.getActiveDomElement())&&(t.preventDefault(),e.setValue(!e.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new AC),this.cbSelectAll.addCssClass("ag-header-select-all"),Di(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),xC(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);let e=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){let t=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),n=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${n} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(t){return this.gos.get("rowSelection")==="multiple"?!0:(L(`${t} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(t){let e=this.rowModel.getType();return e==="clientSide"||e==="serverSide"?!0:(L(`${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${e}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let t=this.cbSelectAll.getValue(),e=this.isFilteredOnly(),i=this.isCurrentPageOnly(),n="uiSelectAll";i?n="uiSelectAllCurrentPage":e&&(n="uiSelectAllFiltered");let o={source:n,justFiltered:e,justCurrentPage:i};t?this.selectionService.selectAllRowNodes(o):this.selectionService.deselectAllRowNodes(o)}isCheckboxSelection(){let t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){let e=t,i=this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});t=e(i)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},ML=class extends mh{constructor(t,e,i){super(t,e,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=t}setComp(t,e,i,n){this.comp=t,this.setGui(e),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:o=>this.addRefreshFunction(o)}),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new IL(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new WC([this.column],e)),this.createManagedBean(new GC(this.column,e,this.beans)),this.createManagedBean(new Ls(e,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(e),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListeners(this.column,{colDefChanged:this.refresh.bind(this)}),this.addManagedEventListeners({columnValueChanged:this.onColumnValueChanged.bind(this),columnRowGroupChanged:this.onColumnRowGroupChanged.bind(this),columnPivotChanged:this.onColumnPivotChanged.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}resizeHeader(t,e){if(!this.column.isResizable())return;let i=this.column.getActualWidth(),n=this.column.getMinWidth(),o=this.column.getMaxWidth(),s=Math.min(Math.max(i+t,n),o);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:s}],e,!0,"uiColumnResized")}moveHeader(t){let{eGui:e,column:i,gos:n,ctrlsService:o}=this,s=this.getPinned(),r=e.getBoundingClientRect().left,a=i.getActualWidth(),l=n.get("enableRtl"),d=KC(t===0!==l?r-20:r+a+20,s,!0,n,o),u=this.focusService.getFocusedHeader();$C({allMovingColumns:[i],isFromHeader:!0,hDirection:t,xPosition:d,pinned:s,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:this.beans.columnModel,columnMoveService:this.beans.columnMoveService,presentedColsService:this.beans.visibleColsService}),o.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&u&&this.restoreFocus(u)}restoreFocus(t){this.focusService.focusHeaderPosition({headerPosition:_e(D({},t),{column:this.column})})}setupUserComp(){let t=this.lookupUserCompDetails();this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)}lookupUserCompDetails(){let t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,i)=>{this.beans.sortController.setSortForColumn(this.column,e,!!i,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,i)=>{this.setupTooltip(e,i)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new kL(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t),t.key===N.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===N.ENTER&&this.onEnterKeyDown(t),t.key===N.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)}onEnterKeyDown(t){if(t.ctrlKey||t.metaKey)this.showMenuOnKeyPress(t,!0);else if(this.sortable){let e=t.shiftKey;this.beans.sortController.progressSort(this.column,e,"uiColumnSorted")}}showMenuOnKeyPress(t,e){let i=this.comp.getUserCompInstance();!i||!(i instanceof pC)||i.onMenuKeyboardShortcut(e)&&t.preventDefault()}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){let e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let i=this.gos.get("tooltipShowMode")==="whenTruncated",n=this.eGui,o=this.column.getColDef();!e&&i&&!o.headerComponent&&(e=()=>{let a=n.querySelector(".ag-header-cell-text");return a?a.scrollWidth>a.clientWidth:!0});let s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:e},r=this.createManagedBean(new oa(s));this.refreshFunctions.push(()=>r.refreshToolTip())}setupClassesFromColDef(){let t=()=>{let e=this.column.getColDef(),i=fx(e,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(o=>{n.has(o)?n.delete(o):this.comp.addOrRemoveCssClass(o,!0)}),n.forEach(o=>this.comp.addOrRemoveCssClass(o,!1))};this.refreshFunctions.push(t),t()}setDragSource(t){if(this.dragSourceElement=t,this.removeDragSource(),!t||!this.draggable)return;let{column:e,beans:i,displayName:n,dragAndDropService:o,gos:s}=this,{columnModel:r}=i,a=!this.gos.get("suppressDragLeaveHidesColumns"),l=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(e),dragItemName:n,onDragStarted:()=>{a=!s.get("suppressDragLeaveHidesColumns"),e.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>e.setMoving(!1,"uiColumnMoved"),onGridEnter:c=>{if(a){let d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];r.setColsVisible(d,!0,"uiColumnMoved")}},onGridExit:c=>{if(a){let d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];r.setColsVisible(d,!1,"uiColumnMoved")}}};o.addDragSource(l,!0)}createDragItem(t){let e={};return e[t.getId()]=t.isVisible(),{columns:[t],visibleState:e}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(t){this.refreshFunctions.push(t)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(t=>t())}refreshHeaderComp(){let t=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(t){let e=this.comp.getUserCompInstance();return!e||!e.refresh?!1:e.refresh(t)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let t=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){let t=()=>{let e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};this.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(){let t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.addRefreshFunction(t),this.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(){let t=()=>{let e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let t=()=>{let e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};t(),this.addRefreshFunction(t)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:t,column:e,comp:i,beans:n}=this;if(!e.isSpanHeaderHeight()){t.style.removeProperty("top"),t.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:o,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);let{columnModel:r}=n,a=r.getColumnHeaderRowHeight();if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),t.style.setProperty("top","0px"),t.style.setProperty("height",`${a}px`);return}i.addOrRemoveCssClass("ag-header-span-total",s);let l=this.beans.columnModel.getGroupRowsHeight(),c=0;for(let d=0;d<o;d++)c+=l[l.length-1-d];t.style.setProperty("top",`${-c}px`),t.style.setProperty("height",`${a+c}px`)}refreshAriaSort(){if(this.sortable){let t=this.localeService.getLocaleTextFunc(),e=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(NO(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){let t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let t=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(t,e){e!=null?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;let t=Array.from(this.ariaDescriptionProperties.keys()).sort((e,i)=>e==="filter"?-1:i.charCodeAt(0)-e.charCodeAt(0)).map(e=>this.ariaDescriptionProperties.get(e)).join(". ");this.beans.ariaAnnouncementService.announceValue(t,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){let t=()=>{if(!this.gos.get("columnHoverHighlight"))return;let e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){let t=n=>this.handleMouseOverChange(n.type==="mouseenter"),e=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),i=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);this.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:e,contextmenu:i})}handleMouseOverChange(t){this.setActiveHeader(t),this.eventService.dispatchEvent({type:t?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}getAnchorElementForMenu(t){let e=this.comp.getUserCompInstance();return e instanceof pC?e.getAnchorElementForMenu(t):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},PL=class extends A{wireBeans(t){this.horizontalResizeService=t.horizontalResizeService,this.autoWidthCalculator=t.autoWidthCalculator,this.visibleColsService=t.visibleColsService,this.columnSizeService=t.columnSizeService,this.columnAutosizeService=t.columnAutosizeService}constructor(t,e,i,n){super(),this.eResize=e,this.comp=t,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gos.get("suppressAutoSize")){let e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{let i=[];this.columnGroup.getDisplayedLeafColumns().forEach(o=>{o.getColDef().suppressAutoSize||i.push(o.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(t){let e=this.getInitialValues(t);this.storeLocalValues(e),this.toggleColumnResizing(!0)}onResizing(t,e,i="uiColumnResized"){let n=this.normaliseDragChange(e),o=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(o,i,t)}getInitialValues(t){let e=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(e),n=this.getSizeRatiosOfColumns(e,i),o={columnsToResize:e,resizeStartWidth:i,resizeRatios:n},s=null;if(t&&(s=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),s){let r=s.getDisplayedLeafColumns(),a=o.groupAfterColumns=r.filter(c=>c.isResizable()),l=o.groupAfterStartWidth=this.getInitialSizeOfColumns(a);o.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}storeLocalValues(t){let{columnsToResize:e,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:o,groupAfterStartWidth:s,groupAfterRatios:r}=t;this.resizeCols=e,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=o,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=r}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(t){let e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();e>i.resizeStartWidth&&this.resizeColumns(i,e,t,!0)}resizeColumnsFromLocalValues(t,e,i=!0){if(!this.resizeCols||!this.resizeRatios)return;let n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,t,e,i)}resizeColumns(t,e,i,n=!0){let{columnsToResize:o,resizeStartWidth:s,resizeRatios:r,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=t,d=[];if(d.push({columns:o,ratios:r,width:e}),a){let u=e-s;d.push({columns:a,ratios:c,width:l-u})}this.columnSizeService.resizeColumnSets({resizeSets:d,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}getInitialSizeOfColumns(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}getSizeRatiosOfColumns(t,e){return t.map(i=>i.getActualWidth()/e)}normaliseDragChange(t){let e=t;return this.gos.get("enableRtl")?this.pinned!=="left"&&(e*=-1):this.pinned==="right"&&(e*=-1),e}destroy(){super.destroy(),this.clearLocalValues()}},AL=class extends A{constructor(t,e){super(),this.removeChildListenersFuncs=[],this.columnGroup=e,this.comp=t}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(e=>{e.addEventListener("widthChanged",t),e.addEventListener("visibleChanged",t),this.removeChildListenersFuncs.push(()=>{e.removeEventListener("widthChanged",t),e.removeEventListener("visibleChanged",t)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(t=>t()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`),this.comp.addOrRemoveCssClass("ag-hidden",t===0)}},FL=class extends mh{constructor(t,e,i){super(t,e,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){let n=this.getGui();this.setDragSource(n)}},this.column=t}setComp(t,e,i,n){this.comp=t,this.setGui(e),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupAutoHeight({wrapperElement:n}),this.setupUserComp(),this.addHeaderMouseListeners();let o=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new WC(s,e)),this.createManagedBean(new GC(this.column,e,this.beans)),this.createManagedBean(new AL(t,this.column)),this.resizeFeature=this.createManagedBean(new PL(t,i,o,this.column)),this.createManagedBean(new Ls(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(e)}getColumn(){return this.column}resizeHeader(t,e){if(!this.resizeFeature)return;let i=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+t,"uiColumnResized",!0)}moveHeader(t){let{beans:e,eGui:i,column:n,gos:o,ctrlsService:s}=this,r=o.get("enableRtl"),a=t===0,l=this.getPinned(),c=i.getBoundingClientRect(),d=c.left,u=c.width,p=KC(a!==r?d-20:d+u+20,l,!0,o,s),m=n.getGroupId(),y=this.focusService.getFocusedHeader();$C({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:p,pinned:l,fromEnter:!1,fakeEvent:!1,gos:o,columnModel:e.columnModel,columnMoveService:e.columnMoveService,presentedColsService:e.visibleColsService});let R=n.getDisplayedLeafColumns(),S=a?R[0]:Ze(R);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(S,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&y&&this.restoreFocus(m,n,y)}restoreFocus(t,e,i){let n=e.getLeafColumns();if(!n.length)return;let o=n[0].getParent();if(!o)return;let s=this.findGroupWidthId(o,t);s&&this.focusService.focusHeaderPosition({headerPosition:_e(D({},i),{column:s})})}findGroupWidthId(t,e){for(;t;){if(t.getGroupId()===e)return t;t=t.getParent()}return null}resizeLeafColumnsToFit(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(){let t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:i=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),i,"gridInitializing")},setTooltip:(i,n)=>{this.setupTooltip(i,n)}}),e=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(e)}addHeaderMouseListeners(){let t=n=>this.handleMouseOverChange(n.type==="mouseenter"),e=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());this.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:e,contextmenu:i})}handleMouseOverChange(t){this.eventService.dispatchEvent({type:t?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let i=this.column.getColGroupDef(),n=this.gos.get("tooltipShowMode")==="whenTruncated",o=this.eGui;!e&&n&&!i?.headerGroupComponent&&(e=()=>{let r=o.querySelector(".ag-header-group-text");return r?r.scrollWidth>r.clientWidth:!0});let s={getColumn:()=>this.column,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(i&&i.headerTooltip),shouldDisplayTooltip:e};i&&(s.getColDef=()=>i),this.createManagedBean(new oa(s))}setupExpandable(){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let e=this.refreshExpanded.bind(this);this.addManagedListeners(t,{expandedChanged:e,expandableChanged:e})}refreshExpanded(){let{column:t}=this;this.expandable=t.isExpandable();let e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){let t=this.column.getColGroupDef(),e=fx(t,this.gos,null,this.column);this.column.isPadding()?(e.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&e.push("ag-header-span-height")):(e.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&e.push("ag-header-cell-wrap-text")),e.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){let e=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach(n=>{this.addManagedListeners(n,{movingChanged:i})}),i()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){let e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(t){super.handleKeyDown(t);let e=this.getWrapperHasFocus();if(!(!this.expandable||!e)&&t.key===N.ENTER){let i=this.column,n=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(t){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!t))return;let{beans:e,column:i,displayName:n,gos:o,dragAndDropService:s}=this,{columnModel:r}=e,a=i.getProvidedColumnGroup().getLeafColumns(),l=!o.get("suppressDragLeaveHidesColumns"),c=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!o.get("suppressDragLeaveHidesColumns"),a.forEach(d=>d.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(d=>d.setMoving(!1,"uiColumnDragged")),onGridEnter:d=>{if(l){let{columns:u=[],visibleState:p}=d??{},m=u.filter(y=>!y.getColDef().lockVisible&&(!p||p[y.getColId()]));r.setColsVisible(m,!0,"uiColumnMoved")}},onGridExit:d=>{if(l){let u=d?.columns?.filter(p=>!p.getColDef().lockVisible)||[];r.setColsVisible(u,!1,"uiColumnMoved")}}};s.addDragSource(c,!0)}getDragItemForGroup(t){let e=t.getProvidedColumnGroup().getLeafColumns(),i={};e.forEach(o=>i[o.getId()]=o.isVisible());let n=[];return this.beans.visibleColsService.getAllCols().forEach(o=>{e.indexOf(o)>=0&&(n.push(o),pi(e,o))}),e.forEach(o=>n.push(o)),{columns:n,visibleState:i}}isSuppressMoving(){let t=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(t=!0)}),t||this.gos.get("suppressMovableColumns")}},OL=0,Zv=class extends A{constructor(t,e,i){super(),this.instanceId=OL++,this.rowIndex=t,this.pinned=e,this.type=i;let n=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(t){this.beans=t}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(t=>t.getGui()!=null):!1}setComp(t,e=!0){this.comp=t,e&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){let t=this.onRowHeightChanged.bind(this);this.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(t){if(this.headerCellCtrls)return th(this.headerCellCtrls).find(e=>e.getColumnGroupChild()===t)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){let t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){let{visibleColsService:t}=this.beans;return this.isPrintLayout?this.pinned!=null?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null):t.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:t,rowHeight:e}=this.getTopAndHeight();this.comp.setTop(t+"px"),this.comp.setHeight(e+"px")}getTopAndHeight(){let{columnModel:t,filterManager:e}=this.beans,i=[],n=t.getGroupRowsHeight(),o=t.getColumnHeaderRowHeight();i.push(...n),i.push(o),e?.hasFloatingFilters()&&i.push(t.getFloatingFiltersHeight());let s=0;for(let a=0;a<this.rowIndex;a++)s+=i[a];let r=i[this.rowIndex];return{topOffset:s,rowHeight:r}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(t=!1){let e=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(e,i,t)}getHeaderCtrls(){let t=this.headerCellCtrls;this.headerCellCtrls=new Map;let e=this.getColumnsInViewport();for(let n of e)this.recycleAndCreateHeaderCtrls(n,t);let i=n=>{let{focusService:o,visibleColsService:s}=this.beans;return o.isHeaderWrapperFocused(n)?s.isVisible(n.getColumnGroupChild()):!1};if(t)for(let[n,o]of t)i(o)?this.headerCellCtrls.set(n,o):this.destroyBean(o);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(t,e){if(!this.headerCellCtrls||t.isEmptyGroup())return;let i=t.getUniqueId(),n;if(e&&(n=e.get(i),e.delete(i)),n&&n.getColumnGroupChild()!=t&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",t,this.beans,this));break}case"group":n=this.createBean(new FL(t,this.beans,this));break;default:n=this.createBean(new ML(t,this.beans,this));break}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let t=[],e=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(n=>{let o=i.getHeadersToRender(n,e);t=t.concat(o)}),t}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(t){return this.headerCellCtrls?this.getHeaderCellCtrls().find(n=>n.getColumnGroupChild()==t):void 0}focusHeader(t,e){let i=this.findHeaderCellCtrl(t);return i?i.focus(e):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},NL=class extends A{constructor(t){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=t}wireBeans(t){this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService,this.pinnedWidthService=t.pinnedWidthService,this.columnModel=t.columnModel,this.focusService=t.focusService,this.filterManager=t.filterManager}setComp(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);let i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i}),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){let t=[...this.groupsRowCtrls];return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t}refresh(t=!1){let e=new ia,i=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{let a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){let c=this.createBean(new Zv(e.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},o=()=>{let a=e.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!t||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new Zv(a,this.pinned,"column")))},s=()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;let a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}let l=e.next();if(this.filtersRowCtrl){let c=this.filtersRowCtrl.getRowIndex()!==l;(!t||c)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Zv(l,this.pinned,"filter")))};n(),o(),s();let r=this.getAllCtrls();this.comp.setCtrls(r),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(t){if(Xo(t))return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(let e=0;e<this.groupsRowCtrls.length;e++){let i=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(i)return i}}getHtmlElementForColumnHeader(t){let e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null}getRowType(t){let i=this.getAllCtrls()[t];return i?i.getType():void 0}focusHeader(t,e,i){let o=this.getAllCtrls()[t];return o?o.focusHeader(e,i):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(t){return this.groupsRowCtrls[t]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(t){let e=new TL(this.pinned,t);this.createManagedBean(e)}restoreFocusOnHeader(t){if(!t)return;let{column:e}=t;e.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){let t=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new jC(t=>this.comp.setCenterWidth(`${t}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;let t=this.pinned==="left",e=this.pinned==="right";this.hidden=!0;let i=()=>{let n=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;let o=n==0,s=this.hidden!==o,r=this.gos.get("enableRtl"),a=this.gos.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(r&&t||!r&&e)?n+a:n;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!o),s&&(this.hidden=o,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},LL='<div class="ag-pinned-left-header" role="rowgroup"></div>',BL='<div class="ag-pinned-right-header" role="rowgroup"></div>',VL=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,Jv=class extends ot{constructor(t){super(),this.eCenterContainer=ae,this.headerRowComps={},this.rowCompsList=[],this.pinned=t}postConstruct(){this.selectAndSetTemplate();let t={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{let n=this.getGui();n.style.width=i,n.style.maxWidth=i,n.style.minWidth=i}};this.createManagedBean(new NL(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){let t=this.pinned=="left",e=this.pinned=="right",i=t?LL:e?BL:VL;this.setTemplate(i),this.eRowContainer=this.eCenterContainer!==ae?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())}setCtrls(t){let e=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i,n=o=>{let s=o.getGui();s.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(s),i&&LR(this.eRowContainer,s,i),i=s};t.forEach(o=>{let s=o.getInstanceId(),r=e[s];delete e[s];let a=r||this.createBean(new bL(o));this.headerRowComps[s]=a,this.rowCompsList.push(a),n(a)}),qo(e).forEach(o=>this.destroyRowComp(o))}},GL=class extends ot{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){let t={addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new wL).setComp(t,this.getGui(),this.getFocusableElement());let i=n=>{this.createManagedBean(n),this.appendChild(n)};i(new Jv("left")),i(new Jv(null)),i(new Jv("right"))}},WL={selector:"AG-HEADER-ROOT",component:GL};var qC=class extends A{constructor(t){super(),this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let t=this.getDomLayout(),e={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},i=e.autoHeight?"ag-layout-auto-height":e.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,e)}getDomLayout(){let t=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(L(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):t}},HL=class extends ot{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=ae,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(t){this.overlayService=t.overlayService,this.focusService=t.focusService,this.visibleColsService=t.visibleColsService}handleKeyDown(t){if(t.key!==N.TAB||t.defaultPrevented||to(t)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,t.shiftKey))return;let i=!1;t.shiftKey?i=this.focusService.focusGridView(Ze(this.visibleColsService.getAllCols()),!0,!1):i=this.focusService.focusNextGridCoreContainer(!1),i&&t.preventDefault()}updateLayoutClasses(t,e){let i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",e.autoHeight),i.toggle("ag-layout-normal",e.normal),i.toggle("ag-layout-print",e.print)}postConstruct(){this.createManagedBean(new qC(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(t){let e=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&e.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,e.toggle(t,!0)}showOverlay(t,e,i,n){if(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=t,!!t){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){let o=this.gos.getActiveDomElement();o&&!this.gos.isNothingFocused()&&(this.elToFocusAfter=o)}t.then(o=>{if(this.activePromise!==t){this.activeOverlay!==o&&(this.destroyBean(o),o=null);return}if(this.activePromise=null,!o)return;if(this.activeOverlay!==o&&(this.eOverlayWrapper.appendChild(o.getGui()),this.activeOverlay=o,n)){let r=o;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{r.refresh?.(this.gos.addGridCommonParams(D({},a??{})))})}let s=this.focusService;i&&s.isGridFocused()&&s.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(t){this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`)}destroyActiveOverlay(){this.activePromise=null;let t=this.activeOverlay;if(!t)return;let e=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,e&&!this.focusService.isGridFocused()&&(e=null);let i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(t),ri(this.eOverlayWrapper),e?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),super.destroy()}},UL={selector:"AG-OVERLAY-WRAPPER",component:HL},_x=class extends ot{constructor(t,e){super(),this.direction=e,this.eViewport=ae,this.eContainer=ae,this.hideTimeout=null,this.setTemplate(t)}wireBeans(t){this.animationFrameService=t.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",kR()||Yo())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=PR(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let t=this.getGui(),e=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(t,{mouseenter:e,mousedown:e,touchstart:e,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:t=>{t.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(t){let e=this.getViewportElement();pO(()=>wn(e),()=>this.setScrollPosition(t),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}},zL=class extends _x{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=ae,this.eRightSpacer=ae}wireBeans(t){super.wireBeans(t),this.visibleColsService=t.visibleColsService,this.pinnedRowModel=t.pinnedRowModel,this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService}postConstruct(){super.postConstruct();let t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new jC(e=>this.eContainer.style.width=`${e}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;let t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.visibleColsService.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&t,n=this.gos.getScrollbarWidth();i&&(e+=n),yn(this.eRightSpacer,e),this.eRightSpacer.classList.toggle("ag-scroller-corner",e<=n);let o=this.visibleColsService.getColsLeftWidth();this.enableRtl&&t&&(o+=n),yn(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=n)}setScrollVisible(){let t=this.scrollVisibleService.isHorizontalScrollShowing(),e=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=t&&this.gos.getScrollbarWidth()||0,s=i?0:n===0&&e?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),nc(this.getGui(),s),nc(this.eViewport,s),nc(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}getScrollPosition(){return dh(this.getViewportElement(),this.enableRtl)}setScrollPosition(t){wn(this.getViewportElement())||this.attemptSettingScrollPosition(t),uh(this.getViewportElement(),t,this.enableRtl)}},jL={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:zL},Sx=class extends A{wireBeans(t){this.maxDivHeightScaler=t.rowContainerHeightService}constructor(t,e){super(),this.eContainer=t,this.eViewport=e}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){let t=this.maxDivHeightScaler.getUiContainerHeight(),e=t!=null?`${t}px`:"";this.eContainer.style.height=e,this.eViewport&&(this.eViewport.style.height=e)}},$L=class extends _x{wireBeans(t){super.wireBeans(t),this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Sx(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){let t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.invisibleScrollbar,i=t&&this.gos.getScrollbarWidth()||0,n=i===0&&e?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),yn(this.getGui(),n),yn(this.eViewport,n),yn(this.eContainer,n),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){let{ctrlsService:t}=this,i=t.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),o=i.scrollTop;n!=o&&this.setScrollPosition(o,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(t,e){!e&&!wn(this.getViewportElement())&&this.attemptSettingScrollPosition(t),this.getViewportElement().scrollTop=t}},KL={selector:"AG-FAKE-VERTICAL-SCROLL",component:$L},vC=(t=>(t.FakeHScrollbar="fakeHScrollComp",t.Header="centerHeader",t.PinnedTop="topCenter",t.PinnedBottom="bottomCenter",t.StickyTop="stickyTopCenter",t.StickyBottom="stickyBottomCenter",t))(vC||{}),qL=class extends A{constructor(t){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=t,this.resetLastHScrollDebounced=fi(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=fi(()=>this.lastScrollSource[0]=null,500)}wireBeans(t){this.ctrlsService=t.ctrlsService,this.animationFrameService=t.animationFrameService,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService,this.rowModel=t.rowModel,this.heightScaler=t.rowContainerHeightService,this.rowRenderer=t.rowRenderer,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){let t=this.ctrlsService.getParams();this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(let e of Object.values(vC)){let i=t[e];this.registerScrollPartner(i,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let t=this.ctrlsService.getParams(),e=this.gos.get("debounceVerticalScrollbar"),i=e?fi(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=e?fi(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(t.fakeVScrollComp,n)}registerScrollPartner(t,e){t.onScrollCallback(e)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(t){this.centerRowsCtrl!=null&&(t===void 0&&(t=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(t)))}setScrollLeftForAllContainersExceptCurrent(t){for(let e of[...Object.values(vC),"Viewport"]){if(this.lastScrollSource[1]===e)continue;let i=this.getViewportForSource(e);uh(i,t,this.enableRtl)}}getViewportForSource(t){return t==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(t).getViewportElement()}isControllingScroll(t,e){return this.lastScrollSource[e]==null?(e===0?this.lastScrollSource[0]=t:this.lastScrollSource[1]=t,!0):this.lastScrollSource[e]===t}onHScroll(t){if(!this.isControllingScroll(t,1))return;let e=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=e;if(this.shouldBlockScrollUpdate(1,i,!0))return;let n=dh(this.getViewportForSource(t),this.enableRtl);this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onVScroll(t){if(!this.isControllingScroll(t,0))return;let e;t==="Viewport"?e=this.eBodyViewport.scrollTop:e=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,e,!0)&&(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(t){let e=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(t){let e={type:"bodyScroll",direction:t===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent(_e(D({},e),{type:"bodyScrollEnd"}))},100)}shouldBlockScrollUpdate(t,e,i=!1){return i&&!Yo()?!1:t===0?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e)}shouldBlockVerticalScroll(t){let e=IC(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return t<0||t+e>i}shouldBlockHorizontalScroll(t){let e=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&ch()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(t,e=!1){let n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(1,t)&&(this.enableRtl&&ch()?t=t>0?0:n:t=Math.min(Math.max(t,0),n)),uh(this.centerRowsCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){let e=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowsCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){let i=this.rowModel.getRowCount(),n=-1;for(let o=0;o<i;o++){let s=this.rowModel.getRow(o);if(typeof t=="function"){if(s&&t(s)){n=o;break}}else if(t===s||t===s.data){n=o;break}}n>=0&&this.ensureIndexVisible(n,e)}ensureIndexVisible(t,e){if(this.gos.isDomLayout("print"))return;let i=this.rowModel.getRowCount();if(typeof t!="number"||t<0||t>=i){L("Invalid row index for ensureIndexVisible: "+t);return}let o=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{o||this.paginationService?.goToPageWithIndex(t);let s=this.ctrlsService.getGridBodyCtrl(),r=s.getStickyTopHeight(),a=s.getStickyBottomHeight(),l=this.rowModel.getRow(t),c;do{let d=l.rowTop,u=l.rowHeight,p=this.pageBoundsService.getPixelOffset(),m=l.rowTop-p,y=m+l.rowHeight,R=this.getVScrollPosition(),S=this.heightScaler.getDivStretchOffset(),k=R.top+S,P=R.bottom+S,B=P-k,U=this.heightScaler.getScrollPositionForPixel(m),te=this.heightScaler.getScrollPositionForPixel(y-B),Q=Math.min((U+te)/2,m),ce=k+r>m,Fe=P-a<y,Z=null;e==="top"?Z=U:e==="bottom"?Z=te:e==="middle"?Z=Q:ce?Z=U-r:Fe&&(Z=te+a),Z!==null&&(this.setVerticalScrollPosition(Z),this.rowRenderer.redraw({afterScroll:!0})),c=d!==l.rowTop||u!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(t,e="auto"){let i=this.columnModel.getCol(t);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;let n=this.getPositionedHorizontalScroll(i,e);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(t,e){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(e),this.setVerticalScrollPosition(t),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(t,e){let{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(t),o=this.centerRowsCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),r=this.enableRtl,a=(r?i:n)||o,l=r?n:i;e!=="auto"&&(a=e==="start",l=e==="end");let c=e==="middle";if(a||l||c){let{colLeft:d,colMiddle:u,colRight:p}=this.getColumnBounds(t);return c?u-s/2:a?r?p:d:r?d-s:p-s}return null}isColumnOutsideViewport(t){let{start:e,end:i}=this.getViewportBounds(),{colLeft:n,colRight:o}=this.getColumnBounds(t),s=this.enableRtl,r=s?e>o:i<o,a=s?i<n:e>n;return{columnBeforeStart:r,columnAfterEnd:a}}getColumnBounds(t){let e=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),n=t.getActualWidth(),o=t.getLeft(),s=e?-1:1,r=e?i-o:o,a=r+n*s,l=r+n/2*s;return{colLeft:r,colMiddle:l,colRight:a}}getViewportBounds(){let t=this.centerRowsCtrl.getCenterWidth(),e=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=e,n=t+e;return{start:i,end:n,width:t}}},XL=class extends A{wireBeans(t){this.ctrlsService=t.ctrlsService,this.pinnedWidthService=t.pinnedWidthService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnSizeService=t.columnSizeService,this.scrollVisibleService=t.scrollVisibleService,this.columnViewportService=t.columnViewportService}constructor(t){super(),this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let t=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){let t=this.gridBodyCtrl.getBodyViewportElement(),e=pc(t);if(e<=50)return;let i=this.getPinnedColumnsOverflowingViewport(e-50),n=this.gos.getCallback("processUnpinnedColumns");i.length&&(n&&(i=n({columns:i,viewportWidth:e})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(t){let e=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),n=e+i;if(n<t)return[];let o=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()],r=0,a=0,l=0,c=[],d=n-l-t;for(;(a<o.length||r<s.length)&&d>0;){if(r<s.length){let u=s[r++];d-=u.getActualWidth(),c.push(u)}if(a<o.length&&d>0){let u=o[a++];d-=u.getActualWidth(),c.push(u)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let t=this.gridBodyCtrl.getBodyViewportElement(),e=IC(t);this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){let t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(t,e)}},YL=class extends A{wireBeans(t){this.dragService=t.dragService,this.rangeService=t.rangeService}constructor(t){super(),this.eContainer=t}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",e=>{if(e.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},QL=class extends ot{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[FC]),this.eCheckbox=ae}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),i=EC(t,e),[n,o]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=t(n,o);this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}onClicked(t,e,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:e,event:i,source:"checkboxSelected"})}init(t){if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>Jr(n),click:n=>{Jr(n);let o=this.gos.get("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,o)?this.onClicked(!0,o,n||{})===0&&this.onClicked(!1,o,n):s?this.onClicked(!1,o,n):this.onClicked(!0,o,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.gos.get("isRowSelectable")||typeof this.getIsVisible()=="function"){let n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){let t=this.rowNode.selectable,e=this.getIsVisible();if(t)if(typeof e=="function"){let n=this.overrides?.callbackParams;if(!this.column)t=e(_e(D({},n),{node:this.rowNode,data:this.rowNode.data}));else{let o=this.column.createColumnFunctionCallbackParams(this.rowNode);t=e(D(D({},n),o))}}else t=e??!1;if(this.column?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!t),this.setVisible(!0),this.setDisplayed(!0);return}if(this.overrides?.removeHidden){this.setDisplayed(t);return}this.setVisible(t)}getIsVisible(){return this.overrides?this.overrides.isVisible:this.column?.getColDef()?.checkboxSelection}},ZL=class extends ot{constructor(t,e,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=t,this.column=e,this.eCell=i}postConstruct(){this.getGui().appendChild(zi("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){let e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);let i=()=>{try{let n=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n)}catch{}};if(e){let n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});e(n)}else i()}checkVisibility(){let t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}},JL=class extends A{constructor(t,e){super(),this.staticClasses=[],this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let t=this.column.getColDef(),{cellClassRules:e}=t,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(e===this.cellClassRules?void 0:this.cellClassRules,e,i,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=e}applyUserStyles(){let t=this.column.getColDef();if(!t.cellStyle)return;let e;if(typeof t.cellStyle=="function"){let i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=t.cellStyle;e=n(i)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}applyClassesFromColDef(){let t=this.column.getColDef(),e=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},eB=class extends A{constructor(t,e,i,n,o){super(),this.cellCtrl=t,this.beans=e,this.rowNode=n,this.rowCtrl=o}setComp(t){this.eGui=t}onKeyDown(t){let e=t.key;switch(e){case N.ENTER:this.onEnterKeyDown(t);break;case N.F2:this.onF2KeyDown(t);break;case N.ESCAPE:this.onEscapeKeyDown(t);break;case N.TAB:this.onTabKeyDown(t);break;case N.BACKSPACE:case N.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case N.DOWN:case N.UP:case N.RIGHT:case N.LEFT:this.onNavigationKeyDown(t,e);break}}onNavigationKeyDown(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())}onShiftRangeSelect(t){if(!this.beans.rangeService)return;let e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){let{cellCtrl:i,beans:n,rowNode:o}=this,{gos:s,rangeService:r,eventService:a}=n;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),xN(t,s.get("enableCellEditingOnBackspace"))){if(r&&s.get("enableRangeSelection"))r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){let l=i.getColumn(),c=this.beans.valueService.parseValue(l,o,"",o.getValueFromValueService(l))??null;o.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(t,e);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){let e=t.shiftKey?N.UP:N.DOWN;this.beans.navigationService.navigateToNextCell(null,e,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(N.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()}onF2KeyDown(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(N.F2,t)}onEscapeKeyDown(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(t){if(t.target!==this.eGui||this.cellCtrl.isEditing())return;let n=t.key;n===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(n,t),t.preventDefault())}onSpaceKeyDown(t){let{gos:e}=this.beans;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){let i=this.rowNode.isSelected(),n=!i;if(n||!e.get("suppressRowDeselection")){let o=this.beans.gos.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:n,rangeSelect:t.shiftKey,groupSelectsFiltered:o,event:t,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:o,event:t,source:"spaceKey"})}}t.preventDefault()}destroy(){super.destroy()}},tB=class extends A{constructor(t,e,i){super(),this.cellCtrl=t,this.beans=e,this.column=i}onMouseEvent(t,e){if(!to(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e);break}}onCellClicked(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}let{eventService:e,rangeService:i,gos:n}=this.beans,o=t.ctrlKey||t.metaKey;i&&o&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);let s=this.cellCtrl.createEvent(t,"cellClicked");e.dispatchEvent(s);let r=this.column.getColDef();r.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellClicked(s)})},0),(n.get("singleClickEdit")||r.singleClickEdit)&&!n.get("suppressClickEdit")&&!(t.shiftKey&&i?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Yo()||hR("dblclick"))return!1;let t=new Date().getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e}onCellDoubleClicked(t){let{column:e,beans:i,cellCtrl:n}=this,{eventService:o,frameworkOverrides:s,gos:r}=i,a=e.getColDef(),l=n.createEvent(t,"cellDoubleClicked");o.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!r.get("singleClickEdit")&&!r.get("suppressClickEdit")&&n.startRowOrCellEdit(null,t)}onMouseDown(t){let{ctrlKey:e,metaKey:i,shiftKey:n}=t,o=t.target,{cellCtrl:s,beans:r}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=r;if(this.isRightClickInExistingRange(t))return;let u=l&&l.getCellRanges().length!=0;if(!n||!u){let m=d.get("enableCellTextSelection")&&t.defaultPrevented,y=(On()||m)&&!s.isEditing()&&!TC(o);s.focusCell(y)}if(n&&u&&!c.isCellFocused(s.getCellPosition())){t.preventDefault();let p=c.getFocusedCell();if(p){let{column:m,rowIndex:y,rowPinned:R}=p,k=r.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:R})?.getCellCtrl(m);k?.isEditing()&&k.stopEditing(),c.setFocusedCell({column:m,rowIndex:y,rowPinned:R,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(o)){if(l){let p=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(p);else{let m=e||i;l.setRangeToCell(p,m)}}a.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseDown"))}}isRightClickInExistingRange(t){let{rangeService:e}=this.beans;if(e){let i=e.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=t.button===2||t.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(t){return Zr(t,"ag-selection-checkbox",3)}onMouseOut(t){this.mouseStayingInsideCell(t)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(t){this.mouseStayingInsideCell(t)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget)return!1;let e=this.cellCtrl.getGui(),i=e.contains(t.target),n=e.contains(t.relatedTarget);return i&&n}destroy(){super.destroy()}},iB=class extends A{constructor(t,e){super(),this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(t){this.eGui=t,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){let t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))}onDisplayColumnsChanged(){let t=this.getColSpanningList();Os(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;let t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((t,e)=>t+e.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let t=this.column.getColSpan(this.rowNode),e=[];if(t===1)e.push(this.column);else{let i=this.column,n=this.column.getPinned();for(let o=0;i&&o<t&&(e.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||Xe(i)||n!==i.getPinned()));o++);}return e}onLeftChanged(){if(!this.eGui)return;let t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;return this.beans.gos.get("enableRtl")&&this.colsSpanning?t=Ze(this.colsSpanning):t=this.column,t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;let e=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){let i=this.beans.visibleColsService.getBodyContainerWidth();return e+i+(t||0)}return e+(t||0)}applyRowSpan(t){if(this.rowSpan===1&&!t)return;let i=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}};var Zl="ag-cell-range-selected",nB="ag-cell-range-chart",oB="ag-cell-range-single-cell",sB="ag-cell-range-chart-category",rB="ag-cell-range-handle",aB="ag-cell-range-top",lB="ag-cell-range-right",cB="ag-cell-range-bottom",dB="ag-cell-range-left",uB=class{constructor(t,e){this.beans=t,this.rangeService=t.rangeService,this.selectionHandleFactory=t.selectionHandleFactory,this.cellCtrl=e}setComp(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Zl,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Zl}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Zl}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Zl}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Zl}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(nB,this.hasChartRange),ah(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(oB,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){let t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.top,n=!e&&t.right,o=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass(aB,i),this.cellComp.addOrRemoveCssClass(lB,n),this.cellComp.addOrRemoveCssClass(cB,o),this.cellComp.addOrRemoveCssClass(dB,s)}isSingleCell(){let{rangeService:t}=this.beans;return this.rangeCount===1&&!!t&&!t.isMoreThanOneCell()}getHasChartRange(){let{rangeService:t}=this.beans;if(!this.rangeCount||!t)return!1;let e=t.getCellRanges();return e.length>0&&e.every(i=>Ms([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){let t=this.beans.gos.get("enableRtl"),e=!1,i=!1,n=!1,o=!1,s=this.cellCtrl.getCellPosition().column,r=this.beans.visibleColsService,a,l;t?(a=r.getColAfter(s),l=r.getColBefore(s)):(a=r.getColBefore(s),l=r.getColAfter(s));let c=this.rangeService.getCellRanges().filter(d=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(o=!0),l||(i=!0);for(let d=0;d<c.length&&!(e&&i&&n&&o);d++){let u=c[d],p=this.rangeService.getRangeStartRow(u),m=this.rangeService.getRangeEndRow(u);!e&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(e=!0),!n&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(n=!0),!o&&a&&u.columns.indexOf(a)<0&&(o=!0),!i&&l&&u.columns.indexOf(l)<0&&(i=!0)}return{top:e,right:i,bottom:n,left:o}}refreshHandle(){if(this.beans.context.isDestroyed())return;let t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(rB,!!this.selectionHandle)}shouldHaveSelectionHandle(){let t=this.beans.gos,e=this.rangeService.getCellRanges(),i=e.length;if(this.rangeCount<1||i<1)return!1;let n=Ze(e),o=this.cellCtrl.getCellPosition(),s=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),r=t.get("enableRangeHandle"),a=i===1&&!this.cellCtrl.isEditing()&&(s||r);if(this.hasChartRange){let c=e[0].type===1&&this.rangeService.isCellInSpecificRange(o,e[0]);this.cellComp.addOrRemoveCssClass(sB,c),a=n.type===0}return a&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,o)}addSelectionHandle(){let t=this.beans.gos,e=Ze(this.rangeService.getCellRanges()).type,n=t.get("enableFillHandle")&&Xe(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},hB="ag-cell",pB="ag-cell-auto-height",fB="ag-cell-normal-height",mB="ag-cell-focus",gB="ag-cell-first-right-pinned",vB="ag-cell-last-left-pinned",CB="ag-cell-not-inline-editing",bB="ag-column-hover",yB="ag-cell-wrap-text",wB=0,_B=(()=>{let t=class CC extends A{constructor(i,n,o,s){super(),this.column=i,this.rowNode=n,this.beans=o,this.rowCtrl=s,this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.instanceId=i.getId()+"-"+wB++,this.colIdSanitised=Fn(this.column.getId()),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new iB(this,this.beans),this.addDestroyFunc(()=>{this.cellPositionFeature?.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new JL(this,this.beans),this.addDestroyFunc(()=>{this.cellCustomStyleFeature?.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new tB(this,this.beans,this.column),this.addDestroyFunc(()=>{this.cellMouseListenerFeature?.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new eB(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{this.cellKeyboardListenerFeature?.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new uB(this.beans,this),this.addDestroyFunc(()=>{this.cellRangeFeature?.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(i,n){let o=()=>{let a=this.column.getColDef(),l=this.rowNode.data;if(a.tooltipField&&W(l))return ic(l,a.tooltipField,this.column.isTooltipFieldContainsDots());let c=a.tooltipValueGetter;return c?c(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!n&&s&&!this.isCellRenderer()&&(n=()=>{let a=this.getGui(),l=a.children.length===0?a:a.querySelector(".ag-cell-value");return l?l.scrollWidth>l.clientWidth:!0});let r={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:i!=null?()=>i:o,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:n};this.tooltipFeature=new oa(r,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(i,n,o,s,r){this.cellComp=i,this.eGui=n,this.printLayout=s,this.addDomData(),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(n),this.cellCustomStyleFeature?.setComp(i),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(i,n),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(a=>a()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!i)return;let n=i.parentElement,o=this.beans.gos.getRowHeightForNode(this.rowNode).height,s=l=>{if(this.editing||!this.isAlive())return;let{paddingTop:c,paddingBottom:d,borderBottomWidth:u,borderTopWidth:p}=Ns(n),m=c+d+u+p,R=i.offsetHeight+m;if(l<5){let k=this.beans.gos.getDocument(),P=!k||!k.contains(i),B=R==0;if(P||B){window.setTimeout(()=>s(l+1),0);return}}let S=Math.max(R,o);this.rowNode.setRowAutoHeight(S,this.column)},r=()=>s(0);r();let a=this.beans.resizeObserverService.observeResize(i,r);this.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}isCellRenderer(){let i=this.column.getColDef();return i.cellRenderer!=null||i.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(i=!1){let n=this.getValueToDisplay(),o;if(this.rowNode.stub&&this.rowNode.groupData?.[this.column.getId()]==null){let r=this.createCellRendererParams();o=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),r)}else if(this.isCellRenderer()){let r=this.createCellRendererParams();o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),r)}this.cellComp.setRenderDetails(o,n,i),this.cellRangeFeature?.refreshHandle()}setupControlComps(){let i=this.column.getColDef();this.includeSelection=this.isIncludeControl(i.checkboxSelection),this.includeRowDrag=this.isIncludeControl(i.rowDrag),this.includeDndSource=this.isIncludeControl(i.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(i){return this.rowNode.rowPinned!=null?!1:typeof i=="function"||i===!0}refreshShouldDestroy(){let i=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(i.checkboxSelection),o=this.includeRowDrag!=this.isIncludeControl(i.rowDrag),s=this.includeDndSource!=this.isIncludeControl(i.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return n||o||s||r}startEditing(i=null,n=!1,o=null){let{editService:s}=this.beans;if(!(!this.isCellEditable()||this.editing||!s)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(i,n,o)});return}s.startEditing(this,i,n,o)}}setEditing(i,n){this.editCompDetails=n,this.editing!==i&&(this.editing=i,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(i=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(i):this.stopEditing(i)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(i=!1){let{editService:n}=this.beans;return!this.editing||!n?!1:n.stopEditing(this,i)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:n=>this.beans.valueService.setValue(this.rowNode,this.column,n),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(n,o,s,r)=>this.registerRowDragger(n,o,r),setTooltip:(n,o)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(n,o),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(i){i.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(i){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(i)}refreshCell(i){if(this.suppressRefreshCell||this.editing)return;let n=this.column.getColDef(),o=i!=null&&!!i.newData,s=i!=null&&!!i.suppressFlash||!!n.suppressCellFlash,r=n.field==null&&n.valueGetter==null&&n.showRowGroup==null,a=i&&i.forceRefresh||r||o,l=!!this.cellComp,c=this.updateAndFormatValue(l),d=a||c;if(l){if(d){this.showValue(o);let u=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!s&&!u&&(this.beans.gos.get("enableCellChangeFlash")||n.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(i=!1,n=!1){this.beans.editService?.stopEditingAndFocus(this,i,n)}flashCell(i){let n=i?.flashDuration??i?.flashDelay,o=i?.fadeDuration??i?.fadeDelay;this.animateCell("data-changed",n,o)}animateCell(i,n,o){if(!this.cellComp)return;let{gos:s}=this.beans;if(n||(n=s.get("cellFlashDuration")),n===0)return;W(o)||(o=s.get("cellFadeDuration"));let r=`ag-cell-${i}`,a=`ag-cell-${i}-animation`;this.cellComp.addOrRemoveCssClass(r,!0),this.cellComp.addOrRemoveCssClass(a,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.cellComp.addOrRemoveCssClass(a,!0),this.eGui.style.transition=`background-color ${o}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.eGui.style.transition="")},o))},n)})}onFlashCells(i){if(!this.cellComp)return;let n=this.beans.cellPositionUtils.createId(this.getCellPosition());i.cells[n]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(i){return this.callValueFormatter(i)??i}callValueFormatter(i){return this.beans.valueService.formatValue(this.column,this.rowNode,i)}updateAndFormatValue(i){let n=this.value,o=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),i?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=o:!0}valuesAreEqual(i,n){let o=this.column.getColDef();return o.equals?o.equals(i,n):i===n}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){let i=this.getGui();this.beans.gos.setDomData(i,CC.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gos.setDomData(i,CC.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(i,n){return this.beans.gos.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:i,rowIndex:this.rowNode.rowIndex})}processCharacter(i){this.cellKeyboardListenerFeature?.processCharacter(i)}onKeyDown(i){this.cellKeyboardListenerFeature?.onKeyDown(i)}onMouseEvent(i,n){this.cellMouseListenerFeature?.onMouseEvent(i,n)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{cellComp:i,column:n,beans:o}=this;mx(i,n,o.visibleColsService)}refreshAriaColIndex(){let i=this.beans.visibleColsService.getAriaColIndex(this.column);DR(this.getGui(),i)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(i,n=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(i,n)});return}this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(i,this):this.startEditing(i,!0,n)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(i=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:i})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onSuppressCellFocusChanged(i){this.eGui&&un(this.eGui,"tabindex",i?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;let i=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(gB,i)}onLastLeftPinnedChanged(){if(!this.cellComp)return;let i=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(vB,i)}onCellFocused(i){if(this.beans.focusService.isCellFocusSuppressed())return;let n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&i?.forceBrowserFocus&&(this.focusEventToRestore=i);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(mB,n),n&&i&&i.forceBrowserFocus){let s=this.cellComp.getFocusableElement();if(this.editing){let r=this.beans.focusService.findFocusableElements(s,null,!0);r.length&&(s=r[0])}s.focus({preventScroll:!!i.preventScrollOnBrowserFocus})}let o=this.beans.gos.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit(),n&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:io(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(hB,!0),this.cellComp.addOrRemoveCssClass(CB,!0);let i=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(pB,i),this.cellComp.addOrRemoveCssClass(fB,!i)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;let i=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(bB,i)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){let i=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(yB,i)}dispatchCellContextMenuEvent(i){let n=this.column.getColDef(),o=this.createEvent(i,"cellContextMenu");this.beans.eventService.dispatchEvent(o),n.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{n.onCellContextMenu(o)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){let i=new QL;return this.beans.context.createBean(i),i.init({rowNode:this.rowNode,column:this.column}),i}createDndSource(){let i=new ZL(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(i),i}registerRowDragger(i,n,o){if(this.customRowDragComp){this.customRowDragComp.setDragElement(i,n);return}let s=this.createRowDragComp(i,n,o);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(i,n,o){let s=this.beans.gos.get("pagination"),r=this.beans.gos.get("rowDragManaged"),a=this.beans.gos.isRowModelType("clientSide");if(r){if(!a){L("managed row dragging is only allowed in the Client Side Row Model");return}if(s){L("managed row dragging is not possible when doing pagination");return}}let l=new fC(()=>this.value,this.rowNode,this.column,i,n,o);return this.beans.context.createBean(l),l}setSuppressRefreshCell(i){this.suppressRefreshCell=i}getEditCompDetails(){return this.editCompDetails}};return t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t})(),As=_B,SB=0,RB=(()=>{let t=class bC extends A{constructor(i,n,o,s,r){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=n,this.gos=n.gos,this.rowNode=i,this.paginationPage=n.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=s,this.printLayout=r,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=i.id+"-"+SB++,this.rowId=Fn(i.id),this.initRowBusinessKey(),this.rowFocused=n.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(o),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let i=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Fn(i)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}updateGui(i,n){i==="left"?this.leftGui=n:i==="right"?this.rightGui=n:i==="fullWidth"?this.fullWidthGui=n:this.centerGui=n}setComp(i,n,o){let s={rowComp:i,element:n,containerType:o};this.allRowGuis.push(s),this.updateGui(o,s),this.initialiseRowComp(s),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(i){this.allRowGuis=this.allRowGuis.filter(n=>n.containerType!==i),this.updateGui(i,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(i){let n=i?"none":"";this.allRowGuis.forEach(o=>o.element.style.display=n)}initialiseRowComp(i){let n=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(i),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(i),this.updateRowIndexes(i),this.setFocusedClasses(i),this.setStylesFromGridOptions(!1,i),n.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(i),this.updateColumnLists(!this.useAnimationFrameForCreate);let o=i.rowComp;this.getInitialRowClasses(i.containerType).forEach(r=>o.addOrRemoveCssClass(r,!0)),this.executeSlideAndFadeAnimations(i),this.rowNode.group&&rh(i.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),n.setDomData(i.element,bC.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>n.setDomData(i.element,bC.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,i.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(i.element),this.isFullWidth()&&this.setupFullWidth(i),n.get("rowDragEntireRow")&&this.addRowDraggerToRow(i),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&i.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(i){this.businessKeySanitised!=null&&i.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(i){this.rowId=Fn(this.rowNode.id),this.rowId!=null&&i.setRowId(this.rowId)}executeSlideAndFadeAnimations(i){let{containerType:n}=i;this.slideInAnimation[n]&&(VS(()=>{this.onTopChanged()}),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(VS(()=>{i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[n]=!1)}addRowDraggerToRow(i){if(this.gos.get("enableRangeSelection")){L("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}let n=this.beans.localeService.getLocaleTextFunc(),o=new fC(()=>`1 ${n("rowDragRow","row")}`,this.rowNode,void 0,i.element,void 0,!0),s=this.createBean(o,this.beans.context);this.rowDragComps.push(s)}setupFullWidth(i){let n=this.getPinnedForContainer(i.containerType);if(this.rowType=="FullWidthDetail"&&!hi.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let o=this.createFullWidthCompDetails(i.element,n);i.rowComp.showFullWidth(o)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(i=>i?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(i){let n=this.getCellCtrl(i);return n?n.getGui():null}executeProcessRowPostCreateFunc(){let i=this.gos.getCallback("processRowPostCreate");if(!i||!this.areAllContainersReady())return;let n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};i(n)}areAllContainersReady(){let i=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),n=!!this.centerGui,o=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return i&&n&&o}setRowType(){let i=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),n=this.rowNode.isFullWidthCell(),o=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(s);i?this.rowType="FullWidthLoading":o?this.rowType="FullWidthDetail":n?this.rowType="FullWidth":a?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(i=!1,n=!1){if(this.isFullWidth())return;if(i||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(i,n,o=null){let s={list:[],map:{}},r=(a,l)=>{s.list.push(l),s.map[a]=l};return n.forEach(a=>{let l=a.getInstanceId(),c=i.map[l];c||(c=new As(a,this.rowNode,this.beans,this)),r(l,c)}),i.list.forEach(a=>{if(s.map[a.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(a,o)){r(a.getColumn().getInstanceId(),a);return}a.destroy()}),s}updateColumnListsImpl(i){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(i)}setCellCtrls(i){this.allRowGuis.forEach(n=>{let o=this.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(o,i)})}getCellCtrlsForContainer(i){switch(i){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let i=this.beans.columnViewportService,n=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let o=i.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);let s=n.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");let r=n.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(i,n){if(i.getColumn().getPinned()!=n)return!0;let a=i.isEditing(),l=this.beans.focusService.isCellFocused(i.getCellPosition());if(a||l){let d=i.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(d)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(i){let n=()=>{i.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",n),this.addManagedPropertyListener("ensureDomOrder",n)}setAnimateFlags(i){if(this.isSticky()||!i)return;let n=W(this.rowNode.oldRowTop),o=this.beans.visibleColsService.isPinningLeft(),s=this.beans.visibleColsService.isPinningRight();if(n){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=o,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=o,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let i=(l,c)=>l?l.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(l.element,c).params):!0,n=i(this.fullWidthGui,null),o=i(this.centerGui,null),s=i(this.leftGui,"left"),r=i(this.rightGui,"right");return n&&o&&s&&r}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(i=>i.onRowIndexChanged())},cellChanged:i=>{this.getAllCellCtrls().forEach(n=>n.onCellChanged(i))}})}onRowNodeDataChanged(i){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(o=>o.refreshCell({suppressFlash:!i.update,newData:!i.update})),this.allRowGuis.forEach(o=>{this.setRowCompRowId(o.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(o.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let i=this.rowNode.highlighted;this.allRowGuis.forEach(n=>{let o=i===0,s=i===1;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",o),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){let i=this.rowNode.dragging;this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-dragging",i))}updateExpandedCss(){let i=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(o=>{o.rowComp.addOrRemoveCssClass("ag-row-group",i),o.rowComp.addOrRemoveCssClass("ag-row-group-expanded",i&&n),o.rowComp.addOrRemoveCssClass("ag-row-group-contracted",i&&!n),rh(o.element,i&&n)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:io(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(i){let n=this.allRowGuis.find(c=>c.element.contains(i.target));if(!((n?n.element:null)===i.target))return;let r=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(i,i.key,l,!0),i.preventDefault()}onTabKeyDown(i){if(i.defaultPrevented||to(i))return;let n=this.allRowGuis.find(a=>a.element.contains(i.target)),o=n?n.element:null,s=o===i.target,r=null;s||(r=this.beans.focusService.findNextFocusableElement(o,!1,i.shiftKey)),(this.isFullWidth()&&s||!r)&&this.beans.navigationService.onTabKeyDown(this,i)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let i=this.allRowGuis.find(n=>wn(n.element))?.element;return i?i.getBoundingClientRect().top:0}onSuppressCellFocusChanged(i){let n=this.isFullWidth()&&i?void 0:-1;this.allRowGuis.forEach(o=>{un(o.element,"tabindex",n)})}onFullWidthRowFocused(i){let n=this.rowNode,o=i?this.isFullWidth()&&i.rowIndex===n.rowIndex&&i.rowPinned==n.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;s&&(s.classList.toggle("ag-full-width-focus",o),o&&i?.forceBrowserFocus&&s.focus({preventScroll:!0}))}recreateCell(i){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,i),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,i),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,i),i.destroy(),this.updateColumnLists()}removeCellCtrl(i,n){let o={list:[],map:{}};return i.list.forEach(s=>{s!==n&&(o.list.push(s),o.map[s.getColumn().getInstanceId()]=s)}),o}onMouseEvent(i,n){switch(i){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}}createRowEvent(i,n){return this.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})}createRowEventWithSource(i,n){let o=this.createRowEvent(i,n);return o.source=this,o}onRowDblClick(i){to(i)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",i))}onRowMouseDown(i){if(this.lastMouseDownOnDragger=Zr(i.target,"ag-row-drag",3),!this.isFullWidth())return;let n=this.rowNode,o=this.beans.visibleColsService;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();let s=this.getFullWidthElement(),r=i.target,a=!0;s&&s.contains(r)&&TC(r)&&(a=!1),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:o.getAllCols()[0],rowPinned:n.rowPinned,forceBrowserFocus:a})}onRowClick(i){if(to(i)||this.lastMouseDownOnDragger)return;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",i));let o=i.ctrlKey||i.metaKey,s=i.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;let a=this.gos.get("rowMultiSelectWithClick"),l=!this.gos.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:i,source:c}):o?l&&this.rowNode.setSelectedParams({newValue:!1,event:i,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:i,source:c});else{let d=a?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:s,event:i,source:c})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(i){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;let n=()=>{let s=i.clientHeight;if(s!=null&&s>0){let r=()=>{this.rowNode.setRowHeight(s),this.beans.rowModel.getType()==="clientSide"?this.beans.rowModel.onRowHeightChanged():this.beans.rowModel.getType()==="serverSide"&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(r,0)}},o=this.beans.resizeObserverService.observeResize(i,n);this.addDestroyFunc(o),n()}createFullWidthCompDetails(i,n){let{gos:o,rowNode:s}=this,r=o.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:i,eParentOfValue:i,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(l,c,d,u)=>this.addFullWidthRowDragging(l,c,d,u),setTooltip:(l,c)=>this.refreshRowTooltip(l,c)}),a=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return a.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return a.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return a.getFullWidthLoadingCellRendererDetails(r);default:return a.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(i,n){if(!this.fullWidthGui)return;let o={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>i,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new oa(o,this.beans))}addFullWidthRowDragging(i,n,o="",s){if(!this.isFullWidth())return;let r=new fC(()=>o,this.rowNode,void 0,i,n,s);this.createBean(r,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(r,this.beans.context)})}onUiLevelChanged(){let i=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=i){let n="ag-row-level-"+i,o="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(n,!0),s.rowComp.addOrRemoveCssClass(o,!1)})}this.rowLevel=i}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){let i=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==i&&(this.firstRowOnPage=i,this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-first",i))),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-last",n)))}stopEditing(i=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,i)}setInlineEditingCss(){let i=this.editingRow||this.getAllCellCtrls().some(n=>n.isEditing());this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",i),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!i)})}setEditingRow(i){this.editingRow=i}startRowEditing(i=null,n=null,o=null){this.editingRow||this.beans.rowEditService?.startEditing(this,i,n,o)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!i||!i.length||i.forEach(n=>{this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))},i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!1))})}setStylesFromGridOptions(i,n){i&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,o=>o.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(i){return i==="left"||i==="right"?i:null}getInitialRowClasses(i){let n=this.getPinnedForContainer(i),o={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[i],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(o)}processStylesFromGridOptions(){let i=this.gos.get("rowStyle");if(i&&typeof i=="function"){L("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}let n=this.gos.getCallback("getRowStyle"),o;if(n){let s={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};o=n(s)}return o||i?Object.assign({},i,o):this.emptyStyle}onRowSelected(i){let n=!!this.rowNode.isSelected();this.forEachGui(i,o=>{o.rowComp.addOrRemoveCssClass("ag-row-selected",n),ah(o.element,n),o.element.contains(this.gos.getActiveDomElement())&&(o===this.centerGui||o===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;let i=this.rowNode.isSelected();if(i&&this.gos.get("suppressRowDeselection"))return;let o=this.beans.localeService.getLocaleTextFunc()(i?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${i?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(o,"rowSelection")}addHoverFunctionality(i){if(!this.active)return;let{rowNode:n,beans:o,gos:s}=this;this.addManagedListeners(i,{mouseenter:()=>n.onMouseEnter(),mouseleave:()=>n.onMouseLeave()}),this.addManagedListeners(n,{mouseEnter:()=>{!o.dragService.isDragging()&&!s.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),n.setHovered(!1)}})}roundRowTopToBounds(i){let n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),o=this.applyPaginationOffset(n.top,!0)-100,s=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(o,i),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(i,n){i?n(i):this.allRowGuis.forEach(n)}onRowHeightChanged(i){if(this.rowNode.rowHeight==null)return;let n=this.rowNode.rowHeight,o=this.beans.environment.getDefaultRowHeight(),r=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,a=r?`${Math.min(o,r)-2}px`:void 0;this.forEachGui(i,l=>{l.element.style.height=`${n}px`,a&&l.element.style.setProperty("--ag-line-height",a)})}addEventListener(i,n){super.addEventListener(i,n)}removeEventListener(i,n){super.removeEventListener(i,n)}destroyFirstPass(i=!1){if(this.active=!1,!i&&this.gos.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){let s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);let n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventService.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();let i=n=>(n.list.forEach(o=>o.destroy()),{list:[],map:{}});this.centerCellCtrls=i(this.centerCellCtrls),this.leftCellCtrls=i(this.leftCellCtrls),this.rightCellCtrls=i(this.rightCellCtrls)}setFocusedClasses(i){this.forEachGui(i,n=>{n.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let i=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){let i=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==i&&(this.paginationPage=i,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(i,n=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return i;let o=this.beans.pageBoundsService.getPixelOffset();return i+o*(n?1:-1)}setRowTop(i){if(!this.printLayout&&W(i)){let n=this.applyPaginationOffset(i),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}px`;this.setRowTopStyle(r)}}getInitialRowTop(i){return this.suppressRowTransform?this.getInitialRowTopShared(i):void 0}getInitialTransform(i){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(i)})`}getInitialRowTopShared(i){if(this.printLayout)return"";let n=this.rowNode,o;if(this.isSticky())o=n.stickyRowTop;else{let s=this.slideInAnimation[i]?this.roundRowTopToBounds(n.oldRowTop):n.rowTop,r=this.applyPaginationOffset(s);o=n.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return o+"px"}setRowTopStyle(i){this.allRowGuis.forEach(n=>this.suppressRowTransform?n.rowComp.setTop(i):n.rowComp.setTransform(`translateY(${i})`))}getRowNode(){return this.rowNode}getCellCtrl(i){let n=null;return this.getAllCellCtrls().forEach(o=>{o.getColumn()==i&&(n=o)}),n!=null||this.getAllCellCtrls().forEach(o=>{o.getColSpanningList().indexOf(i)>=0&&(n=o)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(i){let n=this.rowNode.getRowIndexString();if(n===null)return;let o=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),s=this.rowNode.rowIndex%2===0,r=o+this.rowNode.rowIndex+1;this.forEachGui(i,a=>{a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",s),a.rowComp.addOrRemoveCssClass("ag-row-odd",!s),ER(a.element,r)})}setStoppingRowEdit(i){this.stoppingRowEdit=i}};return t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t})(),Fs=RB,xB=class extends A{wireBeans(t){this.mouseEventService=t.mouseEventService,this.valueService=t.valueService,this.menuService=t.menuService,this.ctrlsService=t.ctrlsService,this.navigationService=t.navigationService,this.focusService=t.focusService,this.undoRedoService=t.undoRedoService,this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.pinnedRowModel=t.pinnedRowModel,this.rangeService=t.rangeService,this.clipboardService=t.clipboardService}constructor(t){super(),this.element=t}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){let t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedElementListeners(this.element,{[t]:e})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",hR("touchstart")?"touchstart":"mousedown"].forEach(i=>{let n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})})}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||to(e))return;let i=this.getRowForEvent(e),n=this.mouseEventService.getRenderedCellForEvent(e);t==="contextmenu"?this.handleContextMenuMouseEvent(e,void 0,i,n):(n&&n.onMouseEvent(t,e),i&&i.onMouseEvent(t,e))}mockContextMenuForIPad(){if(!Yo())return;let t=new Ko(this.element),e=i=>{let n=this.getRowForEvent(i.touchEvent),o=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,n,o)};this.addManagedListeners(t,{longTap:e}),this.addDestroyFunc(()=>t.destroy())}getRowForEvent(t){let e=t.target;for(;e;){let i=this.gos.getDomData(e,Fs.DOM_DATA_KEY_ROW_CTRL);if(i)return i;e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,i,n){let o=i?i.getRowNode():null,s=n?n.getColumn():null,r=null;if(s){let c=t||e;n.dispatchCellContextMenuEvent(c??null),r=this.valueService.getValue(s,o)}let a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:e,rowNode:o,column:s,value:r,anchorToElement:l})}getControlsForEventTarget(t){return{cellCtrl:nC(this.gos,t,As.DOM_DATA_KEY_CELL_CTRL),rowCtrl:nC(this.gos,t,Fs.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(e.target);e.defaultPrevented||(i?this.processCellKeyboardEvent(i,t,e):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,t,e))}processCellKeyboardEvent(t,e,i){let n=t.getRowNode(),o=t.getColumn(),s=t.isEditing();!mC(this.gos,i,n,o,s)&&e==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(i)||t.onKeyDown(i),this.doGridOperations(i,t.isEditing()),ox(i)&&t.processCharacter(i)),e==="keydown"&&this.eventService.dispatchEvent(t.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(t,e,i){let n=t.getRowNode(),o=this.focusService.getFocusedCell(),s=o&&o.column;if(!mC(this.gos,i,n,s,!1)){let a=i.key;if(e==="keydown")switch(a){case N.PAGE_HOME:case N.PAGE_END:case N.PAGE_UP:case N.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case N.UP:case N.DOWN:t.onKeyboardNavigate(i);break;case N.TAB:t.onTabKeyDown(i);break;default:}}e==="keydown"&&this.eventService.dispatchEvent(t.createRowEvent("cellKeyDown",i))}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey||e||!this.mouseEventService.isEventFromThisGrid(t))return;let i=RN(t);if(i===N.A)return this.onCtrlAndA(t);if(i===N.C)return this.onCtrlAndC(t);if(i===N.D)return this.onCtrlAndD(t);if(i===N.V)return this.onCtrlAndV(t);if(i===N.X)return this.onCtrlAndX(t);if(i===N.Y)return this.onCtrlAndY();if(i===N.Z)return this.onCtrlAndZ(t)}onCtrlAndA(t){let{pinnedRowModel:e,rowModel:i,rangeService:n}=this;if(n&&i.isRowsToRender()){let[o,s]=[e.isEmpty("top"),e.isEmpty("bottom")],r=o?null:"top",a,l;s?(a=null,l=i.getRowCount()-1):(a="bottom",l=e.getPinnedBottomRowCount()-1);let c=this.visibleColsService.getAllCols();if(Ei(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:Ze(c)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e?.isEditing()||i?.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(t){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e?.isEditing()||i?.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(t){let{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(t){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()}onCtrlAndZ(t){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},EB=class extends A{wireBeans(t){this.pinnedWidthService=t.pinnedWidthService}constructor(t){super(),this.element=t}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){let t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;wt(this.element,e),yn(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},DB=class extends A{wireBeans(t){this.pinnedWidthService=t.pinnedWidthService}constructor(t){super(),this.element=t}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){let t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;wt(this.element,e),yn(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Yu=t=>t.getTopRowCtrls(),Qu=t=>t.getStickyTopRowCtrls(),Zu=t=>t.getStickyBottomRowCtrls(),Ju=t=>t.getBottomRowCtrls(),eh=t=>t.getCentreRowCtrls(),TB={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:eh},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:eh},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:eh},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:eh},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Yu},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Yu},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Yu},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Yu},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Qu},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Qu},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Qu},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Qu},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Zu},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Zu},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Zu},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Zu},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Ju},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Ju},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Ju},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Ju}};function Yr(t){return TB[t]}var IB=["topCenter","topLeft","topRight"],kB=["bottomCenter","bottomLeft","bottomRight"],MB=["center","left","right"],PB=["center","left","right","fullWidth"],AB=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],FB=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],OB=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Rx=["stickyTopCenter","stickyTopLeft","stickyTopRight"],xx=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],NB=[...Rx,"stickyTopFullWidth",...xx,"stickyBottomFullWidth"],LB=[...IB,...kB,...MB,...Rx,...xx],BB=class extends A{constructor(t){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=t,this.options=Yr(t)}wireBeans(t){this.dragService=t.dragService,this.ctrlsService=t.ctrlsService,this.columnViewportService=t.columnViewportService,this.resizeObserverService=t.resizeObserverService,this.rowRenderer=t.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new XL(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(t){this.comp.setOffsetTop(`${t.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(t,e){t.indexOf(this.name)>=0&&e()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,e,i){this.comp=t,this.eContainer=e,this.eViewport=i,this.createManagedBean(new xB(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let n=()=>this.onPinnedWidthChanged();this.forContainers(FB,()=>{this.pinnedWidthFeature=this.createManagedBean(new EB(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(OB,()=>{this.pinnedWidthFeature=this.createManagedBean(new DB(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(PB,()=>this.createManagedBean(new Sx(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(LB,()=>this.createManagedBean(new YL(this.eContainer))),this.forContainers(AB,()=>this.createManagedBean(new jC(o=>this.comp.setContainerWidth(`${o}px`)))),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:t=>this.onDisplayedRowsChanged(t.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(NB.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let e=()=>{let i=this.gos.get("ensureDomOrder"),n=this.gos.isDomLayout("print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",e),e()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let t=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(t=!1){let e=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(e,i,t)}getCenterWidth(){return pc(this.eViewport)}getCenterViewportScrollLeft(){return dh(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){let e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(()=>e())}isViewportInTheDOMTree(){return NR(this.eViewport)}getViewportScrollLeft(){return dh(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||n1(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(t){this.comp.setHorizontalScroll(t)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(t){uh(this.eViewport,t,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(t=!1){let e=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||e.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let i=this.gos.isDomLayout("print"),o=this.gos.get("embedFullWidthRows")||i,s=e.filter(r=>{let a=r.isFullWidth();return this.options.fullWidth?!o&&a:o||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:t})}},Ex="ag-force-vertical-scroll",VB="ag-selectable",GB="ag-column-moving",WB=class extends A{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(t){this.animationFrameService=t.animationFrameService,this.rowContainerHeightService=t.rowContainerHeightService,this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.scrollVisibleService=t.scrollVisibleService,this.menuService=t.menuService,this.headerNavigationService=t.headerNavigationService,this.dragAndDropService=t.dragAndDropService,this.pinnedRowModel=t.pinnedRowModel,this.rowRenderer=t.rowRenderer,this.popupService=t.popupService,this.mouseEventService=t.mouseEventService,this.rowModel=t.rowModel,this.filterManager=t.filterManager,this.environment=t.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,i,n,o,s,r){this.comp=t,this.eGridBody=e,this.eBodyViewport=i,this.eTop=n,this.eBottom=o,this.eStickyTop=s,this.eStickyBottom=r,this.eCenterColsViewport=i.querySelector(`.${Yr("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${Yr("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Yr("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=r.querySelector(`.${Yr("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new qC(this.comp)),this.bodyScrollFeature=this.createManagedBean(new qL(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,o,s,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager?.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){let t=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),pinnedRowDataChanged:t,pinnedHeightChanged:t,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(t){t.forEach(e=>{this.addManagedElementListeners(e,{focusin:i=>{let{target:n}=i,o=Zr(n,"ag-root",e);e.classList.toggle("ag-has-focus",!o)},focusout:i=>{let{target:n,relatedTarget:o}=i,s=e.contains(o),r=Zr(o,"ag-root",e);Zr(n,"ag-root",e)||(!s||r)&&e.classList.remove("ag-has-focus")}})})}setColumnMovingCss(t){this.comp.setColumnMovingCss(GB,t)}setCellTextSelection(t=!1){this.comp.setCellSelectableCss(VB,t)}onScrollVisibilityChanged(){let t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let e=t&&this.gos.getScrollbarWidth()||0,i=PR()?16:0,n=`calc(100% + ${e+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){let t=this.columnModel.getCols();this.comp.setColumnCount(t.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:t=>{if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let t=i=>{let n=i.relatedTarget;if(hC(n)===null){this.rowRenderer.stopEditing();return}let o=e.some(s=>s.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!o){let s=this.popupService;o=s.getActivePopups().some(r=>r.contains(n))||s.isElementWithinCustomPopup(n)}o||this.rowRenderer.stopEditing()},e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];e.forEach(i=>this.addManagedElementListeners(i,{focusout:t}))}updateRowCount(){let t=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=e===-1?-1:t+e;this.comp.setRowCount(i)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){let e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)}isVerticalScrollShowing(){let t=this.gos.get("alwaysShowVerticalScroll"),e=t?Ex:null,i=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||i&&o1(this.eBodyViewport)}setupRowAnimationCssClass(){let t=this.environment.hasMeasuredSizes(),e=()=>{let i=t&&this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),n=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,i)};e(),this.addManagedEventListeners({heightScaleChanged:e}),this.addManagedPropertyListener("animateRows",e),this.addManagedEventListeners({gridStylesChanged:()=>{!t&&this.environment.hasMeasuredSizes()&&(t=!0,e())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){let t=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:t}),this.mockContextMenuForIPad(t),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:t=>this.onFullWidthContainerWheel(t)})}onFullWidthContainerWheel(t){let{deltaX:e,deltaY:i,shiftKey:n}=t;(n||Math.abs(e)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(t)&&this.scrollGridBodyToMatchEvent(t)}onStickyWheel(t){let{deltaX:e,deltaY:i,shiftKey:n}=t,o=n||Math.abs(e)>Math.abs(i),s=t.target;o?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(t):(t.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(t){let{deltaX:e,deltaY:i}=t;t.preventDefault(),this.eCenterColsViewport.scrollBy({left:e||i})}onBodyViewportContextMenu(t,e,i){if(!t&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(t||i).preventDefault();let{target:n}=t||e;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(t){if(!Yo())return;let e=new Ko(this.eBodyViewport),i=n=>{t(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(e,{longTap:i}),this.addDestroyFunc(()=>e.destroy())}onBodyViewportWheel(t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()}getGui(){return this.eGridBody}scrollVertically(t){let e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new tN(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){let{pinnedRowModel:t}=this,e=t.getPinnedTopTotalHeight(),i=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(e),this.comp.setBottomHeight(i),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`),this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(t=0){this.comp.setStickyBottomHeight(`${t}px`),this.stickyBottomHeight=t}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(t){if(!t)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let e=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){let e=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel.getPinnedTopTotalHeight(),n=0;e>0&&(n+=e),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){let t=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0,n=t+i;this.comp.setStickyBottomBottom(`${n}px`)}sizeColumnsToFit(t,e){let n=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,s=pc(this.eGridBody)-n;if(s>0){this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,t);return}e===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(t,100)},0):e===100?window.setTimeout(()=>{this.sizeColumnsToFit(t,500)},100):e===500?window.setTimeout(()=>{this.sizeColumnsToFit(t,-1)},500):L("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}},HB=class extends ot{constructor(t,e,i,n,o){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.rowCtrl=e.getRowCtrl(),this.eRow=n,this.cellCtrl=e;let s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(s);let r=this.getGui();this.forceWrapper=e.isForceWrapper(),this.refreshWrapper(!1);let a=(c,d)=>{d!=null&&d!=""?r.setAttribute(c,d):r.removeAttribute(c)};Di(r,e.getCellAriaRole()),a("col-id",e.getColumnIdSanitised());let l={addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),setUserStyles:c=>VR(r,c),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,d,u)=>this.setRenderDetails(c,d,u),setEditDetails:(c,d,u)=>this.setEditDetails(c,d,u),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};e.setComp(l,this.getGui(),this.eCellWrapper,i,o)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(t,e,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let o=this.refreshWrapper(!1);this.refreshEditStyles(!1),t?!(i||o)&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(e))}setEditDetails(t,e,i){t?this.createCellEditorInstance(t,e,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(t){let e=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=e||this.forceWrapper,n=i&&this.eCellWrapper==null;if(n){let c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}let o=!i&&this.eCellWrapper!=null;o&&(cn(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);let s=!t&&i,r=s&&this.eCellValue==null;if(r){let c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}let a=!s&&this.eCellValue!=null;a&&(cn(this.eCellValue),this.eCellValue=void 0);let l=n||o||r||a;return l&&this.removeControls(),t||e&&this.addControls(),l}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(t,e,i){let n=this.editorVersion,o=t.newAgStackInstance();if(o==null)return;let{params:s}=t;o.then(a=>this.afterCellEditorCreated(n,a,s,e,i)),Xe(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(t){let e=this.getParentOfValue();ri(e);let i=t!=null?Fn(t,!0):null;i!=null&&(e.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){let{context:t}=this.beans;this.cellRenderer=t.destroyBean(this.cellRenderer),cn(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:t}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),cn(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;let e=this.cellRenderer.refresh(t.params);return e===!0||e===void 0}createCellRendererInstance(t){let i=!this.beans.gos.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:o}=t,s=()=>{if(this.rendererVersion!==n||!this.isAlive())return;let a=t.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,n,o);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(t,e,i){if(!this.isAlive()||t!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){let o=this.getParentOfValue();ri(o),o.appendChild(this.cellRendererGui)}}afterCellEditorCreated(t,e,i,n,o){if(t!==this.editorVersion){this.beans.context.destroyBean(e);return}if(e.isCancelBeforeStart&&e.isCancelBeforeStart()){this.beans.context.destroyBean(e),this.cellCtrl.stopEditing(!0);return}if(!e.getGui){L(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(e);return}this.cellEditor=e,this.cellEditorGui=e.getGui();let a=n||e.isPopup!==void 0&&e.isPopup();a?this.addPopupCellEditor(i,o):this.addInCellEditor(),this.refreshEditStyles(!0,a),e.afterGuiAttached&&e.afterGuiAttached()}refreshEditStyles(t,e){this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e),this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){let t=this.getGui();t.contains(this.beans.gos.getActiveDomElement())&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(t,e){this.beans.gos.get("editType")==="fullRow"&&L("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");let i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(t));let n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);let o=this.beans.popupService,s=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),r=e??i.getPopupPosition?.()??"over",a=this.beans.gos.get("enableRtl"),l={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:r,alignSide:a?"right":"left",keepWithinBounds:!0},c=o.positionPopupByComponent.bind(o,l),d=this.beans.localeService.getLocaleTextFunc(),u=o.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){let t=this.getGui();t.contains(this.beans.gos.getActiveDomElement())&&uC()&&t.focus({preventScroll:!0}),ri(this.getParentOfValue())}},UB=class extends ot{constructor(t,e,i){super(),this.cellComps={},this.beans=e,this.rowCtrl=t;let n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(n);let o=this.getGui(),s=o.style;this.domOrder=this.rowCtrl.getDomOrder(),Di(o,"row");let r={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>VR(o,a),setTop:a=>s.top=a,setTransform:a=>s.transform=a,setRowIndex:a=>o.setAttribute("row-index",a),setRowId:a=>o.setAttribute("row-id",a),setRowBusinessKey:a=>o.setAttribute("row-business-key",a),refreshFullWidth:a=>this.refreshFullWidth(a)};t.setComp(r,this.getGui(),i),this.addDestroyFunc(()=>{t.unsetComp(i)})}getInitialStyle(t){let e=this.rowCtrl.getInitialTransform(t);return e?`transform: ${e}`:`top: ${this.rowCtrl.getInitialRowTop(t)}`}showFullWidth(t){let e=n=>{if(this.isAlive()){let o=n.getGui();this.getGui().appendChild(o),this.rowCtrl.setupDetailRowAutoHeight(o),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)},i=t.newAgStackInstance();i?.then(e)}setCellCtrls(t){let e=Object.assign({},this.cellComps);t.forEach(n=>{let o=n.getInstanceId();this.cellComps[o]==null?this.newCellComp(n):e[o]=null});let i=qo(e).filter(n=>n!=null);this.destroyCells(i),this.ensureDomOrder(t)}ensureDomOrder(t){if(!this.domOrder)return;let e=[];t.forEach(i=>{let n=this.cellComps[i.getInstanceId()];n&&e.push(n.getGui())}),BR(this.getGui(),e)}newCellComp(t){let e=new HB(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){let t=qo(this.cellComps).filter(e=>e!=null);this.destroyCells(t)}setFullWidthRowComp(t){this.fullWidthCellRenderer&&nt("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(t){t.forEach(e=>{if(!e)return;let i=e.getCtrl().getInstanceId();this.cellComps[i]===e&&(e.detach(),e.destroy(),this.cellComps[i]=null)})}refreshFullWidth(t){let{fullWidthCellRenderer:e}=this;if(!e||!e.refresh)return!1;let i=t();return e.refresh(i)}};function zB(t){let e;return t.type==="center"?e=`<div class="${t.viewport}" data-ref="eViewport" role="presentation">
                <div class="${t.container}" data-ref="eContainer"></div>
            </div>`:e=`<div class="${t.container}" data-ref="eContainer"></div>`,e}var jB=class extends ot{constructor(){super(),this.eViewport=ae,this.eContainer=ae,this.rowComps={},this.name=ot.elementGettingCreated.getAttribute("name"),this.options=Yr(this.name),this.setTemplate(zB(this.options))}wireBeans(t){this.beans=t}postConstruct(){let t={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i,setOffsetTop:i=>this.eContainer.style.transform=`translateY(${i})`};this.createManagedBean(new BB(this.name)).setComp(t,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(t){let e=D({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;let i=n=>{let o=n.getInstanceId(),s=e[o];if(s)this.rowComps[o]=s,delete e[o],this.ensureDomOrder(s.getGui());else{if(!n.getRowNode().displayed)return;let r=new UB(n,this.beans,this.options.type);this.rowComps[o]=r,this.appendRow(r.getGui())}};t.forEach(i),qo(e).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),Di(this.eContainer,"rowgroup")}appendRow(t){this.domOrder?i1(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t}ensureDomOrder(t){this.domOrder&&(LR(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)}},$B={selector:"AG-ROW-CONTAINER",component:jB};function Jl(t){return t.map(e=>`<ag-row-container name="${e}"></ag-row-container>`).join("")}var KB=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${Jl(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${Jl(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${Jl(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${Jl(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${Jl(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,qB=class extends ot{constructor(){super(KB,[UL,jL,KL,WL,$B]),this.eBodyViewport=ae,this.eStickyTop=ae,this.eStickyBottom=ae,this.eTop=ae,this.eBottom=ae,this.eBody=ae}wireBeans(t){this.resizeObserverService=t.resizeObserverService,this.rangeService=t.rangeService}postConstruct(){let t=(i,n)=>{let o=`${i}px`;n.style.minHeight=o,n.style.height=o},e={setRowAnimationCssOnBodyViewport:(i,n)=>this.setRowAnimationCssOnBodyViewport(i,n),setColumnCount:i=>jO(this.getGui(),i),setRowCount:i=>zO(this.getGui(),i),setTopHeight:i=>t(i,this.eTop),setBottomHeight:i=>t(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>{this.eStickyBottom.style.height=i,this.eStickyBottom.classList.toggle("ag-hidden",i==="0px")},setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,n)=>this.addOrRemoveCssClass(i,n),updateLayoutClasses:(i,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle("ag-layout-auto-height",n.autoHeight),s.toggle("ag-layout-normal",n.normal),s.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(i,n)=>this.eBodyViewport.classList.toggle(Ex,n),registerBodyViewportResizeListener:i=>{let n=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(o=>o.classList.toggle(i,n))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new WB),this.ctrl.setComp(e,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&this.gos.get("enableRangeSelection")||this.gos.get("rowSelection")==="multiple")&&UO(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(t,e){let i=this.eBodyViewport.classList;i.toggle("ag-row-animation",e),i.toggle("ag-row-no-animation",!e)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},XB={selector:"AG-GRID-BODY",component:qB},YB=class extends A{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(t){this.ctrlsService=t.ctrlsService,this.columnAnimationService=t.columnAnimationService}postConstruct(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){let t=this.ctrlsService.get("center");if(!t||this.columnAnimationService.isActive())return;let e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}setScrollsVisible(t){(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing)&&(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}},XS="__ag_grid_instance",Dx=class Tx extends A{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=Tx.gridInstanceSequence.next()}wireBeans(e){this.ctrlsService=e.ctrlsService}stampTopLevelGridCompWithGridInstance(e){e[XS]=this.gridInstanceId}getRenderedCellForEvent(e){return nC(this.gos,e.target,As.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let i=e;for(;i;){let n=i[XS];if(W(n))return n===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(e){let i=this.getRenderedCellForEvent(e);return i?i.getCellPosition():null}getNormalisedPosition(e){let i=this.gos.isDomLayout("normal"),n=e,o,s;if(n.clientX!=null||n.clientY!=null?(o=n.clientX,s=n.clientY):(o=n.x,s=n.y),i){let r=this.ctrlsService.getGridBodyCtrl(),a=r.getScrollFeature().getVScrollPosition(),l=r.getScrollFeature().getHScrollPosition();o+=l.left,s+=a.top}return{x:o,y:s}}};Dx.gridInstanceSequence=new ia;var QB=Dx,ZB=class extends A{constructor(){super(),this.beanName="navigationService",this.onPageDown=GS(this.onPageDown,100),this.onPageUp=GS(this.onPageUp,100)}wireBeans(t){this.mouseEventService=t.mouseEventService,this.pageBoundsService=t.pageBoundsService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.ctrlsService=t.ctrlsService,this.rowRenderer=t.rowRenderer,this.headerNavigationService=t.headerNavigationService,this.rowPositionUtils=t.rowPositionUtils,this.cellNavigationService=t.cellNavigationService,this.pinnedRowModel=t.pinnedRowModel,this.rangeService=t.rangeService}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl})}handlePageScrollingKey(t,e=!1){let i=t.key,n=t.altKey,o=t.ctrlKey||t.metaKey,s=!!this.rangeService&&t.shiftKey,r=this.mouseEventService.getCellPositionForEvent(t),a=!1;switch(i){case N.PAGE_HOME:case N.PAGE_END:!o&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case N.LEFT:case N.RIGHT:case N.UP:case N.DOWN:if(!r)return!1;o&&!n&&!s&&(this.onCtrlUpDownLeftRight(i,r),a=!0);break;case N.PAGE_DOWN:case N.PAGE_UP:!o&&!n&&(a=this.handlePageUpDown(i,r,e));break}return a&&t.preventDefault(),a}handlePageUpDown(t,e,i){return i&&(e=this.focusService.getFocusedCell()),e?(t===N.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0):!1}navigateTo(t){let{scrollIndex:e,scrollType:i,scrollColumn:n,focusIndex:o,focusColumn:s}=t;W(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),W(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(o),this.focusService.setFocusedCell({rowIndex:o,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:o,rowPinned:null,column:s})}onPageDown(t){let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),o=this.pageBoundsService.getPixelOffset(),s=i.top+n,r=this.rowModel.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,r):this.navigateToNextPage(t,r)}onPageUp(t){let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),o=i.top,s=this.rowModel.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,s,!0):this.navigateToNextPage(t,s,!0)}navigateToNextPage(t,e,i=!1){let n=this.getViewportHeight(),o=this.pageBoundsService.getFirstRow(),s=this.pageBoundsService.getLastRow(),r=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(t.rowIndex),l=i?a?.rowHeight-n-r:n-r,c=a?.rowTop+l,d=this.rowModel.getRowIndexAtPixel(c+r);if(d===t.rowIndex){let p=i?-1:1;e=d=t.rowIndex+p}let u;i?(u="bottom",d<o&&(d=o),e<o&&(e=o)):(u="top",d>s&&(d=s),e>s&&(e=s)),this.isRowTallerThanView(d)&&(e=d,u="top"),this.navigateTo({scrollIndex:e,scrollType:u,scrollColumn:null,focusIndex:d,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,i=!1){this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(()=>{let n=this.getNextFocusIndexForAutoHeight(t,i);this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:t.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(t,e=!1){let i=e?-1:1,n=this.getViewportHeight(),o=this.pageBoundsService.getLastRow(),s=0,r=t.rowIndex;for(;r>=0&&r<=o;){let a=this.rowModel.getRow(r);if(a){let l=a.rowHeight??0;if(s+l>n)break;s+=l}r+=i}return Math.max(0,Math.min(r,o))}getViewportHeight(){let{gridBodyCtrl:t,center:e}=this.ctrlsService.getParams(),i=t.getScrollFeature().getVScrollPosition(),n=this.gos.getScrollbarWidth(),o=i.bottom-i.top;return e.isHorizontalScrollShowing()&&(o-=n),o}isRowTallerThanView(t){let e=this.rowModel.getRow(t);if(!e)return!1;let i=e.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){let i=this.cellNavigationService.getNextCellToFocus(t,e,!0),{rowIndex:n}=i,o=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:o,focusIndex:n,focusColumn:o})}onHomeOrEndKey(t){let e=t===N.PAGE_HOME,i=this.visibleColsService.getAllCols(),n=e?i[0]:Ze(i),o=e?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:n,focusIndex:o,focusColumn:n})}onTabKeyDown(t,e){let i=e.shiftKey,n=this.tabToNextCellCommon(t,i,e);if(n!==!1){n?e.preventDefault():n===null&&this.focusService.allowFocusForNextGridCoreContainer(i);return}if(i){let{rowIndex:o,rowPinned:s}=t.getRowPosition();(s?o===0:o===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusPreviousFromFirstCell(e)))}else t instanceof As&&t.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&e.preventDefault()}tabToNextCell(t,e){let i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!n&&(n=this.rowRenderer.getRowByPosition(i),!n||!n.isFullWidth())?!1:!!this.tabToNextCellCommon(n,t,e)}tabToNextCellCommon(t,e,i){let n=t.isEditing();if(!n&&t instanceof As){let r=t.getRowCtrl();r&&(n=r.isEditing())}let o;return n?this.gos.get("editType")==="fullRow"?o=this.moveToNextEditingRow(t,e,i):o=this.moveToNextEditingCell(t,e,i):o=this.moveToNextCellNotEditing(t,e),o===null?o:o||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,i=null){let n=t.getCellPosition();t.getGui().focus(),t.stopEditing();let o=this.findNextCellToFocusOn(n,e,!0);return o===!1?null:o==null?!1:(o.startEditing(null,!0,i),o.focusCell(!1),!0)}moveToNextEditingRow(t,e,i=null){let n=t.getCellPosition(),o=this.findNextCellToFocusOn(n,e,!0);if(o===!1)return null;if(o==null)return!1;let s=o.getCellPosition(),r=this.isCellEditable(n),a=this.isCellEditable(s),l=s&&n.rowIndex===s.rowIndex&&n.rowPinned===s.rowPinned;return r&&t.setFocusOutOnEditor(),l||(t.getRowCtrl().stopEditing(),o.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0}moveToNextCellNotEditing(t,e){let i=this.visibleColsService.getAllCols(),n;t instanceof Fs?n=_e(D({},t.getRowPosition()),{column:e?i[0]:Ze(i)}):n=t.getCellPosition();let o=this.findNextCellToFocusOn(n,e,!1);if(o===!1)return null;if(o instanceof As)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o.getRowPosition(),e);return W(o)}findNextCellToFocusOn(t,e,i){let n=t;for(;;){t!==n&&(t=n),e||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,e);let o=this.gos.getCallback("tabToNextCell");if(W(o)){let l=o({backwards:e,editing:i,previousCellPosition:t,nextCellPosition:n||null});if(l===!0||l===null)l===null&&L("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=t;else{if(l===!1)return!1;n={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}}}if(!n)return null;if(n.rowIndex<0){let a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:n.column},fromCell:!0}),null}let s=this.gos.get("editType")==="fullRow";if(i&&!s&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);let r=this.getCellByPosition(n);if(!r){let a=this.rowRenderer.getRowByPosition(n);if(!a||!a.isFullWidth()||i)continue;return a}if(!r.isSuppressNavigable())return this.rangeService?.setRangeToCell(n),r}}isCellEditable(t){let e=this.lookupRowNodeForCell(t);return e?t.column.isCellEditable(e):!1}getCellByPosition(t){let e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null}lookupRowNodeForCell(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.rowModel.getRow(t.rowIndex)}navigateToNextCell(t,e,i,n){let o=i,s=!1;for(;o&&(o===i||!this.isValidNavigateCell(o));)this.gos.get("enableRtl")?e===N.LEFT&&(o=this.getLastCellOfColSpan(o)):e===N.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextCellToFocus(e,o),s=Xe(o);if(s&&t&&t.key===N.UP&&(o={rowIndex:-1,rowPinned:null,column:i.column}),n){let a=this.gos.getCallback("navigateToNextCell");if(W(a)){let c=a({key:e,previousCellPosition:i,nextCellPosition:o||null,event:t});W(c)?o={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:o=null}}if(!o)return;if(o.rowIndex<0){let a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+o.rowIndex,column:i.column},event:t||void 0,fromCell:!0});return}let r=this.getNormalisedPosition(o);r?this.focusPosition(r):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(t){this.ensureCellVisible(t);let e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null}tryToFocusFullWidthRow(t,e=!1){let i=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(t);if(!n||!n.isFullWidth())return!1;let o=this.focusService.getFocusedCell(),s={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?Ze(i):i[0])};this.focusPosition(s);let r=o!=null?this.rowPositionUtils.before(s,o):!1;return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,fromBelow:r}),!0}focusPosition(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(t)}isValidNavigateCell(t){return!!this.rowPositionUtils.getRowNode(t)}getLastCellOfColSpan(t){let e=this.getCellByPosition(t);if(!e)return t;let i=e.getColSpanningList();return i.length===1?t:{rowIndex:t.rowIndex,column:Ze(i),rowPinned:t.rowPinned}}ensureCellVisible(t){let e=this.gos.isGroupRowsSticky(),i=this.rowModel.getRow(t.rowIndex);!(e&&i?.sticky)&&Xe(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}},JB=class extends A{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(t){this.dragService=t.dragService,this.ctrlsService=t.ctrlsService}addResizeBar(t){let e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(e),()=>this.dragService.removeDragSource(e)}onDragStart(t,e){this.dragStartX=e.clientX,this.setResizeIcons();let i=e instanceof MouseEvent&&e.shiftKey===!0;t.onResizeStart(i)}setResizeIcons(){let t=this.ctrlsService.get("gridCtrl");t.setResizeCursor(!0),t.disableUserSelect(!0)}onDragStop(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let t=this.ctrlsService.get("gridCtrl");t.setResizeCursor(!1),t.disableUserSelect(!1)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)}},e2=class extends A{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(t){this.popupService=t.popupService,this.focusService=t.focusService,this.ctrlsService=t.ctrlsService,this.menuService=t.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(t,e,i){this.showPopup(t,n=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:i,mouseEvent:e,ePopup:n})},i,e.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(t,e,i){let n=-1,o="left",s=this.menuService.isLegacyMenuEnabled();!s&&this.gos.get("enableRtl")&&(n=1,o="right");let r=s?void 0:4*n,a=s?void 0:4;this.showPopup(t,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:e,ePopup:l,nudgeX:r,nudgeY:a,alignSide:o,keepWithinBounds:!0,position:"under",column:t})},i,e,s)}showPopup(t,e,i,n,o){let s=t?this.createBean(new lN(t,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");let r=document.createElement("div");Di(r,"presentation"),r.classList.add("ag-menu"),o||r.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(r,{keydown:y=>this.trapFocusWithin(y,r)}),r.appendChild(s?.getGui());let a,l=()=>s?.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=y=>{t.setMenuVisible(!1,"contextMenu");let R=y instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),R&&n&&wn(n)){let S=this.focusService.findTabbableParent(n);S&&S.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,t)},u=this.localeService.getLocaleTextFunc(),p=o&&i!=="columnFilter"?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),m=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:d,positionCallback:()=>e(r),anchorToElement:c,ariaLabel:p});m&&(this.hidePopup=a=m.hideFunc),s.afterInit().then(()=>{e(r),s.afterGuiAttached({container:i,hidePopup:a})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,t)}trapFocusWithin(t,e){t.key!==N.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))}dispatchVisibleChangedEvent(t,e,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:t,switchingTab:!1,key:e,column:i??null})}isMenuEnabled(t){return t.isFilterAllowed()&&(t.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},t2=50,i2=class extends A{constructor(){super(...arguments),this.beanName="resizeObserverService",this.polyfillFunctions=[]}observeResize(t,e){let i=this.gos.getWindow(),n=()=>{let a=new i.ResizeObserver(e);return a.observe(t),()=>a.disconnect()},o=()=>{let a=t?.clientWidth??0,l=t?.clientHeight??0,c=!0,d=()=>{if(c){let u=t?.clientWidth??0,p=t?.clientHeight??0;(u!==a||p!==l)&&(a=u,l=p,e()),this.doNextPolyfillTurn(d)}};return d(),()=>c=!1},s=this.gos.get("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!s?n():this.getFrameworkOverrides().wrapIncoming(()=>o(),"resize-observer")}doNextPolyfillTurn(t){this.polyfillFunctions.push(t),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;let t=()=>{let e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach(i=>i())};this.polyfillScheduled=!0,window.setTimeout(t,t2)}},n2=class extends A{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(t){this.ctrlsService=t.ctrlsService,this.paginationService=t.paginationService}setScrollTop(t){let e=this.gos.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&t===0){let i=this.paginationService?.getCurrentPage()??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){this.useAnimationFrame===!1&&L(`AnimationFrameService.${t} called but animation frames are off`)}createTask(t,e,i){this.verifyAnimationFrameOn(i);let n={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e),t.sorted=!1}sortTaskList(t){if(t.sorted)return;let e=this.scrollGoingDown?1:-1;t.list.sort((i,n)=>i.index!==n.index?e*(n.index-i.index):n.createOrder-i.createOrder),t.sorted=!0}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");let e=this.createTasksP1,i=e.list,n=this.createTasksP2,o=n.list,s=this.destroyTasks,r=new Date().getTime(),a=new Date().getTime()-r,l=t<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<t;){if(!c.getScrollFeature().scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(e),u=i.pop().task;else if(o.length)this.sortTaskList(n),u=o.pop().task;else if(s.length)u=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(u)||u()}a=new Date().getTime()-r}i.length||o.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){let e=this.gos.getWindow();e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)}isQueueEmpty(){return!this.ticking}debounce(t){let e=!1;return()=>{if(!this.isOn()){window.setTimeout(t,0);return}e||(e=!0,this.addDestroyTask(()=>{e=!1,t()}))}}};var o2=class extends A{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(t){if(!this.isClientSideRowModel)return;let e=new Set(t);this.rowModel.forEachNode(i=>{i.id&&e.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){let t=[];return this.rowModel.forEachNode(({expanded:e,id:i})=>{e&&i&&t.push(i)}),t}expandAll(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)}setRowNodeExpanded(t,e,i,n){t&&(i&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,e,i,n),t.setExpanded(e,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},s2=class extends A{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(t){this.filterMenuFactory=t.filterMenuFactory,this.ctrlsService=t.ctrlsService,this.animationFrameService=t.animationFrameService,this.filterManager=t.filterManager,this.rowRenderer=t.rowRenderer,this.columnChooserFactory=t.columnChooserFactory,this.contextMenuFactory=t.contextMenuFactory,this.enterpriseMenuFactory=t.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")}showFilterMenu(t){let e=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(e,t,t.containerType,!0)}showHeaderContextMenu(t,e,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,e,i)}getContextMenuPosition(t,e){let i=this.getRowCtrl(t),n=this.getCellGui(i,e);if(!n)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};let o=n.getBoundingClientRect();return{x:o.x+o.width/2,y:o.y+o.height/2}}showContextMenu(t){let{rowNode:e}=t,i=t.column,{anchorToElement:n,value:o}=t;e&&i&&o==null&&(o=e.getValueFromValueService(i)),n==null&&(n=this.getContextMenuAnchorElement(e,i)),this.contextMenuFactory?.onContextMenu(t.mouseEvent??null,t.touchEvent??null,e??null,i??null,o,n)}showColumnChooser(t){this.columnChooserFactory?.showColumnChooser(t)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(t){let{suppressMenu:e,suppressHeaderMenuButton:i}=t.getColDef();return!(i??e)&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(t){return!t.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(t)}isHeaderContextMenuEnabled(t){return!t?.getColDef().suppressHeaderContextMenu&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let t=!this.isSuppressMenuHide();return!(Yo()&&t)}isHeaderFilterButtonEnabled(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)}isFilterMenuItemEnabled(t){return!!this.filterManager?.isFilterAllowed(t)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(t){let e=t.getColDef(),i=e.floatingFilterComponentParams?.suppressFilterButton;return i!=null&&L("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),e.suppressFloatingFilterButton==null?!i:!e.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)}isSuppressMenuHide(){let t=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(t,e,i,n){let{positionBy:o}=e,s=e.column;if(o==="button"){let{buttonElement:r}=e;t.showMenuAfterButtonClick(s,r,i,n)}else if(o==="mouse"){let{mouseEvent:r}=e;t.showMenuAfterMouseEvent(s,r,i,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{let r=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);r&&t.showMenuAfterButtonClick(s,r.getAnchorElementForMenu(n),i,!0)}))}getRowCtrl(t){let{rowIndex:e,rowPinned:i}=t||{};if(e!=null)return this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:i})||void 0}getCellGui(t,e){return!t||!e?void 0:t.getCellCtrl(e)?.getGui()||void 0}getContextMenuAnchorElement(t,e){let i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(t);if(!n)return i;let o=this.getCellGui(n,e);return o||(n.isFullWidth()?n.getFullWidthElement():i)}},r2=class extends ks{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){let i=super.setValue(t,e);return this.eInput.value=t,i}setCols(t){return this.eInput.cols=t,this}setRows(t){return this.eInput.rows=t,this}},a2={selector:"AG-INPUT-TEXT-AREA",component:r2},l2=class extends sa{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[a2]),this.eTextArea=ae}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),W(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(t){let e=t.key;(e===N.LEFT||e===N.UP||e===N.RIGHT||e===N.DOWN||t.shiftKey&&e===N.ENTER)&&t.stopPropagation()}afterGuiAttached(){let t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let t=this.eTextArea.getValue();return!W(t)&&!W(this.params.value)?this.params.value:this.params.parseValue(t)}},c2=class extends sa{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){this.gos.setDomData(this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let t=this.getGui(),e=this.params,i=n=>{mC(this.gos,n,e.node,e.column,!0)||e.onKeyDown(n)};this.addManagedElementListeners(t,{keydown:i})}},d2=class extends sa{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[gN]),this.eSelect=ae,this.startedByEnter=!1}wireBeans(t){this.valueService=t.valueService}init(t){this.focusAfterAttached=t.cellStartedEdit;let{eSelect:e,valueService:i,gos:n}=this,{values:o,value:s,eventKey:r}=t;if(Xe(o)){L("no values found for select cellEditor");return}this.startedByEnter=r!=null?r===N.ENTER:!1;let a=!1;o.forEach(u=>{let p={value:u},m=i.formatValue(t.column,null,u),y=m!=null;p.text=y?m:u,e.addOption(p),a=a||s===u}),a?e.setValue(t.value,!0):t.values.length&&e.setValue(t.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=t;l!=null&&e.setPickerGap(l),d!=null&&e.setPickerMaxHeight(d),c!=null&&e.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>t.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},vh=class extends sa{constructor(t){super(`
            <div class="ag-cell-edit-wrapper">
                ${t.getTemplate()}
            </div>`,t.getAgComponents()),this.cellEditorInput=t,this.eInput=ae}init(t){this.params=t;let e=this.eInput;this.cellEditorInput.init(e,t);let i;if(t.cellStartedEdit){this.focusAfterAttached=!0;let n=t.eventKey;n===N.BACKSPACE||t.eventKey===N.DELETE?i="":n&&n.length===1?i=n:(i=this.cellEditorInput.getStartValue(),n!==N.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&e.setStartValue(i),this.addManagedElementListeners(e.getGui(),{keydown:n=>{let{key:o}=n;(o===N.PAGE_UP||o===N.PAGE_DOWN)&&n.preventDefault()}})}afterGuiAttached(){let t=this.localeService.getLocaleTextFunc(),e=this.eInput;if(e.setInputAriaLabel(t("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;On()||e.getFocusableElement().focus();let i=e.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){let t=this.eInput,e=t.getFocusableElement(),i=t.getInputElement();e.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},u2=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[fh]}init(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)}getValue(){let t=this.eInput.getValue();return!W(t)&&!W(this.params.value)?this.params.value:this.params.parseValue(t)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){let t=this.eInput.getValue(),e=W(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)}},Ix=class extends vh{constructor(){super(new u2)}},h2=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[EN]}init(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);let i=t.getInputElement();e.preventStepping?t.addManagedElementListeners(i,{keydown:this.preventStepping}):e.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(t){(t.key===N.UP||t.key===N.DOWN)&&t.preventDefault()}getValue(){let t=this.eInput.getValue();if(!W(t)&&!W(this.params.value))return this.params.value;let e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}setCaret(){On()&&this.eInput.getInputElement().focus({preventScroll:!0})}},p2=class extends vh{constructor(){super(new h2)}},f2=class extends Bs{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct();let t=On();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||t||this.eInput.focus()}}),this.eInput.step="any"}onWheel(t){this.gos.getActiveDomElement()===this.eInput&&t.preventDefault()}setMin(t){let e=t instanceof Date?hn(t??null,!1)??void 0:t;return this.min===e?this:(this.min=e,un(this.eInput,"min",e),this)}setMax(t){let e=t instanceof Date?hn(t??null,!1)??void 0:t;return this.max===e?this:(this.max=e,un(this.eInput,"max",e),this)}setStep(t){return this.step===t?this:(this.step=t,un(this.eInput,"step",t),this)}getDate(){if(this.eInput.validity.valid)return xi(this.getValue())??void 0}setDate(t,e){this.setValue(hn(t??null,!1),e)}},kx={selector:"AG-INPUT-DATE-FIELD",component:f2},m2=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[kx]}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){let t=this.eInput.getDate();return!W(t)&&!W(this.params.value)?this.params.value:t??null}getStartValue(){let{value:t}=this.params;if(t instanceof Date)return hn(t,!1)}},g2=class extends vh{constructor(){super(new m2)}},v2=class{constructor(t){this.getDataTypeService=t}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[kx]}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){let t=this.formatDate(this.eInput.getDate());return!W(t)&&!W(this.params.value)?this.params.value:this.params.parseValue(t??"")}getStartValue(){return hn(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(t){let e=this.getDataTypeService();return e?e.getDateParserFunction(this.params.column)(t):xi(t)??void 0}formatDate(t){let e=this.getDataTypeService();return e?e.getDateFormatterFunction(this.params.column)(t):hn(t??null,!1)??void 0}},C2=class extends vh{wireBeans(t){this.dataTypeService=t.dataTypeService}constructor(){super(new v2(()=>this.dataTypeService))}},b2=class extends sa{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[FC]),this.eCheckbox=ae}init(t){this.params=t;let e=t.value??void 0;this.eCheckbox.setValue(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(e),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(t){let e=this.localeService.getLocaleTextFunc(),i=EC(e,t),n=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}},tc=class{constructor(t){this.cellValueChanges=t}},eC=class extends tc{constructor(t,e,i,n){super(t),this.initialRange=e,this.finalRange=i,this.ranges=n}},y2=10,YS=class{constructor(t){this.actionStack=[],this.maxStackSize=t||y2,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},w2=class extends A{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=t=>{let e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,e),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);if(!(i||n||this.isPasting||this.isRangeInAction))return;let{rowPinned:s,rowIndex:r,column:a,oldValue:l,value:c}=t,d={rowPinned:s,rowIndex:r,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(t){this.focusService=t.focusService,this.ctrlsService=t.ctrlsService,this.cellPositionUtils=t.cellPositionUtils,this.rowPositionUtils=t.rowPositionUtils,this.columnModel=t.columnModel,this.rangeService=t.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;let t=this.gos.get("undoRedoCellEditingLimit");if(t<=0)return;this.undoStack=new YS(t),this.redoStack=new YS(t),this.addListeners();let e=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:e,newColumnsLoaded:e,columnGroupOpened:e,columnRowGroupChanged:e,columnMoved:e,columnPinned:e,columnVisible:e,rowDragEnd:e}),this.ctrlsService.whenReady(i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){this.eventService.dispatchEvent({type:"undoStarted",source:t});let e=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:t,operationPerformed:e})}redo(t){this.eventService.dispatchEvent({type:"redoStarted",source:t});let e=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:t,operationPerformed:e})}undoRedo(t,e,i,n,o){if(!t)return!1;let s=t.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,r=>r[n],o),s instanceof eC?this.processRange(this.rangeService,s.ranges||[s[i]]):this.processCell(s.cellValueChanges),e.push(s),!0)}processAction(t,e,i){t.cellValueChanges.forEach(n=>{let{rowIndex:o,rowPinned:s,columnId:r}=n,a={rowIndex:o,rowPinned:s},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(r,e(n),i)})}processRange(t,e){let i;t.removeAllCellRanges(!0),e.forEach((n,o)=>{if(!n)return;let s=n.startRow,r=n.endRow;o===e.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i));let a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:n.startColumn,columns:n.columns};t.addCellRange(a)})}processCell(t){let e=t[0],{rowIndex:i,rowPinned:n}=e,o={rowIndex:i,rowPinned:n},s=this.rowPositionUtils.getRowNode(o),r={rowPinned:e.rowPinned,rowIndex:s.rowIndex,columnId:e.columnId};this.setLastFocusedCell(r,this.rangeService)}setLastFocusedCell(t,e){let{rowIndex:i,columnId:n,rowPinned:o}=t,s=this.gridBodyCtrl.getScrollFeature(),r=this.columnModel.getCol(n);if(!r)return;s.ensureIndexVisible(i),s.ensureColumnVisible(r);let a={rowIndex:i,column:r,rowPinned:o};this.focusService.setFocusedCell(_e(D({},a),{forceBrowserFocus:!0})),e?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}},rowEditingStopped:()=>{let t=new tc(this.cellValueChanges);this.pushActionsToUndoStack(t),this.activeRowEdit=null},cellEditingStarted:t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}},cellEditingStopped:t=>{if(this.activeCellEdit=null,t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let i=new tc(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let t=new tc(this.cellValueChanges);this.pushActionsToUndoStack(t),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:t=>{let e=new eC(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let t;this.rangeService&&this.gos.get("enableRangeSelection")?t=new eC(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):t=new tc(this.cellValueChanges),this.pushActionsToUndoStack(t),this.isRangeInAction=!1}})}pushActionsToUndoStack(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()}};function _2(t){return t.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function S2(t){return t.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function Mx(t,e,i="auto"){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(e,i),"ensureVisible")}function Px(t,e,i){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(e,i),"ensureVisible")}function R2(t,e,i=null){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(e,i),"ensureVisible")}function x2(t){t.undoRedoService?.undo("api")}function E2(t){t.undoRedoService?.redo("api")}function D2(t,e={}){return t.rowRenderer.getCellEditorInstances(e).map(oc)}function T2(t){return t.rowRenderer.getEditingCells()}function I2(t,e=!1){t.rowRenderer.stopEditing(e)}function k2(t,e){let i=t.columnModel.getCol(e.colKey);if(!i){L(`no column found for ${e.colKey}`);return}let n={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:i};e.rowPinned==null&&Px(t,e.rowIndex),Mx(t,e.colKey);let s=t.navigationService.getCellByPosition(n);if(!s)return;let{focusService:r,gos:a}=t,l=()=>{let d=a.getActiveDomElement(),u=s.getGui();return d!==u&&u.contains(d)},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!r.isCellFocused(n))&&r.setFocusedCell(_e(D({},n),{forceBrowserFocus:c,preventScrollOnBrowserFocus:!0})),s.startRowOrCellEdit(e.key)}function M2(t){return t.undoRedoService?.getCurrentUndoStackSize()??0}function P2(t){return t.undoRedoService?.getCurrentRedoStackSize()??0}var A2=class extends A{constructor(){super(...arguments),this.beanName="editService"}wireBeans(t){this.navigationService=t.navigationService,this.userComponentFactory=t.userComponentFactory,this.valueService=t.valueService}startEditing(t,e=null,i=!1,n=null){let o=this.createCellEditorParams(t,e,i),s=t.getColumn().getColDef(),r=this.userComponentFactory.getCellEditorDetails(s,o),a=r?.popupFromSelector!=null?r.popupFromSelector:!!s.cellEditorPopup,l=r?.popupPositionFromSelector!=null?r.popupPositionFromSelector:s.cellEditorPopupPosition;t.setEditing(!0,r),t.getComp().setEditDetails(r,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(t.createEvent(n,"cellEditingStarted"))}stopEditing(t,e){let i=t.getComp(),{newValue:n,newValueExists:o}=this.takeValueFromCellEditor(e,i),s=t.getRowNode(),r=t.getColumn(),a=s.getValueFromValueService(r),l=!1;return o&&(l=this.saveNewValue(t,a,n,s,r)),t.setEditing(!1,void 0),i.setEditDetails(),t.updateAndFormatValue(!1),t.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent(_e(D({},t.createEvent(null,"cellEditingStopped")),{oldValue:a,newValue:n,valueChanged:l})),l}handleColDefChanged(t){let e=t.getCellEditor();if(e?.refresh){let{eventKey:i,cellStartedEdit:n}=t.getEditCompDetails().params,o=this.createCellEditorParams(t,i,n),s=t.getColumn().getColDef(),r=this.userComponentFactory.getCellEditorDetails(s,o);e.refresh(r.params)}}setFocusOutOnEditor(t){let e=t.getComp().getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(t){let e=t.getComp().getCellEditor();e&&e.focusIn?e.focusIn():t.focusCell(!0)}stopEditingAndFocus(t,e=!1,i=!1){t.stopRowOrCellEdit(),t.focusCell(!0),e||this.navigateAfterEdit(i,t.getCellPosition())}createPopupEditorWrapper(t){return new c2(t)}takeValueFromCellEditor(t,e){let i={newValueExists:!1};if(t)return i;let n=e.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(t,e,i,n,o){if(i===e)return!1;t.setSuppressRefreshCell(!0);let s=n.setDataValue(o,i,"edit");return t.setSuppressRefreshCell(!1),s}createCellEditorParams(t,e,i){let n=t.getColumn(),o=t.getRowNode();return this.gos.addGridCommonParams({value:o.getValueFromValueService(n),eventKey:e,column:n,colDef:n.getColDef(),rowIndex:t.getCellPosition().rowIndex,node:o,data:o.data,cellStartedEdit:i,onKeyDown:t.onKeyDown.bind(t),stopEditing:t.stopEditingAndFocus.bind(t),eGridCell:t.getGui(),parseValue:s=>this.valueService.parseValue(n,o,s,t.getValue()),formatValue:t.formatValue.bind(t)})}navigateAfterEdit(t,e){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let n=t?N.UP:N.DOWN;this.navigationService.navigateToNextCell(null,n,e,!1)}}},F2=class extends A{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(t,e=null,i=null,n=null){t.getAllCellCtrls().reduce((s,r)=>{let a=r===i;return a?r.startEditing(e,a,n):r.startEditing(null,a,n),s?!0:r.isEditing()},!1)&&this.setEditing(t,!0)}stopEditing(t,e=!1){let i=t.getAllCellCtrls(),n=t.isEditing();t.setStoppingRowEdit(!0);let o=!1;for(let s of i){let r=s.stopEditing(e);n&&!e&&!o&&r&&(o=!0)}o&&this.eventService.dispatchEvent(t.createRowEvent("rowValueChanged")),n&&this.setEditing(t,!1),t.setStoppingRowEdit(!1)}setEditing(t,e){t.setEditingRow(e),t.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",e));let i=e?t.createRowEvent("rowEditingStarted"):t.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},Vs={version:Oe,moduleName:"@ag-grid-community/edit-core",beans:[A2]},O2={version:Oe,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:x2,redoCellEditing:E2,getCellEditorInstances:D2,getEditingCells:T2,stopEditing:I2,startEditingCell:k2,getCurrentUndoSize:M2,getCurrentRedoSize:P2},dependantModules:[Vs]},N2={version:Oe,moduleName:"@ag-grid-community/undo-redo-edit",beans:[w2],dependantModules:[Vs]},L2={version:Oe,moduleName:"@ag-grid-community/full-row-edit",beans:[F2],dependantModules:[Vs]},Ax={version:Oe,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:Ix}],dependantModules:[Vs]},B2={version:Oe,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:Ix},{name:"agNumberCellEditor",classImp:p2},{name:"agDateCellEditor",classImp:g2},{name:"agDateStringCellEditor",classImp:C2},{name:"agCheckboxCellEditor",classImp:b2}],dependantModules:[Ax]},V2={version:Oe,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:d2}],dependantModules:[Vs]},G2={version:Oe,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:l2}],dependantModules:[Vs]},W2={version:Oe,moduleName:"@ag-grid-community/all-editors",dependantModules:[Ax,B2,V2,G2]},H2={version:Oe,moduleName:"@ag-grid-community/editing",dependantModules:[Vs,N2,L2,W2,O2]},U2=class extends A{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(t){this.rowRenderer=t.rowRenderer,this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.center})}getPreferredWidthForColumn(t,e){let i=this.getHeaderCellForColumn(t);if(!i)return-1;let n=this.rowRenderer.getAllCellsForColumn(t);return e||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(t){let e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1}addElementsToContainerAndGetWidth(t){let e=document.createElement("form");e.style.position="fixed";let i=this.centerRowContainerCtrl.getContainerElement();t.forEach(s=>this.cloneItemIntoDummy(s,e)),i.appendChild(e);let n=e.offsetWidth;i.removeChild(e);let o=this.getAutoSizePadding();return n+o}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(t){let e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{let n=i.getHtmlElementForColumnHeader(t);n!=null&&(e=n)}),e}cloneItemIntoDummy(t,e){let i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";let n=document.createElement("div"),o=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(o.add("ag-header","ag-header-row"),n.style.position="static"):o.add("ag-row");let r=t.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(l=>r.classList.contains(l))){for(let l=0;l<r.classList.length;l++){let c=r.classList[l];c!="ag-row-position-absolute"&&o.add(c)}break}r=r.parentElement}n.appendChild(i),e.appendChild(n)}},z2=class extends A{constructor(t,e){super(),this.createRowCon=t,this.destroyRowCtrls=e,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0,this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(t){this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer,this.ctrlsService=t.ctrlsService,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl})}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(t){this.extraTopHeight!==t&&(this.extraTopHeight=t,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:t}))}setOffsetBottom(t){this.extraBottomHeight!==t&&(this.extraBottomHeight=t)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(t){return this.isClientSide?this.getClientSideLastPixelOfGroup(t):this.getServerSideLastPixelOfGroup(t)}getFirstPixelOfGroup(t){return t.footer?t.sibling.rowTop+t.sibling.rowHeight-1:t.hasChildren()?t.rowTop-1:0}getServerSideLastPixelOfGroup(t){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(t.isExpandable()||t.footer){if(t.master)return t.detailNode.rowTop+t.detailNode.rowHeight;if(!t.sibling||Math.abs(t.sibling.rowIndex-t.rowIndex)===1){let i=t.childStore?.getStoreBounds();return t.footer&&(i=t.sibling.childStore?.getStoreBounds()),(i?.heightPx??0)+(i?.topPx??0)}return t.footer?t.rowTop+t.rowHeight:t.sibling.rowTop+t.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(t){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(t.isExpandable()||t.footer){if(t.footer&&t.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!t.sibling||Math.abs(t.sibling.rowIndex-t.rowIndex)===1){let n=t.footer?t.sibling:t;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(n.childrenAfterSort.length===0)break;n=Ze(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return t.footer?t.rowTop+t.rowHeight:t.sibling.rowTop+t.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(t){let e=t==="top",i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(t,new Set,i);let n=e?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,o=new Set,s=c=>{if(o.add(c),e){let d=this.getLastPixelOfGroup(c),u=n+i+c.rowHeight;d<u?c.stickyRowTop=i+(d-u):c.stickyRowTop=i}else{let d=this.getFirstPixelOfGroup(c),u=n-(i+c.rowHeight);d>u?c.stickyRowTop=i-(d-u):c.stickyRowTop=i}i=0,o.forEach(d=>{let u=d.stickyRowTop+d.rowHeight;i<u&&(i=u)})},r=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>{if(!c.displayed)return!1;if(c.footer){if(r===!0||r==="grand"&&c.level===-1||r==="group"&&c.level>-1)return!1;let d=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return t==="bottom"&&d?!1:!o.has(c)}return c.isExpandable()?a===!0||t==="bottom"?!1:!o.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let d=n+i;e||(d=n-i);let u=this.rowModel.getRowIndexAtPixel(d),p=this.rowModel.getRow(u);if(p==null)break;let y=this.getStickyAncestors(p).find(S=>(e?S.rowIndex<u:S.rowIndex>u)&&l(S));if(y){s(y);continue}if((e?p.rowTop<d:p.rowTop+p.rowHeight>d)&&l(p)){s(p);continue}break}return e||o.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(t,o,i)}areFooterRowsStickySuppressed(){let t=this.gos.get("suppressStickyTotalRow");if(t===!0)return!0;let e=!!this.gos.get("groupIncludeFooter")||t==="group",i=!!this.gos.get("groupIncludeTotalFooter")||t==="grand";return e&&i?!0:i?"grand":e?"group":!1}canRowsBeSticky(){let t=this.gos.isGroupRowsSticky(),e=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return t&&(!e||!i)}getStickyAncestors(t){let e=[],i=t.footer?t.sibling:t.parent;for(;i;)i.sibling&&e.push(i.sibling),e.push(i),i=i.parent;return e.reverse()}checkStickyRows(){let t=this.updateStickyRows("top"),e=this.updateStickyRows("bottom");return t||e}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(t){let e=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===t)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){let n=this.stickyTopRowCtrls[i].getRowNode();n!==t&&e.add(n)}this.refreshNodesAndContainerHeight("top",e,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){let n=this.stickyBottomRowCtrls[i].getRowNode();n!==t&&e.add(n)}this.refreshNodesAndContainerHeight("bottom",e,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(t,e,i){let n=t==="top",o=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},r=[];for(let p=0;p<o.length;p++){let m=o[p].getRowNode();if(!e.has(m)){s[m.id]=o[p],m.sticky=!1;continue}r.push(o[p])}let a=new Set;for(let p=0;p<r.length;p++)a.add(r[p].getRowNode());let l=[];e.forEach(p=>{a.has(p)||(p.sticky=!0,l.push(this.createRowCon(p,!1,!1)))});let c=!!l.length||r.length!==o.length;n?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(s,!1);let d=[...r,...l];d.sort((p,m)=>m.getRowNode().rowIndex-p.getRowNode().rowIndex),n||d.reverse(),d.forEach(p=>p.setRowTop(p.getRowNode().stickyRowTop));let u=0;return n?(e.forEach(p=>{p.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=p.rowHeight)}),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(e.forEach(p=>{p.rowIndex>this.pageBoundsService.getLastRow()&&(u+=p.rowHeight)}),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),c?(n?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0):!1}ensureRowHeightsValid(){let t=!1,e=i=>{let n=i.getRowNode();if(n.rowHeightEstimated){let o=this.gos.getRowHeightForNode(n);n.setRowHeight(o.height),t=!0}};return this.stickyTopRowCtrls.forEach(e),this.stickyBottomRowCtrls.forEach(e),t}},j2=class extends A{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let t=()=>{this.getAllCellCtrls().forEach(s=>s.onRangeSelectionChanged())},e=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("rangeSelectionChanged",t),this.eventService.addEventListener("columnMoved",e),this.eventService.addEventListener("columnPinned",e),this.eventService.addEventListener("columnVisible",e)},n=()=>{this.eventService.removeEventListener("rangeSelectionChanged",t),this.eventService.removeEventListener("columnMoved",e),this.eventService.removeEventListener("columnPinned",e),this.eventService.removeEventListener("columnVisible",e)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListener("enableRangeSelection",s=>{s.currentValue?i():n()}),this.gos.get("enableRangeSelection")&&i()}}wireBeans(t){this.animationFrameService=t.animationFrameService,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.pinnedRowModel=t.pinnedRowModel,this.rowModel=t.rowModel,this.focusService=t.focusService,this.beans=t,this.rowContainerHeightService=t.rowContainerHeightService,this.ctrlsService=t.ctrlsService,this.environment=t.environment}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl,this.initialise()})}initialise(){if(this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this)}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",t=>this.onSuppressCellFocusChanged(t.currentValue)),this.addManagedPropertyListeners(["getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gos.isGroupRowsSticky()){let t=this.rowModel.getType();(t==="clientSide"||t==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new z2(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let t=this.getKeepDetailRowsCount(),e=t??3;this.cachedRowCtrls=new $2(e)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){let t=qo(this.rowCtrlsByRowIndex),e=qo(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];e.length>0||i.length>0?this.allRowCtrls=[...t,...e,...i]:this.allRowCtrls=t}onCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onCellFocused(t)),this.getFullWidthRowCtrls().forEach(e=>e.onFullWidthRowFocused(t))}onSuppressCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onSuppressCellFocusChanged(t)),this.getFullWidthRowCtrls().forEach(e=>e.onSuppressCellFocusChanged(t))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:t=>{this.onCellFocusChanged(t)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:t=>{this.getAllCellCtrls().forEach(e=>e.onFlashCells(t))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(t=>t()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(e=>{let i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===e&&l(c)})},n=()=>{i(l=>l.onLeftChanged())},o=()=>{i(l=>l.onWidthChanged())},s=()=>{i(l=>l.onFirstRightPinnedChanged())},r=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};e.addEventListener("leftChanged",n),e.addEventListener("widthChanged",o),e.addEventListener("firstRightPinnedChanged",s),e.addEventListener("lastLeftPinnedChanged",r),e.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",n),e.removeEventListener("widthChanged",o),e.removeEventListener("firstRightPinnedChanged",s),e.removeEventListener("lastLeftPinnedChanged",r),e.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){let t=this.gos.isDomLayout("print"),e=t||this.gos.get("embedFullWidthRows"),i=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){let e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)}getAllCellsForColumn(t){let e=[];return this.getAllRowCtrls().forEach(i=>{let n=i.getCellElement(t);n&&e.push(n)}),e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){let{pinnedRowModel:i,beans:n,printLayout:o}=this,s=Object.fromEntries(t.map(a=>[a.getRowNode().id,a]));i.forEachPinnedRow(e,(a,l)=>{let c=t[l];c&&i.getPinnedRowById(c.getRowNode().id,e)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in s?(t[l]=s[a.id],delete s[a.id]):t[l]=new Fs(a,n,!1,!1,o)});let r=e==="top"?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();t.length=r}onPinnedRowDataChanged(){let t={recycleRows:!0};this.redrawAfterModelUpdate(t)}redrawRow(t,e=!1){if(t.sticky)this.stickyRowFeature.refreshStickyNode(t);else if(this.cachedRowCtrls?.has(t)){this.cachedRowCtrls.removeRow(t);return}else{let i=n=>{let o=n[t.rowIndex];o&&o.getRowNode()===t&&(o.destroyFirstPass(),o.destroySecondPass(),n[t.rowIndex]=this.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}e||this.dispatchDisplayedRowsChanged(!1)}redrawRows(t){if(t!=null){t?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(t){let e=t?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(e==null)return null;let i=this.gos.getActiveDomElement(),n=this.gos.getDomData(i,As.DOM_DATA_KEY_CELL_CTRL),o=this.gos.getDomData(i,Fs.DOM_DATA_KEY_ROW_CTRL);return n||o?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();let e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);let i=!t.domLayoutChanged&&!!t.recycleRows,n=t.animate&&this.gos.isAnimateRows(),o=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();let s=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();s&&this.updateContainerHeights(s)}this.recycleRows(o,n),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),e!=null&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()}scrollToTopIfNewData(t){let e=t.newData||t.newPage,i=this.gos.get("suppressScrollOnNewData");e&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(t=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.pageBoundsService.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e+t)}getLockOnRefresh(){if(this.refreshInProgress){let t=this.frameworkOverrides.getLockOnRefreshError?.()??"";throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace."+t)}this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){t&&this.focusService.restoreFocusedCell(t,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(t=!1){this.getAllRowCtrls().forEach(e=>{e.stopEditing(t)})}getAllCellCtrls(){let t=[],e=this.getAllRowCtrls(),i=e.length;for(let n=0;n<i;n++){let o=e[n].getAllCellCtrls(),s=o.length;for(let r=0;r<s;r++)t.push(o[r])}return t}getAllRowCtrls(){let t=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],e=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...t,...e];for(let n in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[n]);return i}addRenderedRowListener(t,e,i){let n=this.rowCtrlsByRowIndex[e];n&&n.addEventListener(t,i)}flashCells(t={}){this.getCellCtrls(t.rowNodes,t.columns).forEach(e=>e.flashCell(t))}refreshCells(t={}){let e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};for(let i of this.getCellCtrls(t.rowNodes,t.columns))i.refreshOrDestroyCell(e);this.refreshFullWidth(t.rowNodes)}refreshFullWidth(t){if(!t)return;let e=null;this.stickyRowFeature&&uC()&&(e=this.getCellToRestoreFocusToAfterRefresh()||null);for(let i of this.getRowCtrls(t)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),e&&this.restoreFocusedCell(e)}getCellRendererInstances(t){let e=this.getCellCtrls(t.rowNodes,t.columns).map(o=>o.getCellRenderer()).filter(o=>o!=null);if(t.columns?.length)return e;let i=[],n=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(o=>{if(n&&!this.isRowInMap(o.getRowNode(),n)||!o.isFullWidth())return;let s=o.getFullWidthCellRenderers();for(let r=0;r<s.length;r++){let a=s[r];a!=null&&i.push(a)}}),[...i,...e]}getCellEditorInstances(t){let e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{let n=i.getCellEditor();n&&e.push(n)}),e}getEditingCells(){let t=[];return this.getAllCellCtrls().forEach(e=>{if(e.isEditing()){let i=e.getCellPosition();t.push(i)}}),t}mapRowNodes(t){if(!t)return;let e={top:{},bottom:{},normal:{}};return t.forEach(i=>{let n=i.id;switch(i.rowPinned){case"top":e.top[n]=i;break;case"bottom":e.bottom[n]=i;break;default:e.normal[n]=i;break}}),e}isRowInMap(t,e){let i=t.id;switch(t.rowPinned){case"top":return e.top[i]!=null;case"bottom":return e.bottom[i]!=null;default:return e.normal[i]!=null}}getRowCtrls(t){let e=this.mapRowNodes(t),i=this.getAllRowCtrls();return!t||!e?i:i.filter(n=>{let o=n.getRowNode();return this.isRowInMap(o,e)})}getCellCtrls(t,e){let i;W(e)&&(i={},e.forEach(o=>{let s=this.columnModel.getCol(o);W(s)&&(i[s.getId()]=!0)}));let n=[];return this.getRowCtrls(t).forEach(o=>{o.getAllCellCtrls().forEach(s=>{let r=s.getColumn().getId();i&&!i[r]||n.push(s)})}),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){let t=[];rn(this.rowCtrlsByRowIndex,(i,n)=>{n.getRowNode().id==null&&t.push(i)}),this.removeRowCtrls(t);let e={};return rn(this.rowCtrlsByRowIndex,(i,n)=>{let o=n.getRowNode();e[o.id]=n}),this.rowCtrlsByRowIndex={},e}removeRowCtrls(t,e=!1){t.forEach(i=>{let n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(e),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(t={}){let{afterScroll:e}=t,i;this.stickyRowFeature&&uC()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);let n=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature){s=this.stickyRowFeature.checkStickyRows();let a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}let r=this.firstRenderedRow!==n||this.lastRenderedRow!==o;if(!(e&&!s&&!r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e&&!s),i!=null)){let a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(t,e){let i={};t.forEach(s=>i[s]=!0);let o=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!i[s]);this.removeRowCtrls(o,e)}calculateIndexesToDraw(t){let e=IN(this.firstRenderedRow,this.lastRenderedRow),i=(o,s)=>{let r=s.getRowNode().rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&e.push(r)};rn(this.rowCtrlsByRowIndex,i),rn(t,i),e.sort((o,s)=>o-s);let n=[];for(let o=0;o<e.length;o++){let s=e[o],r=this.rowModel.getRow(s);r&&!r.sticky&&n.push(s)}return n}recycleRows(t,e=!1,i=!1){let n=this.calculateIndexesToDraw(t);(this.printLayout||i)&&(e=!1),this.removeRowCompsNotToDraw(n,!e);let o=[];n.forEach(s=>{let r=this.createOrUpdateRowCtrl(s,t,e,i);W(r)&&o.push(r)}),t&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(t,e),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,e)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:t})}onDisplayedColumnsChanged(){let t=this.visibleColsService.isPinningLeft(),e=this.visibleColsService.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let t=[];this.getFullWidthRowCtrls().forEach(e=>{let i=e.getRowNode().rowIndex;t.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(t){let e=this.mapRowNodes(t);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;let n=i.getRowNode();return!(e!=null&&!this.isRowInMap(n,e))})}createOrUpdateRowCtrl(t,e,i,n){let o,s=this.rowCtrlsByRowIndex[t];if(s||(o=this.rowModel.getRow(t),W(o)&&W(e)&&e[o.id]&&o.alreadyRendered&&(s=e[o.id],e[o.id]=null)),!s)if(o||(o=this.rowModel.getRow(t)),W(o))s=this.createRowCon(o,i,n);else return;return o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s}destroyRowCtrls(t,e){let i=[];rn(t,(n,o)=>{if(o){if(this.cachedRowCtrls&&o.isCacheable()){this.cachedRowCtrls.addRow(o);return}o.destroyFirstPass(!e),e?(this.zombieRowCtrls[o.getInstanceId()]=o,i.push(()=>{o.destroySecondPass(),delete this.zombieRowCtrls[o.getInstanceId()]})):o.destroySecondPass()}}),e&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),uO(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let t=this.getRowBuffer(),e=this.gos.getRowHeightAsNumber();return t*e}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let t,e;if(!this.rowModel.isRowsToRender())t=0,e=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.pageBoundsService.getFirstRow(),e=this.pageBoundsService.getLastRow();else{let a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation"),d=!1,u,p;do{let k=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:P,pageLastPixel:B}=this.pageBoundsService.getCurrentPagePixelRange(),U=this.rowContainerHeightService.getDivStretchOffset(),te=l.getScrollFeature().getVScrollPosition(),Q=te.top,ce=te.bottom;c?(u=P+U,p=B+U):(u=Math.max(Q+k-a,P)+U,p=Math.min(ce+k+a,B)+U),this.firstVisibleVPixel=Math.max(Q+k,P)+U,this.lastVisibleVPixel=Math.min(ce+k,B)+U,d=this.ensureAllRowsInRangeHaveHeightsCalculated(u,p)}while(d);let m=this.rowModel.getRowIndexAtPixel(u),y=this.rowModel.getRowIndexAtPixel(p),R=this.pageBoundsService.getFirstRow(),S=this.pageBoundsService.getLastRow();m<R&&(m=R),y>S&&(y=S),t=m,e=y}let i=this.gos.isDomLayout("normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),o=Math.max(this.getRowBuffer(),500);i&&!n&&e-t>o&&(e=t+o);let s=t!==this.firstRenderedRow,r=e!==this.lastRenderedRow;(s||r)&&(this.firstRenderedRow=t,this.lastRenderedRow=e,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:t,lastRow:e}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(t,e){let i=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),o=this.rowModel.ensureRowHeightsValid(t,e,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(o||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),n||o||i?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){let n=t.getRowNode(),o=this.focusService.isRowNodeFocused(n),s=t.isEditing(),r=n.detail;return o||s||r?!!this.isRowPresent(n):!1}isRowPresent(t){return this.rowModel.isRowPresent(t)?this.paginationService?this.paginationService.isRowPresent(t):!0:!1}createRowCon(t,e,i){let n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(n)return n;let o=this.gos.get("suppressAnimationFrame"),s=i&&!o&&!this.printLayout;return new Fs(t,this.beans,e,s,this.printLayout)}getRenderedNodes(){let t=this.rowCtrlsByRowIndex;return Object.values(t).map(e=>e.getRowNode())}getRowByPosition(t){let e,{rowIndex:i}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[i];break;case"bottom":e=this.bottomRowCtrls[i];break;default:e=this.rowCtrlsByRowIndex[i],e||(e=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null,e||(e=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null));break}return e}isRangeInRenderedViewport(t,e){if(t==null||e==null)return!1;let n=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!n}},$2=class{constructor(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}addRow(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){let e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(t){if(t==null||t.id==null)return null;let e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null}has(t){return this.entriesMap[t.id]!=null}removeRow(t){let e=t.id,i=this.entriesMap[e];delete this.entriesMap[e],pi(this.entriesList,i)}removeFromCache(t){let e=t.getRowNode().id;delete this.entriesMap[e],pi(this.entriesList,t)}getEntries(){return this.entriesList}},K2=class extends A{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new QS,this.pinnedBottomRows=new QS}wireBeans(t){this.beans=t}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(t){return(t==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(t){return!this.isEmpty(t)}onGridStylesChanges(t){if(t.rowHeightChanged){let e=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(e),this.pinnedTopRows.forEach(e)}}ensureRowHeightsValid(){let t=!1,e=0,i=n=>{if(n.rowHeightEstimated){let o=this.gos.getRowHeightForNode(n);n.setRowTop(e),n.setRowHeight(o.height),e+=o.height,t=!0}};return this.pinnedBottomRows?.forEach(i),e=0,this.pinnedTopRows?.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),t}setPinnedRowData(t,e){this.updateNodesFromRowData(t,e),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(t,e){let i=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(t===void 0){i.clear();return}let n=this.gos.getRowIdCallback(),o=e==="top"?no.ID_PREFIX_TOP_PINNED:no.ID_PREFIX_BOTTOM_PINNED,s=i.getIds(),r=[],a=new Set,l=0,c=-1;for(let d of t){let u=n?.({data:d,level:0,rowPinned:e})??o+this.nextId++;if(a.has(u)){L("Duplicate ID",u,"found for pinned row with data",d,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(u),r.push(u);let p=i.getById(u);if(p!==void 0)p.data!==d&&p.setData(d),l+=this.setRowTopAndRowIndex(p,l,c),s.delete(u);else{let m=new no(this.beans);m.id=u,m.data=d,m.rowPinned=e,l+=this.setRowTopAndRowIndex(m,l,c),i.push(m)}}s.forEach(d=>{i.getById(d)?.clearRowTopAndRowIndex()}),i.removeAllById(s),i.setOrder(r)}setRowTopAndRowIndex(t,e,i){return t.setRowTop(e),t.setRowHeight(this.gos.getRowHeightForNode(t).height),t.setRowIndex(i),t.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(t){return this.pinnedTopRows.getByIndex(t)}getPinnedBottomRow(t){return this.pinnedBottomRows.getByIndex(t)}getPinnedRowById(t,e){return e==="top"?this.pinnedTopRows.getById(t):this.pinnedBottomRows.getById(t)}forEachPinnedRow(t,e){return t==="top"?this.pinnedTopRows.forEach(e):this.pinnedBottomRows.forEach(e)}getTotalHeight(t){let e=t.getSize();if(e===0)return 0;let i=t.getByIndex(e-1);return i===void 0?0:i.rowTop+i.rowHeight}},QS=class{constructor(){this.cache={},this.ordering=[]}getById(t){return this.cache[t]}getByIndex(t){let e=this.ordering[t];return this.cache[e]}push(t){this.cache[t.id]=t,this.ordering.push(t.id)}removeAllById(t){for(let e of t)delete this.cache[e];this.ordering=this.ordering.filter(e=>!t.has(e))}setOrder(t){this.ordering=t}forEach(t){this.ordering.forEach((e,i)=>{let n=this.cache[e];n&&t(n,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}};var q2=class extends A{constructor(t){super(),this.state="needsLoading",this.version=0,this.id=t}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(t,e){this.successCommon(t,e)}pageLoaded(t,e,i){this.successCommon(t,{rowData:e,rowCount:i})}isRequestMostRecentAndLive(t){let e=t===this.version,i=this.isAlive();return e&&i}successCommon(t,e){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state="loaded",this.processServerResult(e))}dispatchLoadCompleted(t=!0){let e={type:"loadComplete",success:t,block:this};this.dispatchLocalEvent(e)}},X2=class extends A{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();let t=this.gos.get("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=fi(this.performCheckBlocksToLoad.bind(this),t))}getMaxConcurrentDatasourceRequests(){let t=this.gos.get("maxConcurrentDatasourceRequests");if(t==null)return 2;if(!(t<=0))return t}addBlock(t){this.blocks.push(t),t.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(t){pi(this.blocks,t)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&ln("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let t=this.getAvailableLoadingCount(),e=this.blocks.filter(i=>i.getState()==="needsLoading").slice(0,t);this.registerLoads(e.length),e.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide"))return this.rowModel.getBlockStates();let t={};return this.blocks.forEach(e=>{let{id:i,state:n}=e.getBlockStateJson();t[i]=n}),t}printCacheStatus(){this.gos.get("debug")&&ln(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(t){this.activeBlockLoadsCount+=t}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},Y2={version:Oe,moduleName:"@ag-grid-community/row-node-block",beans:[X2]},Q2=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(t){this.rowModel=t}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(t){this.root=t,this.end=null,this.cachedRange.length=0}setEndRange(t){this.end=t,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let t=this.getRoot(),e=this.getEnd();if(t==null||e==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(t,e)}return this.cachedRange}isInRange(t){return this.root===null?!1:this.getRange().some(e=>e.id===t.id)}getRoot(){return this.root&&this.root?.key===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&this.end?.key===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(t){let e=this.getRange();if(e.length===0)return{keep:[],discard:[]};let i=e[0].id===this.root.id,n=e.findIndex(o=>o.id===t.id);if(n>-1){let o=e.slice(0,n),s=e.slice(n+1);return this.setEndRange(t),i?{keep:o,discard:s}:{keep:s,discard:o}}else return{keep:e,discard:[]}}extend(t,e=!1){let i=this.getRoot();if(i==null){let o=this.getRange().slice();return e&&t.depthFirstSearch(s=>!s.group&&o.push(s)),o.push(t),this.setRoot(t),{keep:o,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,t).find(o=>o.id===this.end?.id))return this.setEndRange(t),{keep:this.getRange(),discard:[]};{let o=this.getRange().slice();return this.setEndRange(t),{keep:this.getRange(),discard:o}}}},Z2=class extends A{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(t){this.expressionService=t.expressionService}processAllCellClasses(t,e,i,n){this.processClassRules(void 0,t.cellClassRules,e,i,n),this.processStaticCellClasses(t,e,i)}processClassRules(t,e,i,n,o){if(e==null&&t==null)return;let s={},r={},a=(l,c)=>{l.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(e){let l=Object.keys(e);for(let c=0;c<l.length;c++){let d=l[c],u=e[d],p;typeof u=="string"?p=this.expressionService.evaluate(u,i):typeof u=="function"&&(p=u(i)),a(d,m=>{p?s[m]=!0:r[m]=!0})}}t&&o&&Object.keys(t).forEach(l=>a(l,c=>{s[c]||(r[c]=!0)})),o&&Object.keys(r).forEach(o),Object.keys(s).forEach(n)}getStaticCellClasses(t,e){let{cellClass:i}=t;if(!i)return[];let n;return typeof i=="function"?n=i(e):n=i,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(t,e,i){this.getStaticCellClasses(t,e).forEach(o=>{i(o)})}};var J2=class extends A{constructor(t){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:e,eTopGuard:i,eBottomGuard:n,focusTrapActive:o,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:r,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:p,eFocusableElement:m}=t;this.comp=e,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=m,this.focusTrapActive=!!o,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!r,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=p}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.createManagedBean(new Ls(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(t=>this.addManagedElementListeners(t,{focus:this.onFocus.bind(this)}))}handleKeyDown(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let t=this.gos.get("tabIndex");this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.isFocusableContainer&&!this.eFocusableElement.contains(t.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(t.relatedTarget))return;let e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}findNextElementOutsideAndFocus(t){let e=this.gos.getDocument(),i=this.focusService.findFocusableElements(e.body,null,!0),n=i.indexOf(t?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let o,s;t?(o=0,s=n):(o=n+1,s=i.length);let r=i.slice(o,s),a=this.gos.get("tabIndex");r.sort((l,c)=>{let d=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return u===a?1:d===a?-1:d===0?1:u===0?-1:d-u}),r[t?r.length-1:0].focus()}onFocusIn(t){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(t),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())}onTabKeyDown(t){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(this.focusTrapActive||t.defaultPrevented)return;let e=this.tabGuardsAreActive();e&&this.deactivateTabGuards();let i=this.getNextFocusableElement(t.shiftKey);e&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),t.preventDefault())}focusInnerElement(t=!1){let e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)}forceFocusOutOfContainer(t=!1){if(this.forcingFocusOut)return;let e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,e.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(t,e){return t===this.eTopGuard&&!e||t===this.eBottomGuard&&(e??!0)}setAllowFocus(t){this.allowFocus=t}},eV=class extends A{constructor(t){super(),this.comp=t}initialiseTabGuard(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:e,eBottomGuard:i,eFocusableElement:n}=this,o=[e,i],s={setTabIndex:R=>{o.forEach(S=>R!=null?S.setAttribute("tabindex",R):S.removeAttribute("tabindex"))}};this.addTabGuards(e,i);let{focusTrapActive:r=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:y}=t;this.tabGuardCtrl=this.createManagedBean(new J2({comp:s,focusTrapActive:r,eTopGuard:e,eBottomGuard:i,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:y}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(t){let e=this.gos.getDocument().createElement("div"),i=t==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return e.classList.add("ag-tab-guard",i),Di(e,"presentation"),e}addTabGuards(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)}removeAllChildrenExceptTabGuards(){let t=[this.eTopGuard,this.eBottomGuard];ri(this.comp.getFocusableElement()),this.addTabGuards(...t)}forceFocusOutOfContainer(t=!1){this.tabGuardCtrl.forceFocusOutOfContainer(t)}appendChild(t,e,i){MC(e)||(e=e.getGui());let{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",e):t(e,i)}},Fx=class extends ot{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new eV(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,e){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,e)}},tV=0,iV=200,nV=class extends A{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(t){this.ctrlsService=t.ctrlsService,this.resizeObserverService=t.resizeObserverService,this.environment=t.environment}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let t=this.gos.get("popupParent");return t||this.gridCtrl.getGui()}positionPopupForMenu(t){let{eventSource:e,ePopup:i}=t,n=this.getPopupIndex(i);if(n!==-1){let m=this.popupList[n];m.alignedToElement=e}let o=e.getBoundingClientRect(),s=this.getParentRect(),r=this.keepXYWithinBounds(i,o.top-s.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;let c=s.right-s.left-a,d;this.gos.get("enableRtl")?(d=p(),d<0&&(d=u(),this.setAlignedStyles(i,"left")),d>c&&(d=0,this.setAlignedStyles(i,"right"))):(d=u(),d>c&&(d=p(),this.setAlignedStyles(i,"right")),d<0&&(d=0,this.setAlignedStyles(i,"left"))),i.style.left=`${d}px`,i.style.top=`${r}px`;function u(){return o.right-s.left-2}function p(){return o.left-s.left-a}}positionPopupUnderMouseEvent(t){let{ePopup:e,nudgeX:i,nudgeY:n,skipObserver:o}=t;this.positionPopup({ePopup:e,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){let e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){let{ePopup:e,nudgeX:i,nudgeY:n,keepWithinBounds:o,eventSource:s,alignSide:r="left",position:a="over",column:l,rowNode:c,type:d}=t,u=s.getBoundingClientRect(),p=this.getParentRect(),m=this.getPopupIndex(e);if(m!==-1){let R=this.popupList[m];R.alignedToElement=s}let y=()=>{let R=u.left-p.left;r==="right"&&(R-=e.offsetWidth-u.width);let S;return a==="over"?(S=u.top-p.top,this.setAlignedStyles(e,"over")):(this.setAlignedStyles(e,"under"),this.shouldRenderUnderOrAbove(e,u,p,t.nudgeY||0)==="under"?S=u.top-p.top+u.height:S=u.top-e.offsetHeight-(n||0)*2-p.top),{x:R,y:S}};this.positionPopup({ePopup:e,nudgeX:i,nudgeY:n,keepWithinBounds:o,updatePosition:y,postProcessCallback:()=>this.callPostProcessPopup(d,e,s,null,l,c)})}shouldRenderUnderOrAbove(t,e,i,n){let o=i.bottom-e.bottom,s=e.top-i.top,r=t.offsetHeight+n;return o>r?"under":s>r||s>o?"above":"under"}setAlignedStyles(t,e){let i=this.getPopupIndex(t);if(i===-1)return;let n=this.popupList[i],{alignedToElement:o}=n;!o||(["right","left","over","above","under"].forEach(r=>{o.classList.remove(`ag-has-popup-positioned-${r}`),t.classList.remove(`ag-popup-positioned-${r}`)}),!e)||(o.classList.add(`ag-has-popup-positioned-${e}`),t.classList.add(`ag-popup-positioned-${e}`))}callPostProcessPopup(t,e,i,n,o,s){let r=this.gos.getCallback("postProcessPopup");r&&r({column:o,rowNode:s,ePopup:e,type:t,eventSource:i,mouseEvent:n})}positionPopup(t){let{ePopup:e,keepWithinBounds:i,nudgeX:n,nudgeY:o,skipObserver:s,updatePosition:r}=t,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=r();c&&e.clientWidth===a.width&&e.clientHeight===a.height||(a.width=e.clientWidth,a.height=e.clientHeight,n&&(d+=n),o&&(u+=o),i&&(d=this.keepXYWithinBounds(e,d,1),u=this.keepXYWithinBounds(e,u,0)),e.style.left=`${d}px`,e.style.top=`${u}px`,t.postProcessCallback&&t.postProcessCallback())};if(l(),!s){let c=this.resizeObserverService.observeResize(e,()=>l(!0));setTimeout(()=>c(),iV)}}getActivePopups(){return this.popupList.map(t=>t.element)}getPopupList(){return this.popupList}getParentRect(){let t=this.gos.getDocument(),e=this.getPopupParent();return e===t.body?e=t.documentElement:getComputedStyle(e).position==="static"&&(e=e.offsetParent),OR(e)}keepXYWithinBounds(t,e,i){let n=i===0,o=n?"clientHeight":"clientWidth",s=n?"top":"left",r=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=this.gos.getDocument(),c=l.documentElement,d=this.getPopupParent(),u=t.getBoundingClientRect(),p=d.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),y=d===l.body,R=Math.ceil(u[r]),k=y?(n?FR:lh)(c)+c[a]:d[o];y&&(k-=Math.abs(m[s]-p[s]));let P=k-R;return Math.min(Math.max(e,0),Math.abs(P))}addPopup(t){let e=this.gos.getDocument(),{eChild:i,ariaLabel:n,alwaysOnTop:o,positionCallback:s,anchorToElement:r}=t;if(!e)return L("could not find the document, document is empty"),{hideFunc:()=>{}};let a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);let l=this.createPopupWrapper(i,n,!!o),c=this.addEventListenersToPopup(_e(D({},t),{wrapperEl:l}));return s&&s(),this.addPopupToPopupList(i,l,c,r),{hideFunc:c}}initialisePopupPosition(t){let i=this.getPopupParent().getBoundingClientRect();W(t.style.top)||(t.style.top=`${i.top*-1}px`),W(t.style.left)||(t.style.left=`${i.left*-1}px`)}createPopupWrapper(t,e,i){let n=this.getPopupParent(),o=document.createElement("div");return this.environment.applyThemeClasses(o),o.classList.add("ag-popup"),t.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||Di(t,"dialog"),ea(t,e),o.appendChild(t),n.appendChild(o),i?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),o}handleThemeChange(t){if(t.themeChanged)for(let e of this.popupList)this.environment.applyThemeClasses(e.wrapper)}addEventListenersToPopup(t){let e=this.gos.getDocument(),i=this.getPopupParent(),{wrapperEl:n,eChild:o,closedCallback:s,afterGuiAttached:r,closeOnEsc:a,modal:l}=t,c=!1,d=y=>{if(!n.contains(this.gos.getActiveDomElement()))return;y.key===N.ESCAPE&&!to(y)&&m({keyboardEvent:y})},u=y=>m({mouseEvent:y}),p=y=>m({touchEvent:y}),m=(y={})=>{let{mouseEvent:R,touchEvent:S,keyboardEvent:k,forceHide:P}=y;!P&&(this.isEventFromCurrentPopup({mouseEvent:R,touchEvent:S},o)||c)||(c=!0,i.removeChild(n),e.removeEventListener("keydown",d),e.removeEventListener("mousedown",u),e.removeEventListener("touchstart",p),e.removeEventListener("contextmenu",u),this.eventService.removeEventListener("dragStarted",u),s&&s(R||S||k),this.removePopupFromPopupList(o))};return r&&r({hidePopup:m}),window.setTimeout(()=>{a&&e.addEventListener("keydown",d),l&&(e.addEventListener("mousedown",u),this.eventService.addEventListener("dragStarted",u),e.addEventListener("touchstart",p),e.addEventListener("contextmenu",u))},0),m}addPopupToPopupList(t,e,i,n){this.popupList.push({element:t,wrapper:e,hideFunc:i,instanceId:tV++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(t,n)}getPopupIndex(t){return this.popupList.findIndex(e=>e.element===t)}setPopupPositionRelatedToElement(t,e){let i=this.getPopupIndex(t);if(i===-1)return;let n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(s=>s&&s()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!e)return;let o=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:n.hideFunc});return n.stopAnchoringPromise=o,n.isAnchored=!0,o}removePopupFromPopupList(t){this.setAlignedStyles(t,null),this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter(e=>e.element!==t)}keepPopupPositionedRelativeTo(t){let e=this.getPopupParent(),i=e.getBoundingClientRect(),{element:n,ePopup:o}=t,s=n.getBoundingClientRect(),r=i.top-s.top,a=i.left-s.left,l=r,c=a,d=o.style.top,u=parseInt(d.substring(0,d.length-1),10),p=o.style.left,m=parseInt(p.substring(0,p.length-1),10),y=this.getFrameworkOverrides();return new Ui(R=>{y.wrapIncoming(()=>{y.setInterval(()=>{let S=e.getBoundingClientRect(),k=n.getBoundingClientRect();if(k.top==0&&k.left==0&&k.height==0&&k.width==0){t.hidePopup();return}let B=S.top-k.top;if(B!=l){let te=this.keepXYWithinBounds(o,u+r-B,0);o.style.top=`${te}px`}l=B;let U=S.left-k.left;if(U!=c){let te=this.keepXYWithinBounds(o,m+a-U,1);o.style.left=`${te}px`}c=U},200).then(S=>{R(()=>{S!=null&&window.clearInterval(S)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(t=>t.isAnchored)}isEventFromCurrentPopup(t,e){let{mouseEvent:i,touchEvent:n}=t,o=i||n;if(!o)return!1;let s=this.getPopupIndex(e);if(s===-1)return!1;for(let r=s;r<this.popupList.length;r++){let a=this.popupList[r];if(nO(a.element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(t){let e=this.gos.getDocument();for(;t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||t.parentElement===null)return!0;t=t.parentElement}return!1}getWrapper(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){let i=this.getWrapper(t);i&&(i.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(i))}bringPopupToFront(t){let e=this.getPopupParent(),i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),n=i.length,o=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),s=o.length,r=this.getWrapper(t);if(!r||n<=1||!e.contains(t))return!1;let a=i.indexOf(r),l=r.querySelectorAll("div"),c=[];l.forEach(u=>{u.scrollTop!==0&&c.push([u,u.scrollTop])});let d=!1;for(s?r.classList.contains("ag-always-on-top")?a!==n-1&&(Ze(o).insertAdjacentElement("afterend",r),d=!0):a!==n-s-1&&(o[0].insertAdjacentElement("beforebegin",r),d=!0):a!==n-1&&(Ze(i).insertAdjacentElement("afterend",r),d=!0);c.length;){let u=c.pop();u[0].scrollTop=u[1]}return d}},oV=["touchstart","touchend","touchmove","touchcancel"],XC=class{constructor(t="javascript"){this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(t,e){return new Ui(i=>{i(window.setInterval(t,e))})}addEventListener(t,e,i,n){let o=Ms(oV,e);t.addEventListener(e,i,{capture:!!n,passive:o})}get shouldWrapOutgoing(){return!1}frameworkComponent(t){return null}isFrameworkComponent(t){return!1}getDocLink(t){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${t?`/${t}`:""}`}},sV=class extends A{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(t){this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer,this.pinnedRowModel=t.pinnedRowModel,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService}getNextCellToFocus(t,e,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){let i=t===N.UP,n=t===N.DOWN,o=t===N.LEFT,s,r;if(i||n)r=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),s=e.column;else{let a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");r=e.rowIndex,s=o!==l?a[0]:Ze(a)}return{rowIndex:r,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(t,e){let i=e,n=!1;for(;!n;){switch(t){case N.UP:i=this.getCellAbove(i);break;case N.DOWN:i=this.getCellBelow(i);break;case N.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case N.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,L("unknown key for navigation ",t);break}i?n=this.isCellGoodToFocusOn(i):n=!0}return i}isCellGoodToFocusOn(t){let e=t.column,i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex);break}return i?!e.isSuppressNavigable(i):!1}getCellToLeft(t){if(!t)return null;let e=this.visibleColsService.getColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getCellToRight(t){if(!t)return null;let e=this.visibleColsService.getColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getRowBelow(t){let e=t.rowIndex,i=t.rowPinned,n=!1;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(n=!0);let o=this.rowModel.getRow(t.rowIndex),s=n?void 0:this.getNextStickyPosition(o);return s||{rowIndex:e+1,rowPinned:i}}getNextStickyPosition(t,e){if(!this.gos.isGroupRowsSticky()||!t||!t.sticky)return;let i=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===t.rowIndex),n=[];i?n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):n=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);let o=e?-1:1,s=n.findIndex(a=>a.getRowNode().rowIndex===t.rowIndex),r=n[s+o];if(r)return{rowIndex:r.getRowNode().rowIndex,rowPinned:null}}getCellBelow(t){if(!t)return null;let e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}isLastRowInContainer(t){let e=t.rowPinned,i=t.rowIndex;return e==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:e==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(t){let e=t.rowIndex,i=t.rowPinned,n=i?e===0:e===this.pageBoundsService.getFirstRow(),o=!1;if(n)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(o=!0);let s=this.rowModel.getRow(t.rowIndex),r=o?void 0:this.getNextStickyPosition(s,!0);return r||{rowIndex:e-1,rowPinned:i}}getCellAbove(t){if(!t)return null;let e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){let e=this.visibleColsService.getAllCols(),i=t.rowIndex,n=t.rowPinned,o=this.visibleColsService.getColAfter(t.column);if(!o){o=e[0];let s=this.getRowBelow(t);if(Xe(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??!0))return null;i=s?s.rowIndex:null,n=s?s.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}getNextTabbedCellBackwards(t){let e=this.visibleColsService.getAllCols(),i=t.rowIndex,n=t.rowPinned,o=this.visibleColsService.getColBefore(t.column);if(!o){o=Ze(e);let s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(Xe(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??!0))return null;i=s?s.rowIndex:null,n=s?s.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}},di=(t,e)=>{for(let i in e)e[i]=t;return e},ZS=D(D(D(D(D(D(D(D(D(D(D(D(D(D(D({},di("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0})),di("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),di("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0})),di("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0,isLastRowIndexKnown:0})),di("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),di("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),di("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),di("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),di("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),di("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0})),di("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0})),di("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),di("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),di("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),di("@ag-grid-enterprise/status-bar",{getStatusPanel:0})),tC={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},rV=(t,e)=>t.eventService.dispatchEvent(e),Ox=class{};Reflect.defineProperty(Ox,"name",{value:"GridApi"});var aV=class extends A{constructor(){super(),this.beanName="apiFunctionService",this.api=new Ox,this.fns=_e(D({},tC),{dispatchEvent:rV}),this.beans=null,this.preDestroyLink="";let{api:t}=this;for(let e in ZS)t[e]=this.makeApi(e)[e]}wireBeans(t){this.beans=t}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(t,e){let{fns:i,beans:n}=this;i!==tC&&(i[t]=n?.validationService?.validateApiFunction(t,e)??e)}makeApi(t){return{[t]:(...e)=>{let{beans:i,fns:{[t]:n}}=this;return n?n(i,...e):this.apiNotFound(t)}}}apiNotFound(t){let{beans:e,gridId:i,preDestroyLink:n}=this;if(!e)L(`Grid API function ${t}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`);else{let o=ZS[t];hi.__assertRegistered(o,`api.${t}`,i)&&L(`API function '${t}' not registered to module '${o}'`)}}destroy(){super.destroy(),this.fns=tC,this.beans=null}};function lV(t){return{beanName:"gridApi",bean:t.getBean("apiFunctionService").api}}var cV=class extends A{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(t,e,i){let n=[],o={};return t.forEach(s=>{let r=this.createDefFromColumn(s,e,i),a=!0,l=r,c=s.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}let p=o[c.getGroupId()];if(p){p.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],o[u.groupId]=u,l=u,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&n.push(l)}),n}createDefFromGroup(t){let e=aC(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e}createDefFromColumn(t,e,i){let n=aC(t.getColDef());return n.colId=t.getColId(),n.width=t.getActualWidth(),n.rowGroup=t.isRowGroupActive(),n.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,n.pivot=t.isPivotActive(),n.pivotIndex=t.isPivotActive()?i.indexOf(t):null,n.aggFunc=t.isValueActive()?t.getAggFunc():null,n.hide=t.isVisible()?void 0:!0,n.pinned=t.isPinned()?t.getPinned():null,n.sort=t.getSort()?t.getSort():null,n.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,n}},dV=class extends A{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(){this.eventService.dispatchEvent({type:"displayedColumnsChanged"})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(t){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:t,columns:[t],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(t){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:t,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(t){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:t.length===1?t[0]:void 0,columnGroups:t})}rowGroupChanged(t,e){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:t,column:t.length===1?t[0]:null,source:e})}genericColumnEvent(t,e,i){this.eventService.dispatchEvent({type:t,columns:e,column:e.length===1?e[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(t){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:t})}newColumnsLoaded(t){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:t})}everythingChanged(t){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:t})}columnMoved(t){let{movedColumns:e,source:i,toIndex:n,finished:o}=t;this.eventService.dispatchEvent({type:"columnMoved",columns:e,column:e&&e.length===1?e[0]:null,toIndex:n,finished:o,source:i})}columnPinned(t,e){if(!t.length)return;let i=t.length===1?t[0]:null,n=this.getCommonValue(t,o=>o.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:t,column:i,source:e})}columnVisible(t,e){if(!t.length)return;let i=t.length===1?t[0]:null,n=this.getCommonValue(t,o=>o.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:t,column:i,source:e})}getCommonValue(t,e){if(!t||t.length==0)return;let i=e(t[0]);for(let n=1;n<t.length;n++)if(i!==e(t[n]))return;return i}columnChanged(t,e,i){this.eventService.dispatchEvent({type:t,columns:e,column:e&&e.length==1?e[0]:null,source:i})}columnResized(t,e,i,n=null){t&&t.length&&this.eventService.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:n,finished:e,source:i})}},uV=class extends A{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService}getColumnState(){let t=this.columnModel.getColDefCols();if(Xe(t)||!this.columnModel.isAlive())return[];let i=this.columnModel.getAllCols().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i}createStateItemFromColumn(t){let e=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),n=t.isRowGroupActive()?e.indexOf(t):null,o=t.isPivotActive()?i.indexOf(t):null,s=t.isValueActive()?t.getAggFunc():null,r=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:r,sortIndex:a,aggFunc:s,rowGroup:t.isRowGroupActive(),rowGroupIndex:n,pivot:t.isPivotActive(),pivotIndex:o,flex:l}}orderColumnStateList(t){let e=this.columnModel.getCols(),i=new Map(e.map((n,o)=>[n.getColId(),o]));t.sort((n,o)=>{let s=i.has(n.colId)?i.get(n.colId):-1,r=i.has(o.colId)?i.get(o.colId):-1;return s-r})}},hV=class extends A{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(t){this.columnModel=t.columnModel,this.columnAnimationService=t.columnAnimationService,this.eventDispatcher=t.columnEventDispatcher,this.visibleColsService=t.visibleColsService}getColumnGroupState(){let t=[],e=this.columnModel.getColTree();return oo(null,e,i=>{ui(i)&&t.push({groupId:i.getGroupId(),open:i.isExpanded()})}),t}resetColumnGroupState(t){let e=this.columnModel.getColDefColTree();if(!e)return;let i=[];oo(null,e,n=>{if(ui(n)){let o=n.getColGroupDef(),s={groupId:n.getGroupId(),open:o?o.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,t)}setColumnGroupState(t,e){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();let n=[];t.forEach(o=>{let s=o.groupId,r=o.open,a=this.columnModel.getProvidedColGroup(s);a&&a.isExpanded()!==r&&(a.setExpanded(r),n.push(a))}),this.visibleColsService.refresh(e,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},pV=class extends A{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(t){this.visibleColsService=t.visibleColsService,this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(t,e,i=!1){let n=this.visibleColsService.isBodyWidthDirty();if(!(t===this.scrollWidth&&e===this.scrollPosition&&!n)){if(this.scrollWidth=t,this.scrollPosition=e,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){let s=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=s-this.scrollPosition-this.scrollWidth,this.viewportRight=s-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(t,e){let i;switch(t){case"left":i=this.rowsOfHeadersToRenderLeft[e];break;case"right":i=this.rowsOfHeadersToRenderRight[e];break;default:i=this.rowsOfHeadersToRenderCenter[e];break}return i||[]}extractViewportColumns(){let t=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=t,this.headerColsWithinViewport=t):(this.colsWithinViewport=t.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=t.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(t){return t.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(t)?!0:this.isColumnInRowViewport(t)}isAnyParentAutoHeaderHeight(t){for(;t;){if(t.isAutoHeaderHeight())return!0;t=t.getParent()}return!1}isColumnInRowViewport(t){if(t.isAutoHeight())return!0;let e=t.getLeft()||0,i=e+t.getActualWidth(),n=this.viewportLeft-200,o=this.viewportRight+200,s=e<n&&i<n,r=e>o&&i>o;return!s&&!r}getViewportColumns(){let t=this.visibleColsService.getLeftCols(),e=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(t).concat(e)}getColsWithinViewport(t){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;let e=o=>{let s=o.getLeft();return W(s)&&s>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(t,n,i,e)}checkViewportColumns(t=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(t)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};let t={},e=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(e).concat(i).forEach(s=>t[s.getId()]=!0);let o=(s,r,a)=>{let l=!1;for(let c=0;c<s.length;c++){let d=s[c],u=!1;if(Xo(d))u=t[d.getId()]===!0;else{let m=d.getDisplayedChildren();m&&(u=o(m,r,a+1))}u&&(l=!0,r[a]||(r[a]=[]),r[a].push(d))}return l};o(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),o(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),o(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let t=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();let e=this.getViewportColumns().map(t).join("#"),i=this.colsWithinViewportHash!==e;return i&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),i}},fV=class extends A{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(t){this.componentMetadataProvider=t.componentMetadataProvider}adaptFunction(t,e){let i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(e):null}adaptCellRendererFunction(t){class e{refresh(){return!1}getGui(){return this.eGui}init(n){let o=t(n),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=ta("<span>"+o+"</span>");return}if(o==null){this.eGui=ta("<span></span>");return}this.eGui=o}}return e}doesImplementIComponent(t){return t?t.prototype&&"getGui"in t.prototype:!1}},mV=class extends A{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(t){this.agComponentUtils=t.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(t){return this.componentMetaData[t]}},gV=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],JS=Object.fromEntries(gV.map((t,e)=>[t,e]));function vV(t,e){let i=(t.beanName?JS[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(e.beanName?JS[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-n}function CV(t,e){return t?.beanName==="gridDestroyService"?-1:0}var bV=class extends A{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(t){this.registry[t.name]=t.classImp}getInstance(t,...e){let i=this.registry[t];if(i!=null)return new i(...e)}},yV=class extends A{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){let t=this.params;this.ready=t.gridCtrl!=null&&t.gridBodyCtrl!=null&&t.center!=null&&t.left!=null&&t.right!=null&&t.bottomCenter!=null&&t.bottomLeft!=null&&t.bottomRight!=null&&t.topCenter!=null&&t.topLeft!=null&&t.topRight!=null&&t.stickyTopCenter!=null&&t.stickyTopLeft!=null&&t.stickyTopRight!=null&&t.stickyBottomCenter!=null&&t.stickyBottomLeft!=null&&t.stickyBottomRight!=null&&t.centerHeader!=null&&t.leftHeader!=null&&t.rightHeader!=null&&t.fakeHScrollComp!=null&&t.fakeVScrollComp!=null&&t.gridHeaderCtrl!=null,this.ready&&(this.readyCallbacks.forEach(e=>e(t)),this.readyCallbacks.length=0)}whenReady(t){this.ready?t(this.params):this.readyCallbacks.push(t)}register(t,e){this.params[t]=e,this.checkReady()}registerHeaderContainer(t,e){let i=this.params;switch(e){case"left":i.leftHeader=t;break;case"right":i.rightHeader=t;break;default:i.centerHeader=t;break}this.checkReady()}get(t){return this.params[t]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:t,centerHeader:e,rightHeader:i}=this.params;return[t,i,e]}getHeaderRowContainerCtrl(t){let e=this.params;switch(t){case"left":return e.leftHeader;case"right":return e.rightHeader;default:return e.centerHeader}}},wV=class extends A{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(t){let{rowIndex:e,rowPinned:i,column:n}=t;return this.createIdFromValues({rowIndex:e,column:n,rowPinned:i})}createIdFromValues(t){let{rowIndex:e,rowPinned:i,column:n}=t;return`${e}.${i??"null"}.${n.getId()}`}equals(t,e){let i=t.column===e.column,n=t.rowPinned===e.rowPinned,o=t.rowIndex===e.rowIndex;return i&&n&&o}},_V=class extends A{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(t){this.animationFrameService=t.animationFrameService,this.rowModel=t.rowModel}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(t,e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);let i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};e?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},SV=class extends A{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(t){this.rowModel=t.rowModel,this.pinnedRowModel=t.pinnedRowModel,this.pageBoundsService=t.pageBoundsService}getFirstRow(){let t=0,e;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),e===void 0?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t,e=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(e="bottom",t=i-1):this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getLastRow()):n&&(e="top",t=n-1),t===void 0?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(t.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){return!t&&!e?!0:t&&!e||!t&&e?!1:t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if(e.rowPinned!=="top")return!0;break;case"bottom":if(e.rowPinned!=="bottom")return!1;break;default:if(W(e.rowPinned))return e.rowPinned!=="top";break}return t.rowIndex<e.rowIndex}},eR={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},tR={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},iR={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},RV=class extends A{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.themeClasses=[],this.eThemeAncestor=null,this.eMeasurementContainer=null,this.sizesMeasured=!1}wireBeans(t){this.resizeObserverService=t.resizeObserverService,this.eGridDiv=t.eGridDiv}postConstruct(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.themeClasses=this.getAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(eR),this.getSizeEl(tR),this.getSizeEl(iR)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(eR)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(tR)}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(iR)}hasMeasuredSizes(){return this.sizesMeasured}getThemeClasses(){return this.themeClasses}applyThemeClasses(t){for(let e of Array.from(t.classList))e.startsWith("ag-theme-")&&!this.themeClasses.includes(e)&&t.classList.remove(e);for(let e of this.themeClasses)t.classList.contains(e)||t.classList.add(e)}getThemeAncestorElement(){return this.eThemeAncestor}refreshRowHeightVariable(){let t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),e=this.gos.get("rowHeight");if(e==null||isNaN(e)||!isFinite(e))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;let i=`${e}px`;return t!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),e):t!=""?parseFloat(t):-1}getCSSVariablePixelValue(t){let e=this.lastKnownValues.get(t);if(e!=null)return e;let i=this.measureSizeEl(t);return i==="detached"||i==="no-styles"?t.defaultValue:(this.lastKnownValues.set(t,i),i)}measureSizeEl(t){let e=this.getSizeEl(t);if(e.offsetParent==null)return"detached";let i=e.offsetWidth;return i===nR?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(t){let e=this.sizeEls.get(t);if(e)return e;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.eGridDiv.appendChild(i)),e=document.createElement("div"),e.style.width=`var(${t.cssName}, ${nR}px)`,i.appendChild(e),this.sizeEls.set(t,e);let n=this.measureSizeEl(t);n==="no-styles"&&L(`no value for ${t.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${t.defaultValue} will be used and updated when styles load.`);let o=this.resizeObserverService.observeResize(e,()=>{let s=this.measureSizeEl(t);s==="detached"||s==="no-styles"||(this.lastKnownValues.set(t,s),s!==n&&(n=s,this.fireGridStylesChangedEvent(t.changeKey)))});return this.addDestroyFunc(()=>o()),e}fireGridStylesChangedEvent(t){this.eventService.dispatchEvent({type:"gridStylesChanged",[t]:!0})}setUpThemeClassObservers(){let t=new MutationObserver(()=>{let i=this.getAncestorThemeClasses();xV(i,this.themeClasses)||(this.themeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))}),e=this.eGridDiv;for(;e;)t.observe(e||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),e=e.parentElement}getAncestorThemeClasses(){let t=this.eGridDiv,e=[];for(this.eThemeAncestor=null;t;){let i=Array.from(t.classList).filter(n=>n.startsWith("ag-theme-"));for(let n of i)this.eThemeAncestor=t,e.includes(n)||e.unshift(n);t=t.parentElement}return Object.freeze(e)}},xV=(t,e)=>t.length===e.length&&t.findIndex((i,n)=>t[n]!==e[n])===-1,nR=15538,EV=class extends A{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new na}wireBeans(t){this.globalEventListener=t.globalEventListener,this.globalSyncEventListener=t.globalSyncEventListener}postConstruct(){if(this.globalEventListener){let t=this.gos.useAsyncEvents();this.addGlobalListener(this.globalEventListener,t)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(t,e,i){this.globalEventService.addEventListener(t,e,i)}removeEventListener(t,e,i){this.globalEventService.removeEventListener(t,e,i)}addGlobalListener(t,e=!1){this.globalEventService.addGlobalListener(t,e)}removeGlobalListener(t,e=!1){this.globalEventService.removeGlobalListener(t,e)}dispatchLocalEvent(){}dispatchEvent(t){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(t))}dispatchEventOnce(t){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(t))}},DV=(()=>{let t=class Hi extends A{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(i){this.eGridDiv=i.eGridDiv,this.columnModel=i.columnModel,this.visibleColsService=i.visibleColsService,this.headerNavigationService=i.headerNavigationService,this.headerPositionUtils=i.headerPositionUtils,this.rowRenderer=i.rowRenderer,this.rowPositionUtils=i.rowPositionUtils,this.cellPositionUtils=i.cellPositionUtils,this.navigationService=i.navigationService,this.ctrlsService=i.ctrlsService,this.filterManager=i.filterManager,this.rangeService=i.rangeService,this.advancedFilterService=i.advancedFilterService,this.overlayService=i.overlayService}static addKeyboardModeEvents(i){this.instanceCount>0||(i.addEventListener("keydown",Hi.toggleKeyboardMode),i.addEventListener("mousedown",Hi.toggleKeyboardMode))}static removeKeyboardModeEvents(i){this.instanceCount>0||(i.addEventListener("keydown",Hi.toggleKeyboardMode),i.addEventListener("mousedown",Hi.toggleKeyboardMode))}static toggleKeyboardMode(i){let n=Hi.keyboardModeActive,o=i.type==="keydown";o&&(i.ctrlKey||i.metaKey||i.altKey)||n!==o&&(Hi.keyboardModeActive=o)}static unregisterGridCompController(i){Hi.removeKeyboardModeEvents(i)}postConstruct(){let i=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:i,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:i,columnRowGroupChanged:i}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(n=>{this.gridCtrl=n.gridCtrl})}registerKeyboardFocusEvents(){let i=this.gos.getDocument();Hi.addKeyboardModeEvents(i),Hi.instanceCount++,this.addDestroyFunc(()=>{Hi.instanceCount--,Hi.unregisterGridCompController(i)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;let i=this.focusedCellPosition.column,n=this.columnModel.getCol(i.getId());i!==n&&this.clearFocusedCell()}isKeyboardMode(){return Hi.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Fs.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),mh.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(i,n){let o=i;for(;o;){if(this.gos.getDomData(o,n))return!1;o=o.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(i){return this.isCellRestoreFocused(i)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(i,n){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(i),n())})}isCellRestoreFocused(i){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(i,this.restoredFocusedCellPosition)}setRestoreFocusedCell(i){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=i)}getFocusEventParams(i){let{rowIndex:n,rowPinned:o,column:s}=i,r={rowIndex:n,rowPinned:o,column:s,isFullWidthCell:!1},a=this.rowRenderer.getRowByPosition({rowIndex:n,rowPinned:o});return a&&(r.isFullWidthCell=a.isFullWidth()),r}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;let i=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent(D({type:"cellFocusCleared"},i))}setFocusedCell(i){let{column:n,rowIndex:o,rowPinned:s,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:a=!1}=i,l=this.columnModel.getCol(n);if(!l){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:o,rowPinned:io(s),column:l},this.eventService.dispatchEvent(_e(D({type:"cellFocused"},this.getFocusEventParams(this.focusedCellPosition)),{forceBrowserFocus:r,preventScrollOnBrowserFocus:a}))}isCellFocused(i){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(i,this.focusedCellPosition)}isRowNodeFocused(i){return this.isRowFocused(i.rowIndex,i.rowPinned)}isHeaderWrapperFocused(i){if(this.focusedHeaderPosition==null)return!1;let n=i.getColumnGroupChild(),o=i.getRowIndex(),s=i.getPinned(),{column:r,headerRowIndex:a}=this.focusedHeaderPosition;return n===r&&o===a&&s==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(i,n){this.focusedHeaderPosition={headerRowIndex:i,column:n}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(i){if(this.isHeaderFocusSuppressed())return!1;let{direction:n,fromTab:o,allowUserOverride:s,event:r,fromCell:a,rowWithoutSpanValue:l}=i,{headerPosition:c}=i;if(a&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(s){let d=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(o){let p=this.gos.getCallback("tabToNextHeader");p&&(c=this.getHeaderPositionFromUserFunc({userFunc:p,direction:n,currentPosition:d,headerPosition:c,headerRowCount:u}))}else{let p=this.gos.getCallback("navigateToNextHeader");if(p&&r){let m={key:r.key,previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:u,event:r};c=p(m)}}}return c?this.focusProvidedHeaderPosition({headerPosition:c,direction:n,event:r,fromCell:a,rowWithoutSpanValue:l}):!1}focusHeaderPositionFromUserFunc(i){if(this.isHeaderFocusSuppressed())return!1;let{userFunc:n,headerPosition:o,direction:s,event:r}=i,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount(),c=this.getHeaderPositionFromUserFunc({userFunc:n,direction:s,currentPosition:a,headerPosition:o,headerRowCount:l});return!!c&&this.focusProvidedHeaderPosition({headerPosition:c,direction:s,event:r})}getHeaderPositionFromUserFunc(i){let{userFunc:n,direction:o,currentPosition:s,headerPosition:r,headerRowCount:a}=i,c=n({backwards:o==="Before",previousHeaderPosition:s,nextHeaderPosition:r,headerRowCount:a});return c===!0||c===null?(c===null&&L("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):c===!1?null:c}focusProvidedHeaderPosition(i){let{headerPosition:n,direction:o,fromCell:s,rowWithoutSpanValue:r,event:a}=i,{column:l,headerRowIndex:c}=n;if(c===-1)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(n):this.focusGridView(l);this.headerNavigationService.scrollToColumn(l,o);let u=this.ctrlsService.getHeaderRowContainerCtrl(l.getPinned())?.focusHeader(n.headerRowIndex,l,a)||!1;return u&&(r!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(r??-1),u}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let i=this.visibleColsService.getAllCols()[0];if(!i)return!1;i.getParent()&&(i=this.visibleColsService.getColGroupAtLevel(i,0));let n=this.headerPositionUtils.getHeaderIndexToFocus(i,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(i){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;let n=this.headerNavigationService.getHeaderRowCount()-1,o=Ze(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:o},rowWithoutSpanValue:-1,event:i})}focusPreviousFromFirstCell(i){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(i)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(i,n){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===io(n)}findFocusableElements(i,n,o=!1){let s=e1,r=AR;n&&(r+=", "+n),o&&(r+=', [tabindex="-1"]');let a=Array.prototype.slice.apply(i.querySelectorAll(s)).filter(d=>wn(d)),l=Array.prototype.slice.apply(i.querySelectorAll(r));return l.length?((d,u)=>d.filter(p=>u.indexOf(p)===-1))(a,l):a}focusInto(i,n=!1,o=!1){let s=this.findFocusableElements(i,null,o),r=n?Ze(s):s[0];return r?(r.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(i,n){if(!n)return null;let o=this.findFocusableElements(i),s=o.indexOf(n);if(s===-1)return null;let r=-1;for(let a=s-1;a>=0;a--)if(o[a].classList.contains("ag-tab-guard-top")){r=a;break}return r<=0?null:o[r-1]}findNextFocusableElement(i=this.eGridDiv,n,o){let s=this.findFocusableElements(i,n?':not([tabindex="-1"])':null),r=this.gos.getActiveDomElement(),a;n?a=s.findIndex(c=>c.contains(r)):a=s.indexOf(r);let l=a+(o?-1:1);return l<0||l>=s.length?null:s[l]}isTargetUnderManagedComponent(i,n){if(!n)return!1;let o=i.querySelectorAll(`.${Ls.FOCUS_MANAGED_CLASS}`);if(!o.length)return!1;for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0;return!1}findTabbableParent(i,n=5){let o=0;for(;i&&hC(i)===null&&++o<=n;)i=i.parentElement;return hC(i)===null?null:i}focusOverlay(i){let n=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!n&&this.focusInto(n,i)}focusGridViewFailed(i,n){return n&&this.focusOverlay(i)||i&&this.focusLastHeader()}focusGridView(i,n=!1,o=!0){if(this.overlayService.isExclusive())return o&&this.focusOverlay(n);if(this.isCellFocusSuppressed())return n&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():o&&this.focusOverlay(n)?!0:this.focusNextGridCoreContainer(!1);let s=n?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){let{rowIndex:r,rowPinned:a}=s;if(i??(i=this.getFocusedHeader()?.column),i&&r!==void 0&&r!==null)return this.navigationService.ensureCellVisible({rowIndex:r,column:i,rowPinned:a}),this.setFocusedCell({rowIndex:r,column:i,rowPinned:io(a),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:r,rowPinned:a,column:i}),!0}return!!(o&&this.focusOverlay(n)||n&&this.focusLastHeader())}isGridFocused(){let i=this.gos.getActiveDomElement();return!!i&&this.eGridDiv.contains(i)}focusNextGridCoreContainer(i,n=!1){return!n&&this.gridCtrl.focusNextInnerContainer(i)?!0:((n||!i&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(i),!1)}focusAdvancedFilter(i){return this.advancedFilterFocusColumn=i?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(i,n){let o=(n?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return i?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(o)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(i){this.gridCtrl.addFocusableContainer(i)}removeFocusableContainer(i){this.gridCtrl.removeFocusableContainer(i)}focusGridInnerElement(i){return this.gridCtrl.focusInnerElement(i)}allowFocusForNextGridCoreContainer(i){this.gridCtrl.allowFocusForNextCoreContainer(i)}};return t.keyboardModeActive=!1,t.instanceCount=0,t})(),TV=DV,IV=class extends A{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(t){this.visibleColsService=t.visibleColsService}postConstruct(){let t=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t}),this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){let t=this.gos.isDomLayout("print"),e=t?0:this.visibleColsService.getColsLeftWidth(),i=t?0:this.visibleColsService.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},kV=class extends A{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(t){this.beans=t,this.focusService=t.focusService,this.visibleColsService=t.visibleColsService}setComp(t,e,i){this.view=t,this.eGridHostDiv=e,this.eGui=i,this.eGui.setAttribute("grid-id",this.gridId);let{dragAndDropService:n,mouseEventService:o,ctrlsService:s,resizeObserverService:r}=this.beans;n.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:l=>l===1||l===0,getIconName:()=>"notAllowed"}),o.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new qC(this.view)),this.addRtlSupport();let a=r.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>a()),s.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let t=this.beans;return{paginationSelector:t.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:t.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:t.sideBarService?.getSideBarSelector(),statusBarSelector:t.statusBarService?.getStatusPanelSelector(),watermarkSelector:t.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){let t=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){let e=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(e,t);if(n<0||n>=e.length)return!1;if(n===0){if(i>0){let o=this.visibleColsService.getAllCols(),s=Ze(o);if(this.focusService.focusGridView(s,!0))return!0}return!1}return this.focusContainer(e[n],t)}focusInnerElement(t){let e=this.gos.getCallback("focusGridInnerElement");if(e&&e({fromBottom:!!t}))return!0;let i=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(t){if(i.length>1)return this.focusContainer(Ze(i),!0);let o=Ze(n);if(this.focusService.focusGridView(o,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let o=1;o<i.length;o++)if(this.focusService.focusInto(i[o].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=!1){this.view.forceFocusOutOfContainer(t)}addFocusableContainer(t){this.additionalFocusableContainers.add(t)}removeFocusableContainer(t){this.additionalFocusableContainers.delete(t)}allowFocusForNextCoreContainer(t){let e=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:n}=this.getNextFocusableIndex(e,t);if(n===-1||i<0||i>=e.length)return;let o=e[i];o.setAllowFocus?.(!0),setTimeout(()=>{o.setAllowFocus?.(!1)})}getNextFocusableIndex(t,e){let i=this.gos.getActiveDomElement(),n=t.findIndex(s=>s.getGui().contains(i)),o=n+(e?-1:1);return{indexWithFocus:n,nextIndex:o}}focusContainer(t,e){t.setAllowFocus?.(!0);let i=this.focusService.focusInto(t.getGui(),e);return t.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},MV=class extends Fx{constructor(t){super(),this.gridBody=ae,this.sideBar=ae,this.pagination=ae,this.rootWrapperBody=ae,this.eGridDiv=t}postConstruct(){let t={destroyGridUi:()=>this.destroyBean(this),setRtlClass:s=>this.addCssClass(s),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:s=>{this.getGui().style.userSelect=s??"",this.getGui().style.webkitUserSelect=s??""},setCursor:s=>{this.getGui().style.cursor=s??""}},e=this.createManagedBean(new kV),i=e.getOptionalSelectors(),n=this.createTemplate(i),o=[XB,...Object.values(i).filter(s=>!!s)];this.setTemplate(n,o),e.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>e.focusInnerElement(s),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){let t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(t),this.gos.get("debug")&&ln("Grid removed from DOM")})}updateLayoutClasses(t,e){let i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",e.autoHeight),i.toggle("ag-layout-normal",e.normal),i.toggle("ag-layout-print",e.print),this.addOrRemoveCssClass("ag-layout-auto-height",e.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",e.normal),this.addOrRemoveCssClass("ag-layout-print",e.print)}createTemplate(t){let e=t.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=t.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",n=t.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",o=t.watermarkSelector?"<ag-watermark></ag-watermark>":"",s=t.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${n}
                ${s}
                ${o}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(t=!1){if(!t&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(t);return}super.forceFocusOutOfContainer(t)}getFocusableContainers(){let t=[this.gridBody];return[this.sideBar,this.pagination].forEach(e=>{e&&t.push(e)}),t.filter(e=>wn(e.getGui()))}},PV=class extends A{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(t){this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.ctrlsService=t.ctrlsService,this.columnApplyStateService=t.columnApplyStateService}getAlignedGridApis(){let t=this.gos.get("alignedGrids")??[],e=typeof t=="function";typeof t=="function"&&(t=t());let i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return t.map(o=>{if(!o){nt("alignedGrids contains an undefined option."),e||nt(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),nt(i());return}if(this.isGridApi(o))return o;let s=o;return"current"in s?s.current?.api:(s.api||nt(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),s.api)}).filter(o=>!!o&&!o.isDestroyed())}isGridApi(t){return!!t&&!!t.dispatchEvent}postConstruct(){let t=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:t,columnVisible:t,columnPinned:t,columnGroupOpened:t,columnResized:t,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:e})=>this.onColumnEvent(e),alignedGridScroll:({event:e})=>this.onScrollEvent(e)})}fireEvent(t){this.consuming||this.getAlignedGridApis().forEach(e=>{e.isDestroyed()||e.dispatchEvent(t)})}onEvent(t){this.consuming=!0,t(),this.consuming=!1}fireColumnEvent(t){this.fireEvent({type:"alignedGridColumn",event:t})}fireScrollEvent(t){t.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:t})}onScrollEvent(t){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)})}extractDataFromEvent(t,e){let i=[];return t.columns?t.columns.forEach(n=>{i.push(e(n))}):t.column&&i.push(e(t.column)),i}getMasterColumns(t){return this.extractDataFromEvent(t,e=>e)}getColumnIds(t){return this.extractDataFromEvent(t,e=>e.getColId())}onColumnEvent(t){this.onEvent(()=>{switch(t.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(t);break}case"columnGroupOpened":{this.processGroupOpenedEvent(t);break}case"columnPivotChanged":L("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(t){let{columnModel:e}=this;t.columnGroups.forEach(i=>{let n=null;i&&(n=e.getProvidedColGroup(i.getGroupId())),!(i&&!n)&&e.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(t){let e=t.column,i=null;if(e&&(i=this.columnModel.getColDefCol(e.getColId())),e&&!i)return;let n=this.getMasterColumns(t),{columnApplyStateService:o,columnSizeService:s,ctrlsService:r}=this;switch(t.type){case"columnMoved":{let d=t.api.getColumnState().map(u=>({colId:u.colId}));o.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let d=t.api.getColumnState().map(u=>({colId:u.colId,hide:u.hide}));o.applyColumnState({state:d},"alignedGridChanged")}break;case"columnPinned":{let d=t.api.getColumnState().map(u=>({colId:u.colId,pinned:u.pinned}));o.applyColumnState({state:d},"alignedGridChanged")}break;case"columnResized":{let c=t,d={};n.forEach(u=>{d[u.getId()]={key:u.getColId(),newWidth:u.getActualWidth()}}),c.flexColumns?.forEach(u=>{d[u.getId()]&&delete d[u.getId()]}),s.setColumnWidths(Object.values(d),!1,c.finished,"alignedGridChanged");break}}let l=r.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(c=>{c.setGridOption("alwaysShowVerticalScroll",l)})}},AV={version:Oe,moduleName:"@ag-grid-community/aligned-grid",beans:[PV]};function FV(t,e){let i=t.columnModel.getColDefCol(e);return i?i.getColDef():null}function OV(t){return t.columnModel.getColumnDefs()}function NV(t,e){typeof e=="number"?t.columnSizeService.sizeColumnsToFit(e,"api"):t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(e)}function LV(t,e,i){t.columnModel.setColumnGroupOpened(e,i,"api")}function BV(t,e,i){return t.visibleColsService.getColumnGroup(e,i)}function VV(t,e){return t.columnModel.getProvidedColGroup(e)}function GV(t,e,i){return t.columnNameService.getDisplayNameForColumn(e,i)||""}function WV(t,e,i){return t.columnNameService.getDisplayNameForColumnGroup(e,i)||""}function HV(t,e){return t.columnModel.getColDefCol(e)}function UV(t){return t.columnModel.getColDefCols()}function zV(t,e){return t.columnApplyStateService.applyColumnState(e,"api")}function jV(t){return t.columnGetStateService.getColumnState()}function $V(t){t.columnApplyStateService.resetColumnState("api")}function KV(t){return t.columnGroupStateService.getColumnGroupState()}function qV(t,e){t.columnGroupStateService.setColumnGroupState(e,"api")}function XV(t){t.columnGroupStateService.resetColumnGroupState("api")}function YV(t){return t.visibleColsService.isPinningLeft()||t.visibleColsService.isPinningRight()}function QV(t){return t.visibleColsService.isPinningLeft()}function ZV(t){return t.visibleColsService.isPinningRight()}function JV(t,e){return t.visibleColsService.getColAfter(e)}function eG(t,e){return t.visibleColsService.getColBefore(e)}function tG(t,e,i){t.columnModel.setColsVisible([e],i,"api")}function iG(t,e,i){t.columnModel.setColsVisible(e,i,"api")}function nG(t,e,i){t.columnModel.setColsPinned([e],i,"api")}function oG(t,e,i){t.columnModel.setColsPinned(e,i,"api")}function sG(t){return t.columnModel.getCols()}function rG(t){return t.visibleColsService.getLeftCols()}function aG(t){return t.visibleColsService.getCenterCols()}function lG(t){return t.visibleColsService.getRightCols()}function cG(t){return t.visibleColsService.getAllCols()}function dG(t){return t.columnViewportService.getViewportColumns()}function uG(t,e,i){t.columnMoveService.moveColumns([e],i,"api")}function hG(t,e,i){t.columnMoveService.moveColumnByIndex(e,i,"api")}function pG(t,e,i){t.columnMoveService.moveColumns(e,i,"api")}function fG(t,e,i,n=!0,o="api"){t.columnSizeService.setColumnWidths([{key:e,newWidth:i}],!1,n,o)}function mG(t,e,i=!0,n="api"){t.columnSizeService.setColumnWidths(e,!1,i,n)}function gG(t){return t.visibleColsService.getTreeLeft()}function vG(t){return t.visibleColsService.getTreeCenter()}function CG(t){return t.visibleColsService.getTreeRight()}function bG(t){return t.visibleColsService.getAllTrees()}function yG(t,e,i){return t.columnAutosizeService.autoSizeCols({colKeys:[e],skipHeader:i,source:"api"})}function wG(t,e,i){t.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:i,source:"api"})}function _G(t,e){t.columnAutosizeService.autoSizeAllColumns("api",e)}var oR={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},sR=["january","february","march","april","may","june","july","august","september","october","november","december"],SG=class extends A{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(t){this.rowModel=t.rowModel,this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.valueService=t.valueService,this.columnApplyStateService=t.columnApplyStateService}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",t=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Xr(t.source))})}processDataTypeDefinitions(){let t=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};let e=n=>o=>{let{column:s,node:r,value:a}=o,l=s.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(s,r,a,l)};Object.entries(t).forEach(([n,o])=>{let s=_e(D({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)});this.dataTypeDefinitions[n]=s,this.formatValueFuncs[n]=e(s)});let i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,o])=>{let s=this.processDataTypeDefinition(o,i,[n],t);s&&(this.dataTypeDefinitions[n]=s,o.dataTypeMatcher&&(this.dataTypeMatchers[n]=o.dataTypeMatcher),this.formatValueFuncs[n]=e(s))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(n=>{let o=this.dataTypeMatchers[n];o&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=o??t[n].dataTypeMatcher})}mergeDataTypeDefinitions(t,e){let i=D(D({},t),e);return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(i.columnTypes=[...nh(t.columnTypes),...nh(e.columnTypes)]),i}processDataTypeDefinition(t,e,i,n){let o,s=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){let r=n[s],a=e[s];if(r&&a&&(r=a),!this.validateDataTypeDefinition(t,r,s))return;o=this.mergeDataTypeDefinitions(r,t)}else{if(i.includes(s)){L('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}let r=e[s];if(!this.validateDataTypeDefinition(t,r,s))return;let a=this.processDataTypeDefinition(r,e,[...i,s],n);if(!a)return;o=this.mergeDataTypeDefinitions(a,t)}return _e(D({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})}validateDataTypeDefinition(t,e,i){return e?e.baseDataType!==t.baseDataType?(L('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(L(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(t){if(t.valueFormatter)return e=>{if(e.node?.group){let i=e.column.getAggFunc();if(i){if(i==="first"||i==="last")return t.valueFormatter(e);if(t.baseDataType==="number"&&i!=="count"){if(typeof e.value=="number")return t.valueFormatter(e);if(typeof e.value=="object"){if(!e.value)return;if("toNumber"in e.value)return t.valueFormatter(_e(D({},e),{value:e.value.toNumber()}));if("value"in e.value)return t.valueFormatter(_e(D({},e),{value:e.value.value}))}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&e.column.isRowGroupActive()){if(typeof e.value!="string"||t.dataTypeMatcher?.(e.value))return t.valueFormatter(e);if(!this.gos.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(e)}}updateColDefAndGetColumnType(t,e,i){let{cellDataType:n}=e,{field:o}=e;if(n===void 0&&(n=t.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(t,e)?this.inferCellDataType(o,i):!1),!n){t.cellDataType=!1;return}let s=this.dataTypeDefinitions[n];if(!s){L(`Missing data type definition - "${n}"`);return}return t.cellDataType=n,s.groupSafeValueFormatter&&(t.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(t.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,n,s,i),s.columnTypes}addColumnListeners(t){if(!this.isWaitingForRowData)return;let e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e)return;let i=n=>{e.add(n.key)};t.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>t.removeEventListener("columnStateUpdated",i))}canInferCellDataType(t,e){if(this.rowModel.getType()!=="clientSide")return!1;let i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,i))return!1;let n=e.type===null?t.type:e.type;if(n){let o=this.gos.get("columnTypes")??{};if(nh(n).some(r=>{let a=o[r.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(t,i)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(t,e,i,n))}doesColDefPropPreventInference(t,e,i,n){if(!e[i])return!1;let o=t[i];return o===null?(e[i]=!1,!1):n===void 0?!!o:o===n}inferCellDataType(t,e){if(!t)return;let i,n=this.getInitialData();if(n){let s=t.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=ic(n,t,s)}else this.initWaitForRowData(e);if(i==null)return;let[o]=Object.entries(this.dataTypeMatchers).find(([s,r])=>r(i))??["object"];return o}getInitialData(){let t=this.gos.get("rowData");if(t?.length)return t[0];if(this.initialData)return this.initialData;{let e=this.rowModel.getRootNode().allLeafChildren;if(e?.length)return e[0].data}return null}initWaitForRowData(t){if(this.columnStateUpdatesPendingInference[t]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;let e=this.isColumnTypeOverrideInDataTypeDefinitions;e&&this.columnModel.queueResizeOperations();let[i]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{let{firstRowData:o}=n;o&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(o,e),this.columnStateUpdatesPendingInference={},e&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(t,e){this.initialData=t;let i=[];this.destroyColumnStateUpdateListeners();let n={},o={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,r])=>{let a=this.columnModel.getCol(s);if(!a)return;let l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(e&&c.type&&c.type!==l.type){let d=this.getUpdatedColumnState(a,r);d.rowGroup&&d.rowGroupIndex==null&&(n[s]=d),d.pivot&&d.pivotIndex==null&&(o[s]=d),i.push(d)}}),e&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,o)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(t,e){let i=this.columnApplyStateService.getColumnStateFromColDef(t);return e.forEach(n=>{delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(t){let e=this.dataTypeDefinitions.object,i=t.object;this.hasObjectValueParser=e.valueParser!==i.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(t){return t?this.getDataTypeDefinition(t)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(t){return this.getDateStringTypeDefinition(t).dateParser}getDateFormatterFunction(t){return this.getDateStringTypeDefinition(t).dateFormatter}getDataTypeDefinition(t){let e=t.getColDef();if(e.cellDataType)return this.dataTypeDefinitions[e.cellDataType]}getBaseDataType(t){return this.getDataTypeDefinition(t)?.baseDataType}checkType(t,e){if(e==null)return!0;let i=this.getDataTypeDefinition(t)?.dataTypeMatcher;return i?i(e):!0}validateColDef(t){let e=i=>L(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&e("Formatter"),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&e("Parser"))}getFormatValue(t){return this.formatValueFuncs[t]}setColDefPropertiesForBaseDataType(t,e,i,n){let o=this.formatValueFuncs[e],s=hi.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId),r=this.localeService.getLocaleTextFunc(),a=l=>{let{filterParams:c}=t;t.filterParams=typeof c=="object"?D(D({},c),l):l};switch(i.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",s&&a({comparator:(l,c)=>{let d=l==null?0:parseInt(l),u=c==null?0:parseInt(c);return d===u?0:d>u?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===N.SPACE,a(s?{valueFormatter:l=>W(l.value)?r(String(l.value),l.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,c)=>c,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,c)=>c===!1,numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=o,s&&a({valueFormatter:l=>{let c=o(l);return W(c)?c:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,c)=>{if(c===1&&l!=null){let d=sR[Number(l)-1];return r(d,oR[d])}return l??r("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=o;let l=i.dateParser;a(s?{valueFormatter:c=>{let d=o(c);return W(d)?d:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:c=>{let d=l(c??void 0);return d?[String(d.getFullYear()),String(d.getMonth()+1),String(d.getDate())]:null},treeListFormatter:(c,d)=>{if(d===1&&c!=null){let u=sR[Number(c)-1];return r(u,oR[u])}return c??r("blanks","(Blanks)")}}:{comparator:(c,d)=>{let u=l(d);return d==null||u<c?-1:u>c?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=(l,c)=>{let d=this.columnModel.getColDefCol(n),u=d?.getColDef();if(!d||!u)return 0;let p=l==null?"":o({column:d,node:null,value:l}),m=c==null?"":o({column:d,node:null,value:c});return p===m?0:p>m?1:-1},t.keyCreator=o,s?a({valueFormatter:l=>{let c=o(l);return W(c)?c:r("blanks","(Blanks)")}}):t.filterValueGetter=l=>o({column:l.column,node:l.node,value:this.valueService.getValue(l.column,l.node)});break}}}getDefaultDataTypes(){let t=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>i.newValue?.trim?.()===""?null:Number(i.newValue),valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?e("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:oC(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>i.newValue==null?i.newValue:i.newValue?.trim?.()===""?null:String(i.newValue).toLowerCase()==="true",valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>xi(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?e("invalidDate","Invalid Date"):hn(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>xi(i)??void 0,dateFormatter:i=>hn(i??null,!1)??void 0,valueParser:i=>t(String(i.newValue))?i.newValue:null,valueFormatter:i=>t(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&t(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>oC(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(t=>t()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},RG={version:Oe,moduleName:"@ag-grid-community/data-type",beans:[SG]},xG={version:Oe,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:FV,getColumnDefs:OV,sizeColumnsToFit:NV,setColumnGroupOpened:LV,getColumnGroup:BV,getProvidedColumnGroup:VV,getDisplayNameForColumn:GV,getDisplayNameForColumnGroup:WV,getColumn:HV,getColumns:UV,applyColumnState:zV,getColumnState:jV,resetColumnState:$V,getColumnGroupState:KV,setColumnGroupState:qV,resetColumnGroupState:XV,isPinning:YV,isPinningLeft:QV,isPinningRight:ZV,getDisplayedColAfter:JV,getDisplayedColBefore:eG,setColumnVisible:tG,setColumnsVisible:iG,setColumnPinned:nG,setColumnsPinned:oG,getAllGridColumns:sG,getDisplayedLeftColumns:rG,getDisplayedCenterColumns:aG,getDisplayedRightColumns:lG,getAllDisplayedColumns:cG,getAllDisplayedVirtualColumns:dG,moveColumn:uG,moveColumnByIndex:hG,moveColumns:pG,setColumnWidth:fG,setColumnWidths:mG,getLeftDisplayedColumnGroups:gG,getCenterDisplayedColumnGroups:vG,getRightDisplayedColumnGroups:CG,getAllDisplayedColumnGroups:bG,autoSizeColumn:yG,autoSizeColumns:wG,autoSizeAllColumns:_G}};function EG(t,e){t.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(e)}function DG(t,e){let i=t.dragAndDropService.findExternalZone(e);i&&t.dragAndDropService.removeDropTarget(i)}function TG(t,e){return t.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(e)}var IG={version:Oe,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:EG,removeRowDropZone:DG,getRowDropZoneParams:TG}};function kG(t){return t.pinnedRowModel.getPinnedTopRowCount()}function MG(t){return t.pinnedRowModel.getPinnedBottomRowCount()}function PG(t,e){return t.pinnedRowModel.getPinnedTopRow(e)}function AG(t,e){return t.pinnedRowModel.getPinnedBottomRow(e)}var FG={version:Oe,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:kG,getPinnedBottomRowCount:MG,getPinnedTopRow:PG,getPinnedBottomRow:AG}};function OG(t){t.overlayService.showLoadingOverlay()}function NG(t){t.overlayService.showNoRowsOverlay()}function LG(t){t.overlayService.hideOverlay()}var BG={version:Oe,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:OG,showNoRowsOverlay:NG,hideOverlay:LG}};function VG(t,e,i){if(!e)return;let n=t.ctrlsService.getGridBodyCtrl().getGui(),o=`aria-${e}`;i===null?n.removeAttribute(o):n.setAttribute(o,i)}function GG(t,e={}){t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.refreshCells(e))}function WG(t,e={}){let i=n=>L(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);W(e.fadeDelay)&&i("fade"),W(e.flashDelay)&&i("flash"),t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.flashCells(e))}function HG(t){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}function UG(t){return t.animationFrameService.isQueueEmpty()}function zG(t){t.animationFrameService.flushAllFrames()}function jG(t){return{rowHeight:t.gos.getRowHeightAsNumber(),headerHeight:t.columnModel.getHeaderHeight()}}function $G(t,e={}){return t.rowRenderer.getCellRendererInstances(e).map(oc)}var KG={version:Oe,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:VG,refreshCells:GG,flashCells:WG,refreshHeader:HG,isAnimationFrameQueueEmpty:UG,flushAllAnimationFrames:zG,getSizesForCurrentTheme:jG,getCellRendererInstances:$G}};function qG(t){t.valueCache.expire()}function XG(t,e,i){return Nx(t,{colKey:e,rowNode:i})}function Nx(t,e){let{colKey:i,rowNode:n,useFormatter:o}=e,s=t.columnModel.getColDefCol(i)??t.columnModel.getCol(i);if(Xe(s))return null;let r=t.valueService.getValue(s,n);return o?t.valueService.formatValue(s,n,r)??Fn(r,!0):r}function YG(t){return t.context.getGridId()}function QG(t){t.gridDestroyService.destroy()}function ZG(t){return t.gridDestroyService.isDestroyCalled()}function JG(t,e){return t.gos.get(e)}function eW(t,e,i){Lx(t,{[e]:i})}function Lx(t,e){t.gos.updateGridOptions({options:e})}function tW(t,e,i){t.apiEventService.addEventListener(e,i)}function iW(t,e,i){t.apiEventService.removeEventListener(e,i)}function nW(t,e){t.apiEventService.addGlobalListener(e)}function oW(t,e){t.apiEventService.removeGlobalListener(e)}function sW(t){return t.focusService.getFocusedCell()}function rW(t){return t.focusService.clearFocusedCell()}function aW(t,e,i,n){t.focusService.setFocusedCell({rowIndex:e,column:i,rowPinned:n,forceBrowserFocus:!0})}function lW(t,e){return t.navigationService.tabToNextCell(!1,e)}function cW(t,e){return t.navigationService.tabToNextCell(!0,e)}function dW(t,e,i=!1){let n=t.headerNavigationService.getHeaderPositionForColumn(e,i);n&&t.focusService.focusHeaderPosition({headerPosition:n})}function uW(t,e,i){let n=t.columnModel.getCol(e);t.menuService.showColumnMenu({column:n,buttonElement:i,positionBy:"button"})}function hW(t,e,i){let n=t.columnModel.getCol(e);if(n||(n=t.columnModel.getColDefCol(e)),!n){nt(`column '${e}' not found`);return}t.menuService.showColumnMenu({column:n,mouseEvent:i,positionBy:"mouse"})}function pW(t,e){let i=t.columnModel.getCol(e);if(!i){nt(`column '${e}' not found`);return}t.menuService.showColumnMenu({column:i,positionBy:"auto"})}function fW(t){t.menuService.hidePopupMenu()}function mW(t,e={}){let i=e?e.rowNodes:void 0;t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.redrawRows(i))}function gW(t,e,i,n,o){t.expansionService.setRowNodeExpanded(e,i,n,o)}function vW(t,e){return t.rowModel.getRowNode(e)}function CW(t,e,i,n){t.rowRenderer.addRenderedRowListener(e,i,n)}function bW(t){return t.rowRenderer.getRenderedNodes()}function yW(t,e,i){t.rowModel.forEachNode(e,i)}function wW(t){return Bx(t)}function Bx(t){return t.rowRenderer.getFirstVirtualRenderedRow()}function _W(t){return Vx(t)}function Vx(t){return t.rowRenderer.getLastVirtualRenderedRow()}function SW(t,e){return t.rowModel.getRow(e)}function RW(t){return t.rowModel.getRowCount()}function xW(t){return t.rowModel}function EW(t,e){if(!e.nodes.every(a=>a.rowPinned?(L("cannot select pinned rows"),!1):a.id===void 0?(L("cannot select node until id for node is known"),!1):!0))return;let{nodes:n,source:o,newValue:s}=e,r=n;t.selectionService.setNodesSelected({nodes:r,source:o??"api",newValue:s})}function DW(t,e="apiSelectAll"){t.selectionService.selectAllRowNodes({source:e})}function TW(t,e="apiSelectAll"){t.selectionService.deselectAllRowNodes({source:e})}function IW(t,e="apiSelectAllFiltered"){t.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}function kW(t,e="apiSelectAllFiltered"){t.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}function MW(t,e="apiSelectAllCurrentPage"){t.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}function PW(t,e="apiSelectAllCurrentPage"){t.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}function AW(t){return t.selectionService.getSelectedNodes()}function FW(t){return t.selectionService.getSelectedRows()}function OW(t){t.sortController.onSortChanged("api")}var NW={version:Oe,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:YG,destroy:QG,isDestroyed:ZG,getGridOption:JG,setGridOption:eW,updateGridOptions:Lx}},LW={version:Oe,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:EW,selectAll:DW,deselectAll:TW,selectAllFiltered:IW,deselectAllFiltered:kW,selectAllOnCurrentPage:MW,deselectAllOnCurrentPage:PW,getSelectedNodes:AW,getSelectedRows:FW}},BW={version:Oe,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:mW,setRowNodeExpanded:gW,getRowNode:vW,addRenderedRowListener:CW,getRenderedNodes:bW,forEachNode:yW,getFirstDisplayedRow:wW,getFirstDisplayedRowIndex:Bx,getLastDisplayedRow:_W,getLastDisplayedRowIndex:Vx,getDisplayedRowAtIndex:SW,getDisplayedRowCount:RW,getModel:xW}},VW={version:Oe,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:_2,getHorizontalPixelRange:S2,ensureColumnVisible:Mx,ensureIndexVisible:Px,ensureNodeVisible:R2}},GW={version:Oe,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:sW,clearFocusedCell:rW,setFocusedCell:aW,setFocusedHeader:dW,tabToNextCell:lW,tabToPreviousCell:cW}},WW={version:Oe,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:tW,addGlobalListener:nW,removeEventListener:iW,removeGlobalListener:oW}},HW={version:Oe,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:qG,getValue:XG,getCellValue:Nx}},UW={version:Oe,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:uW,showColumnMenuAfterMouseClick:hW,showColumnMenu:pW,hidePopupMenu:fW}},zW={version:Oe,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:OW}},jW={version:Oe,moduleName:"@ag-grid-community/api",dependantModules:[NW,FG,LW,xG,BW,IG,VW,BG,GW,WW,KG,HW,UW,zW]};function $W(t){return t.stateService?.getState()??{}}var KW=class extends A{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=fi(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=fi(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=fi(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(t){this.filterManager=t.filterManager,this.ctrlsService=t.ctrlsService,this.pivotResultColsService=t.pivotResultColsService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnGroupStateService=t.columnGroupStateService,this.columnGetStateService=t.columnGetStateService,this.paginationService=t.paginationService,this.rowModel=t.rowModel,this.selectionService=t.selectionService,this.expansionService=t.expansionService,this.columnAnimationService=t.columnAnimationService,this.columnApplyStateService=t.columnApplyStateService,this.sideBarService=t.sideBarService,this.rangeService=t.rangeService}postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=this.gos.get("initialState")??{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));let[t,e,i]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{e?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());let t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}setupStateOnColumnsInitialised(){let t=this.gos.get("initialState")??{};this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());let e=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:e("aggregation"),columnMoved:e("columnOrder"),columnPinned:e("columnPinning"),columnResized:e("columnSizing"),columnVisible:e("columnVisibility"),columnPivotChanged:e("pivot"),columnPivotModeChanged:e("pivot"),columnRowGroupChanged:e("rowGroup"),sortChanged:e("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){let{filter:t,rowGroupExpansion:e,rowSelection:i,pagination:n}=this.gos.get("initialState")??{},o=this.gos.get("advancedFilterModel");(t||o)&&this.setFilterState(t,o),e&&this.setRowGroupExpansionState(e),i&&this.setRowSelectionState(i),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());let s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:r=>{(r.newPage||r.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){let{scroll:t,rangeSelection:e,focusedCell:i,columnOrder:n}=this.gos.get("initialState")??{};i&&this.setFocusedCellState(i),e&&this.setRangeSelectionState(e),t&&this.setScrollState(t),this.setColumnPivotState(!!n?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),rangeSelectionChanged:o=>{o.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){let t=this.columnModel.isPivotMode(),e=[],i=[],n=[],o=[],s=[],r=[],a=[],l=[],c=[],d=0,u=this.columnGetStateService.getColumnState();for(let p=0;p<u.length;p++){let{colId:m,sort:y,sortIndex:R,rowGroup:S,rowGroupIndex:k,aggFunc:P,pivot:B,pivotIndex:U,pinned:te,hide:Q,width:ce,flex:Fe}=u[p];c.push(m),y&&(e[R??d++]={colId:m,sort:y}),S&&(i[k??0]=m),typeof P=="string"&&n.push({colId:m,aggFunc:P}),B&&(o[U??0]=m),te&&(te==="right"?r:s).push(m),Q&&a.push(m),(Fe||ce)&&l.push({colId:m,flex:Fe??void 0,width:ce})}return{sort:e.length?{sortModel:e}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:s.length||r.length?{leftColIds:s,rightColIds:r}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(t){let{sort:e,rowGroup:i,aggregation:n,pivot:o,columnPinning:s,columnVisibility:r,columnSizing:a,columnOrder:l}=t,c={},d=y=>{let R=c[y];return R||(R={colId:y},c[y]=R,R)};e&&e.sortModel.forEach(({colId:y,sort:R},S)=>{let k=d(y);k.sort=R,k.sortIndex=S}),i&&i.groupColIds.forEach((y,R)=>{let S=d(y);S.rowGroup=!0,S.rowGroupIndex=R}),n&&n.aggregationModel.forEach(({colId:y,aggFunc:R})=>{d(y).aggFunc=R}),o&&(o.pivotColIds.forEach((y,R)=>{let S=d(y);S.pivot=!0,S.pivotIndex=R}),this.gos.updateGridOptions({options:{pivotMode:o.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(y=>{d(y).pinned="left"}),s.rightColIds.forEach(y=>{d(y).pinned="right"})),r&&r.hiddenColIds.forEach(y=>{d(y).hide=!0}),a&&a.columnSizingModel.forEach(({colId:y,flex:R,width:S})=>{let k=d(y);k.flex=R??null,k.width=S});let u=l?.orderedColIds,p=!!u?.length,m=p?u.map(y=>d(y)):Object.values(c);if(m.length){this.columnStates=m;let y={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnApplyStateService.applyColumnState({state:m,applyOrder:p,defaultState:y},"gridInitializing")}}setColumnPivotState(t){let e=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(e){let n=[];for(let o of e)this.pivotResultColsService.getPivotResultCol(o.colId)&&n.push(o);this.columnApplyStateService.applyColumnState({state:n,applyOrder:t},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){let t=this.columnGroupStateService.getColumnGroupState(),e=[];return t.forEach(({groupId:i,open:n})=>{n&&e.push(i)}),e.length?{openColumnGroupIds:e}:void 0}setColumnGroupState(t){if(!Object.prototype.hasOwnProperty.call(t,"columnGroup"))return;let e=new Set(t.columnGroup?.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:o})=>{let s=e.has(o);return s&&e.delete(o),{groupId:o,open:s}});e.forEach(o=>{n.push({groupId:o,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){let t=this.filterManager?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);let e=this.filterManager?.getAdvancedFilterModel()??void 0;return t||e?{filterModel:t,advancedFilterModel:e}:void 0}setFilterState(t,e){let{filterModel:i,advancedFilterModel:n}=t??{advancedFilterModel:e};i&&this.filterManager?.setFilterModel(i,"columnFilter"),n&&this.filterManager?.setAdvancedFilterModel(n)}getRangeSelectionState(){let t=this.rangeService?.getCellRanges().map(e=>{let{id:i,type:n,startRow:o,endRow:s,columns:r,startColumn:a}=e;return{id:i,type:n,startRow:o,endRow:s,colIds:r.map(l=>l.getColId()),startColId:a.getColId()}});return t?.length?{cellRanges:t}:void 0}setRangeSelectionState(t){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;let e=[];t.cellRanges.forEach(i=>{let n=[];if(i.colIds.forEach(s=>{let r=this.columnModel.getCol(s);r&&n.push(r)}),!n.length)return;let o=this.columnModel.getCol(i.startColId);if(!o){let s=this.visibleColsService.getAllCols(),r=new Set(n);o=s.find(a=>r.has(a))}e.push(_e(D({},i),{columns:n,startColumn:o}))}),this.rangeService.setCellRanges(e)}getScrollState(){if(!this.isClientSideRowModel)return;let t=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:e}=t?.getHScrollPosition()??{left:0},{top:i}=t?.getVScrollPosition()??{top:0};return i||e?{top:i,left:e}:void 0}setScrollState(t){if(!this.isClientSideRowModel)return;let{top:e,left:i}=t;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(e,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let t=this.focusService.getFocusedCell();if(t){let{column:e,rowIndex:i,rowPinned:n}=t;return{colId:e.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(t){if(!this.isClientSideRowModel)return;let{colId:e,rowIndex:i,rowPinned:n}=t;this.focusService.setFocusedCell({column:this.columnModel.getCol(e),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;let t=this.paginationService.getCurrentPage(),e=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!t&&!e))return{page:t,pageSize:e}}setPaginationState(t){this.paginationService&&(t.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationService.setPage(t.page))}getRowSelectionState(){let t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(t){this.selectionService.setSelectionState(t,"gridInitializing")}getRowGroupExpansionState(){let t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0}setRowGroupExpansionState(t){this.expansionService.expandRows(t.expandedRowGroupIds)}updateColumnState(t){let e=this.getColumnState(),i=!1;Object.entries(e).forEach(([n,o])=>{ac(o,this.cachedState[n])||(i=!0)}),this.cachedState=D(D({},this.cachedState),e),i&&this.dispatchStateUpdateEvent(t)}updateCachedState(t,e){let i=this.cachedState[t];this.setCachedStateValue(t,e),ac(e,i)||this.dispatchStateUpdateEvent([t])}setCachedStateValue(t,e){this.cachedState=_e(D({},this.cachedState),{[t]:e})}refreshStaleState(){this.staleStateKeys.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(t){this.suppressEvents||(t.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(t){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},Gx={version:Oe,moduleName:"@ag-grid-community/state-core",beans:[KW]},qW={version:Oe,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:$W},dependantModules:[Gx]},XW={version:Oe,moduleName:"@ag-grid-community/state",dependantModules:[Gx,qW]};function YW(t){return t.rowModel.isLastRowIndexKnown()}function QW(t){return t.paginationService?.getPageSize()??100}function ZW(t){return t.paginationService?.getCurrentPage()??0}function JW(t){return t.paginationService?.getTotalPages()??1}function eH(t){return t.paginationService?t.paginationService.getMasterRowCount():t.rowModel.getRowCount()}function tH(t){t.paginationService?.goToNextPage()}function iH(t){t.paginationService?.goToPreviousPage()}function nH(t){t.paginationService?.goToFirstPage()}function oH(t){t.paginationService?.goToLastPage()}function sH(t,e){t.paginationService?.goToPage(e)}var rH=class extends A{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(t){this.ctrlsService=t.ctrlsService,this.paginationService=t.paginationService}postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowsCtrl=t.center;let e=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:e,scrollVisibilityChanged:e}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let t=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(t>0){let e=()=>{let i=Math.max(this.gos.getRowHeightAsNumber(),1),n=Math.floor(t/i);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?fi(()=>e(),50)():(e(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function aH(t,e,i){t.addManagedElementListeners(e,{keydown:n=>{if(!n.defaultPrevented&&n.key===N.TAB){let o=n.shiftKey;i.findNextFocusableElement(e,!1,o)||i.focusNextGridCoreContainer(o)&&n.preventDefault()}}})}var lH=class extends ot{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let t=this.selectPageSizeComp.getValue();if(!t)return;let e=Number(t);isNaN(e)||e<1||e===this.paginationService.getPageSize()||(this.paginationService.setPageSize(e,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(t){this.paginationService=t.paginationService}postConstruct(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:t=>this.handlePaginationChanged(t)})}handlePaginationChanged(t){if(!this.selectPageSizeComp||!t?.newPageSize)return;let e=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(e)?this.selectPageSizeComp.setValue(e.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){ri(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){let t=this.getPageSizeSelectorValues(),e=this.paginationService.getPageSize(),i=!e||!t.includes(e);i&&(t.unshift(""),L(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));let n=this.localeService.getLocaleTextFunc(),o=n("pageSizeSelectorLabel","Page Size:"),s=t.map(a=>({value:String(a),text:String(a)})),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new LC).addOptions(s).setValue(String(i?"":e)).setAriaLabel(r).setLabel(o).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=i}getPageSizeSelectorValues(){let t=[20,50,100],e=this.gos.get("paginationPageSizeSelector");return!Array.isArray(e)||!this.validateValues(e)?t:[...e].sort((i,n)=>i-n)}validateValues(t){if(!t.length)return L(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let e=0;e<t.length;e++){let i=t[e],n=typeof i=="number",o=i>0;if(!n)return L(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!o)return L(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},cH={selector:"AG-PAGE-SIZE-SELECTOR",component:lH},dH=class extends Fx{constructor(){super(),this.btFirst=ae,this.btPrevious=ae,this.btNext=ae,this.btLast=ae,this.lbRecordCount=ae,this.lbFirstRowOnPage=ae,this.lbLastRowOnPage=ae,this.lbCurrent=ae,this.lbTotal=ae,this.pageSizeComp=ae,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(t){this.rowModel=t.rowModel,this.paginationService=t.paginationService,this.focusService=t.focusService,this.ariaAnnouncementService=t.ariaAnnouncementService}postConstruct(){let t=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[cH]);let{btFirst:e,btPrevious:i,btNext:n,btLast:o}=this;this.activateTabIndex([e,i,n,o]),e.insertAdjacentElement("afterbegin",zi(t?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",zi(t?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",zi(t?"previous":"next",this.gos)),o.insertAdjacentElement("afterbegin",zi(t?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(t){this.allowFocusInnerElement=t}onPaginationChanged(){let e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(t=>{let{el:e,fn:i}=t;this.addManagedListeners(e,{click:i,keydown:n=>{(n.key===N.ENTER||n.key===N.SPACE)&&(n.preventDefault(),i())}})}),aH(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(t){let e=this.gos.getCallback("paginationNumberFormatter");if(e)return e({value:t});let i=this.localeService.getLocaleTextFunc(),n=i("thousandSeparator",","),o=i("decimalSeparator",".");return kN(t,n,o)}getTemplate(){let t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),i=t("to","to"),n=t("of","of"),o=t("firstPage","First Page"),s=t("previousPage","Previous Page"),r=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${e}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){let t=this.paginationService.getCurrentPage(),e=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let n=this.isZeroPagesToDisplay(),o=t===i-1;this.nextButtonDisabled=o||n,this.lastButtonDisabled=!e||n||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){GO(t,e),t.classList.toggle("ag-disabled",e)}isZeroPagesToDisplay(){let t=this.rowModel.isLastRowIndexKnown(),e=this.paginationService.getTotalPages();return t&&e===0}updateLabels(){let t=this.rowModel.isLastRowIndexKnown(),e=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),n=t?i:null;if(n===1){let P=this.rowModel.getRow(0);if(P&&P.group&&!(P.groupData||P.aggData)){this.setTotalLabelsToZero();return}}let o=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize(),r,a;this.isZeroPagesToDisplay()?r=a=0:(r=s*o+1,a=r+s-1,t&&a>n&&(a=n));let l=r+s-1,c=!t&&i<l,d=this.formatNumber(r);this.lbFirstRowOnPage.textContent=d;let u,p=this.localeService.getLocaleTextFunc();c?u=p("pageLastRowUnknown","?"):u=this.formatNumber(a),this.lbLastRowOnPage.textContent=u;let y=e>0?o+1:0,R=this.formatNumber(y);this.lbCurrent.textContent=R;let S,k;if(t)S=this.formatNumber(e),k=this.formatNumber(n);else{let P=p("more","more");S=P,k=P}this.lbTotal.textContent=S,this.lbRecordCount.textContent=k,this.announceAriaStatus(d,u,k,R,S)}announceAriaStatus(t,e,i,n,o){let s=this.localeService.getLocaleTextFunc(),r=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${t} ${a} ${e} ${l} ${i}`,d=`${r} ${n} ${l} ${o}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){let t=this.formatNumber(0);this.lbFirstRowOnPage.textContent=t,this.lbCurrent.textContent=t,this.lbLastRowOnPage.textContent=t,this.lbTotal.textContent=t,this.lbRecordCount.textContent=t,this.announceAriaStatus(t,t,t,t,t)}},uH={selector:"AG-PAGINATION",component:dH},hH=class extends A{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(t){this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return uH}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(t){!this.active||this.currentPage===t||typeof this.currentPage!="number"||(this.currentPage=t,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(t){return t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active)return;let e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){return this.active?this.getPageForIndex(t.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(t){this.currentPage=t}get pageSize(){return W(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:W(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:W(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:W(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(t,e){let i=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}let t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let e=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{let n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}let t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(t){let{keepRenderedRows:e=!1,newPage:i=!1,newPageSize:n=!1}=t;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:e})}},Wx={version:Oe,moduleName:"@ag-grid-community/pagination-core",beans:[hH,rH]},pH={version:Oe,moduleName:"@ag-grid-community/pagination-api",dependantModules:[Wx],apiFunctions:{paginationIsLastPageFound:YW,paginationGetPageSize:QW,paginationGetCurrentPage:ZW,paginationGetTotalPages:JW,paginationGetRowCount:eH,paginationGoToNextPage:tH,paginationGoToPreviousPage:iH,paginationGoToFirstPage:nH,paginationGoToLastPage:oH,paginationGoToPage:sH}},fH={version:Oe,moduleName:"@ag-grid-community/pagination",dependantModules:[Wx,pH]},Wi="clientSide",Ri="serverSide",$r="infinite",mH={onGroupExpandedOrCollapsed:[Wi],refreshClientSideRowModel:[Wi],forEachLeafNode:[Wi],forEachNodeAfterFilter:[Wi],forEachNodeAfterFilterAndSort:[Wi],resetRowHeights:[Wi],applyTransaction:[Wi],applyTransactionAsync:[Wi],flushAsyncTransactions:[Wi],getBestCostNodeSelection:[Wi],getServerSideSelectionState:[Ri],setServerSideSelectionState:[Ri],applyServerSideTransaction:[Ri],applyServerSideTransactionAsync:[Ri],applyServerSideRowData:[Ri],retryServerSideLoads:[Ri],flushServerSideAsyncTransactions:[Ri],refreshServerSide:[Ri],getServerSideGroupLevelState:[Ri],refreshInfiniteCache:[$r],purgeInfiniteCache:[$r],getInfiniteRowCount:[$r],isLastRowIndexKnown:[$r],expandAll:[Wi,Ri],collapseAll:[Wi,Ri],onRowHeightChanged:[Wi,Ri],setRowCount:[$r,Ri],getCacheBlockState:[$r,Ri]},gH={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'}};function vH(t,e,i){let n=gH[t];if(n){let{version:s,new:r,old:a,message:l}=n,c=a??t;return(...d)=>{let u=r?`Please use ${r} instead. `:"";return L(`Since ${s} api.${c} is deprecated. ${u}${l??""}`),e.apply(e,d)}}let o=mH[t];return o?(...s)=>{let r=i.rowModel.getType();if(!o.includes(r)){nt(`api.${t} can only be called when gridOptions.rowModelType is ${o.join(" or ")}`);return}return e.apply(e,s)}:e}var CH={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"}},$o=(t,e)=>(e.rowModelType??"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null,bH={enableRowGroup:$o,rowGroup:$o,rowGroupIndex:$o,enablePivot:$o,enableValue:$o,pivot:$o,pivotIndex:$o,aggFunc:$o,cellEditor:t=>t.cellEditor==="agRichSelect"||t.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{let e=["columnsMenuTab","generalMenuTab"];return t.menuTabs?.some(i=>e.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Qr},yH={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},wH=Object.keys(yH),Qr={objectName:"colDef",allProperties:wH,docsUrl:"column-properties/",deprecations:CH,validations:bH},_H=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."}}),SH={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0},RH=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:t=>{let e=t.rowModelType??"clientSide";switch(e){case"clientSide":{let i=`treeData requires 'getDataPath' in the ${e} row model.`;return t.getDataPath?null:i}case"serverSide":{let i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${e} row model.`;return t.isServerSideGroup&&t.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:t=>{switch(t.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>Qr,defaultColDef:()=>Qr,defaultColGroupDef:()=>Qr,autoGroupColumnDef:()=>Qr}),xH=()=>({objectName:"gridOptions",allProperties:[...lc.ALL_PROPERTIES,...cc.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:_H(),validations:RH()}),EH=class extends A{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(t){this.beans=t,this.gridOptions=t.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(t){this.processOptions(t,xH())}processColumnDefs(t){this.processOptions(t,Qr)}validateApiFunction(t,e){return vH(t,e,this.beans)}processOptions(t,e){let{validations:i,deprecations:n,allProperties:o,propertyExceptions:s,objectName:r,docsUrl:a}=e;o&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,[...s??[],...Object.keys(n)],o,r,a);let l=new Set;Object.keys(t).forEach(d=>{let u=n[d];if(u)if("renamed"in u){let{renamed:P,version:B}=u;l.add(`As of v${B}, ${String(d)} is deprecated. Please use ${String(P)} instead.`),t[P]=t[d]}else{let{message:P,version:B}=u;l.add(`As of v${B}, ${String(d)} is deprecated. ${P??""}`)}let p=t[d];if(p==null||p===!1)return;let m=i[d],y;if(m)if(typeof m=="function"){let P=m(t,this.gridOptions);if(!P)return;if("objectName"in P){let B=t[d];if(Array.isArray(B)){B.forEach(U=>{this.processOptions(U,P)});return}this.processOptions(t[d],P);return}y=P}else y=m;else return;let{module:R,dependencies:S,supportedRowModels:k}=y;if(k){let P=this.gridOptions.rowModelType??"clientSide";if(!k.includes(P)){l.add(`${String(d)} is not supported with the '${P}' row model.`);return}}if(R){let P=Array.isArray(R)?R:[R],B=!0;if(P.forEach(U=>{hi.__assertRegistered(U,String(d),this.gridId)||(B=!1,l.add(`${String(d)} is only available when ${U} is loaded.`))}),!B)return}if(S){let P=this.checkForWarning(d,S,t);if(P){l.add(P);return}}}),l.size>0&&l.forEach(d=>{L(d)})}checkForWarning(t,e,i){if(typeof e=="function")return e(i,this.gridOptions);let o=Object.entries(e).find(([a,l])=>{let c=i[a];return!l.includes(c)});if(!o)return null;let[s,r]=o;return r.length>1?`'${String(t)}' requires '${s}' to be one of [${r.join(", ")}].`:`'${String(t)}' requires '${s}' to be ${r[0]}.`}checkProperties(t,e,i,n,o){let s=["__ob__","__v_skip","__metadata__"],r=k1(Object.getOwnPropertyNames(t),[...s,...e,...i],i);if(rn(r,(a,l)=>{let c=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),L(c)}),Object.keys(r).length>0&&o){let a=this.getFrameworkOverrides().getDocLink(o);L(`to see all the valid ${n} properties please check: ${a}`)}}},DH={version:Oe,moduleName:"@ag-grid-community/core"},TH={version:Oe,moduleName:"@ag-grid-community/core-validations",beans:[EH]},Hx={version:Oe,moduleName:"@ag-grid-community/core-community-features",dependantModules:[DH,TH,H2,mL,XW,RG,AV,fH,jW]},IH=class extends A{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(t){this.beans=t}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},oh=new Set(["gridPreDestroyed","fillStart","pasteStart"]),kH=t=>t==="checkboxSelected"||t==="rowClicked"||t==="spaceKey"||t==="uiSelectAll"||t==="uiSelectAllCurrentPage"||t==="uiSelectAllFiltered",MH=new Map([...lc.BOOLEAN_PROPERTIES.map(t=>[t,rC]),...lc.NUMBER_PROPERTIES.map(t=>[t,dx]),["groupAggFiltering",t=>typeof t=="function"?t:rC(t)],["pageSize",An(1)],["autoSizePadding",An(0)],["keepDetailRowsCount",An(1)],["rowBuffer",An(0)],["infiniteInitialRowCount",An(1)],["cacheOverflowSize",An(1)],["cacheBlockSize",An(1)],["serverSideInitialRowCount",An(1)],["viewportRowModelPageSize",An(1)],["viewportRowModelBufferSize",An(0)]]);function Ux(t,e){let i=MH.get(t);return i?i(e):e}function PH(t){let e={};return Object.entries(t).forEach(([i,n])=>{let o=Ux(i,n);e[i]=o}),e}var AH=(()=>{let t=class zx extends A{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new na,this.globalEventHandlerFactory=i=>(n,o)=>{if(!this.isAlive())return;let s=oh.has(n);if(s&&!i||!s&&i)return;let r=cc.getCallbackForEvent(n),a=this.gridOptions[r];typeof a=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{a(o)})}}wireBeans(i){this.gridOptions=i.gridOptions,this.eGridDiv=i.eGridDiv,this.validationService=i.validationService,this.environment=i.environment,this.api=i.gridApi}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){let i=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),i),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth(),this.addManagedEventListeners({gridOptionsChanged:({options:n})=>{this.updateGridOptions({options:n,force:!0,source:"gridOptionsUpdated"})}})}get(i){return this.gridOptions[i]??SH[i]}getCallback(i){return this.mergeGridCommonParams(this.gridOptions[i])}exists(i){return W(this.gridOptions[i])}mergeGridCommonParams(i){return i&&(o=>{let s=o;return s.api=this.api,s.context=this.gridOptionsContext,i(s)})}updateGridOptions({options:i,force:n,source:o="api"}){let s={id:zx.changeSetId++,properties:[]},r=[];Object.entries(i).forEach(([a,l])=>{o==="api"&&FO[a]&&L(`${a} is an initial property and cannot be updated.`);let c=Ux(a,l),d=n||typeof c=="object"&&o==="api",u=this.gridOptions[a];if(d||u!==c){this.gridOptions[a]=c;let p={type:a,currentValue:c,previousValue:u,changeSet:s,source:o};r.push(p)}}),this.validationService?.processGridOptions(this.gridOptions),s.properties=r.map(a=>a.type),r.forEach(a=>{this.gridOptions.debug&&ln(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(i,n){this.propertyEventService.addEventListener(i,n)}removePropertyEventListener(i,n){this.propertyEventService.removeEventListener(i,n)}getScrollbarWidth(){if(this.scrollbarWidth==null){let n=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:JO();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}isRowModelType(i){return this.gridOptions.rowModelType===i||i==="clientSide"&&Xe(this.gridOptions.rowModelType)}isDomLayout(i){return(this.gridOptions.domLayout??"normal")===i}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(i,n=!1,o){if(o==null&&(o=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:o,estimated:!0};let r={node:i,data:i.data},a=this.getCallback("getRowHeight")(r);if(this.isNumeric(a))return a===0&&L("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}return i.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:o,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||Xe(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();let i=this.environment.refreshRowHeightVariable();return i!==-1?i:(L("row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(i){return!isNaN(i)&&typeof i=="number"&&isFinite(i)}getDomDataKey(){return this.domDataKey}getDomData(i,n){let o=i[this.getDomDataKey()];return o?o[n]:void 0}setDomData(i,n,o){let s=this.getDomDataKey(),r=i[s];Xe(r)&&(r={},i[s]=r),r[n]=o}getDocument(){let i=null;return this.gridOptions.getDocument&&W(this.gridOptions.getDocument)?i=this.gridOptions.getDocument():this.eGridDiv&&(i=this.eGridDiv.ownerDocument),i&&W(i)?i:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}isNothingFocused(){let i=this.getDocument(),n=this.getActiveDomElement();return n===null||n===i.body}getAsyncTransactionWaitMillis(){return W(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){return!this.gridOptions.autoGroupColumnDef?.comparator&&!this.get("treeData")}getGroupAggFiltering(){let i=this.gridOptions.groupAggFiltering;if(typeof i=="function")return this.getCallback("groupAggFiltering");if(i===!0)return()=>!0}getGrandTotalRow(){let i=this.gridOptions.grandTotalRow;if(i)return i;if(this.gridOptions.groupIncludeTotalFooter)return"bottom"}getGroupTotalRowCallback(){let i=this.get("groupTotalRow");if(typeof i=="function")return this.getCallback("groupTotalRow");if(i)return()=>i;let n=this.get("groupIncludeFooter");if(typeof n=="function"){let o=this.getCallback("groupIncludeFooter");return s=>o(s)?"bottom":void 0}return()=>n?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(i){return i?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(i){let n=i;return n.api=this.api,n.context=this.gridOptionsContext,n}getRowIdCallback(){let i=this.getCallback("getRowId");return i===void 0?i:n=>{let o=i(n);return typeof o!="string"&&(L("The getRowId callback must return a string. The ID ",o," is being cast to a string."),o=String(o)),o}}};return t.changeSetId=0,t})(),FH=AH,OH=class extends A{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(t){this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService}findHeader(t,e){let i,n;if(At(t.column)?i=this.visibleColsService.getGroupAtDirection(t.column,e):(n=`getCol${e}`,i=this.visibleColsService[n](t.column)),!i)return;let{headerRowIndex:o}=t;if(this.getHeaderRowType(o)!=="filter"){let a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-o]}let{column:s,headerRowIndex:r}=this.getHeaderIndexToFocus(i,o);return{column:s,headerRowIndex:r}}getHeaderIndexToFocus(t,e){let i;if(At(t)&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){let n=t;i=n.getLeafColumns()[0];let o=i;for(;o!==n;)e++,o=o.getParent()}return{column:i||t,headerRowIndex:e}}isAnyChildSpanningHeaderHeight(t){return t?t.getLeafColumns().some(e=>e.isSpanHeaderHeight()):!1}getColumnVisibleParent(t,e){let i=this.getHeaderRowType(e),n=i==="filter",o=i==="column",s=n?t:t.getParent(),r=e-1,a=r;if(o&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),r--;a=r,r<0&&(s=t,r=e,a=void 0)}return{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(t,e,i="After"){let n=this.getHeaderRowType(e),o=t,s=e+1,r=s;if(n==="group"){let a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:Ze(a),c=[],d=l;for(;d.getParent()!==t;)d=d.getParent(),c.push(d);if(o=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){let p=c[u];if(!p.isPadding()){o=p;break}s++}else o=Ze(c),o||(o=l)}return{column:o,headerRowIndex:s,headerRowIndexWithoutSpan:r}}getHeaderRowType(t){let e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)}findColAtEdgeForHeaderRow(t,e){let i=this.visibleColsService.getAllCols(),n=i[e==="start"?0:i.length-1];if(!n)return;let s=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned())?.getRowType(t);if(s=="group"){let r=this.visibleColsService.getColGroupAtLevel(n,t);return{headerRowIndex:t,column:r}}return{headerRowIndex:s==null?-1:t,column:n}}},NH=class extends A{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){let t=this.gos.getCallback("getLocaleText");if(t)return(i,n,o)=>t({key:i,defaultValue:n,variableValues:o});let e=this.gos.get("localeText");return(i,n,o)=>{let s=e&&e[i];if(s&&o&&o.length){let r=0;for(;!(r>=o.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",o[r++])}return s??n}}},LH=class extends A{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new yC(this.getFrameworkOverrides())}addEventListener(t,e){let i=this.frameworkEventWrappingService.wrap(e),n=this.gos.useAsyncEvents()&&!oh.has(t),o=n?this.asyncEventListeners:this.syncEventListeners;o.has(t)||o.set(t,new Set),o.get(t).add(i),this.eventService.addEventListener(t,i,n)}removeEventListener(t,e){let i=this.frameworkEventWrappingService.unwrap(e),o=!!this.asyncEventListeners.get(t)?.delete(i);o||this.syncEventListeners.get(t)?.delete(i),this.eventService.removeEventListener(t,i,o)}addGlobalListener(t){let e=this.frameworkEventWrappingService.wrapGlobal(t);if(this.gos.useAsyncEvents()){let n=(s,r)=>{oh.has(s)&&e(s,r)},o=(s,r)=>{oh.has(s)||e(s,r)};this.globalEventListenerPairs.set(t,{syncListener:n,asyncListener:o}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(o,!0)}else this.syncGlobalEventListeners.add(e),this.eventService.addGlobalListener(e,!1)}removeGlobalListener(t){let e=this.frameworkEventWrappingService.unwrapGlobal(t);if(this.globalEventListenerPairs.has(e)){let{syncListener:n,asyncListener:o}=this.globalEventListenerPairs.get(e);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(o,!0),this.globalEventListenerPairs.delete(t)}else this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,!1)}destroyEventListeners(t,e){t.forEach((i,n)=>{i.forEach(o=>this.eventService.removeEventListener(n,o,e)),i.clear()}),t.clear()}destroyGlobalListeners(t,e){t.forEach(i=>this.eventService.removeGlobalListener(i,e)),t.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:t,asyncListener:e})=>{this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(e,!0)}),this.globalEventListenerPairs.clear()}},BH=class extends A{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(t){this.rowModel=t.rowModel,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(t){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:t?.animate??!1,newData:t?.newData??!1,newPage:t?.newPage??!1,newPageSize:t?.newPageSize??!1,keepRenderedRows:t?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},VH=class extends A{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(t){this.rowModel=t.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Xe(this.topRowBounds)||Xe(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){let t=this.topRowBounds?this.topRowBounds.rowTop:0,e=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:e}}calculateBounds(t,e){this.topRowBounds=this.rowModel.getRowBounds(t),this.topRowBounds&&(this.topRowBounds.rowIndex=t),this.bottomRowBounds=this.rowModel.getRowBounds(e),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=e),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let t=W(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},GH=class extends A{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=fi(this.updateAnnouncement.bind(this),200)}wireBeans(t){this.eGridDiv=t.eGridDiv}postConstruct(){let t=this.gos.getDocument(),e=this.descriptionContainer=t.createElement("div");e.classList.add("ag-aria-description-container"),xR(e,"polite"),VO(e,"additions text"),BO(e,!0),this.eGridDiv.appendChild(e)}announceValue(t,e){this.pendingAnnouncements.set(e,t),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let t=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=t)},50)}destroy(){super.destroy();let{descriptionContainer:t}=this;t&&(ri(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},WH=class extends A{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(t){this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(t=>this.gridBodyCtrl=t.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(t){this.suppressAnimation=t}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(t){this.activeNext?this.executeNextFuncs.push(t):t()}executeLaterVMTurn(t){this.active?this.executeLaterFuncs.push(t):t()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===t&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(t,e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){t(),e();return}let i=n=>{for(;n.length;){let o=n.pop();o&&o()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{e(),i(this.executeLaterFuncs)},200)})}},HH=class extends A{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(t){this.updateState(t)}clearMouseOver(){this.updateState(null)}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}updateState(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},UH=class extends A{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(t){this.userComponentFactory=t.userComponentFactory,this.rowModel=t.rowModel,this.columnModel=t.columnModel,this.ctrlsService=t.ctrlsService}postConstruct(){this.isClientSide=this.gos.isRowModelType("clientSide");let t=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:t,rowDataUpdated:t,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",t)}registerOverlayWrapperComp(t){this.overlayWrapperComp=t,this.updateOverlayVisibility()}isVisible(){return this.state!==0}isExclusive(){return this.state===1}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;let t=this.gos.get("loading");!t&&(t!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){L("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){let t=this.gos.get("loading");this.showInitialOverlay&&t===void 0&&!this.gos.get("suppressLoadingOverlay")&&(t=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),t?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive()}doShowNoRowsOverlay(){this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive()}doHideOverlay(){this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive()}showOverlay(t,e,i){let n=t.newAgStackInstance();this.overlayWrapperComp.showOverlay(n,e,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){let t=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==t&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){let t=0;this.state===2?t=this.ctrlsService.get("gridHeaderCtrl")?.getHeaderHeight()||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(t))}},zH=class extends A{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(t){this.stylingService=t.stylingService}getInitialRowClasses(t){let e=[];return W(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),LS(e,this.processClassesFromGridOptions(t.rowNode)),LS(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e}processClassesFromGridOptions(t){let e=[],i=s=>{typeof s=="string"?e.push(s):Array.isArray(s)&&s.forEach(r=>e.push(r))},n=this.gos.get("rowClass");if(n){if(typeof n=="function")return L("rowClass should not be a function, please use getRowClass instead"),[];i(n)}let o=this.gos.getCallback("getRowClass");if(o){let s={data:t.data,node:t,rowIndex:t.rowIndex},r=o(s);i(r)}return e}preProcessRowClassRules(t){let e=[];return this.processRowClassRules(t,i=>{e.push(i)},()=>{}),e}processRowClassRules(t,e,i){let n=this.gos.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,e,i)}calculateRowLevel(t){return t.group?t.level:t.parent?t.parent.level+1:0}},jH=class extends A{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(t){this.ctrlsService=t.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=YO(),this.gos.get("debug")&&ln("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;let e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(e!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.gos.get("debug")&&ln(`RowContainerHeightService - Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`),this.setDivStretchOffset(e)}setUiContainerHeight(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(t){let e=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){let e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0)return t;let e=this.modelHeight-this.getUiBodyHeight(),i=t/e;return this.maxScrollY*i}},$H=class extends A{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.showRowGroupColsService=t.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup())}doFullSort(t,e){let i=(o,s)=>({currentPos:s,rowNode:o}),n=t.map(i);return n.sort(this.compareRowNodes.bind(this,e)),n.map(o=>o.rowNode)}compareRowNodes(t,e,i){let n=e.rowNode,o=i.rowNode;for(let s=0,r=t.length;s<r;s++){let a=t[s],l=a.sort==="desc",c=this.getValue(n,a.column),d=this.getValue(o,a.column),u,p=this.getComparator(a,n);if(p?u=p(c,d,n,o,l):u=aO(c,d,this.isAccentedSort),!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return e.currentPos-i.currentPos}getComparator(t,e){let i=t.column,n=i.getColDef().comparator;if(n!=null)return n;if(!i.getColDef().showRowGroup)return;let o=!e.group&&i.getColDef().field;if(!o)return;let s=this.columnModel.getColDefCol(o);if(s)return s.getColDef().comparator}getValue(t,e){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){let s=t.allLeafChildren?.[0];return s?this.valueService.getValue(e,s,!1,!1):void 0}let o=this.showRowGroupColsService?.getShowRowGroupCol(e.getId());return o?t.groupData?.[o.getId()]:void 0}if(!(t.group&&e.getColDef().showRowGroup))return this.valueService.getValue(e,t,!1,!1)}},Ch=class{constructor(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children)for(let i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)}depthFirstSearchEverything(t,e,i){if(t.childrenAfterGroup)for(let n=0;n<t.childrenAfterGroup.length;n++){let o=t.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[n],e,i):i&&e(o)}e(t)}forEachChangedNodeDepthFirst(t,e=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t,i=0;for(;!this.mapToItems[e.id];){let n={rowNode:e,children:null};this.mapToItems[e.id]=n,i++,e=e.parent}return i}populateColumnsMap(t,e){if(!this.keepingColumns||!e)return;let i=t;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(t,e){let i=t;for(let n=0;n<e;n++){let o=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(o),i=i.parent}}addParentNode(t,e){if(!t||t.isRowPinned())return;let i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns)return e;let i=this.nodeIdsToColumns[t.id];return e.filter(o=>i[o.getId()])}getNotValueColumnsForNode(t,e){if(!this.keepingColumns)return null;let i=this.nodeIdsToColumns[t.id];return e.filter(o=>!i[o.getId()])}},jx=class extends A{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new Q2}wireBeans(t){this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.selectionCtx.init(this.rowModel),this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiselect(){return this.rowSelection==="multiple"}overrideSelectionValue(t,e){if(!kH(e))return t;let i=this.selectionCtx.getRoot();return i?i.isSelected()??!1:!0}setNodesSelected(t){let{newValue:e,clearSelection:i,suppressFinishActions:n,rangeSelect:o,nodes:s,event:r,source:a}=t;if(s.length===0)return 0;if(s.length>1&&!this.isMultiselect())return L("cannot multi select while rowSelection='single'"),0;let l=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,c=s.map(u=>u.footer?u.sibling:u);if(o){if(c.length>1)return L("cannot range select while selecting multiple rows"),0;let u=c[0],p=this.overrideSelectionValue(e,a);if(this.isMultiselect()){if(this.selectionCtx.isInRange(u)){let m=this.selectionCtx.truncate(u);return p&&this.selectRange(m.discard,!1,a),this.selectRange(m.keep,p,a)}else if(this.selectionCtx.getRoot()!==u){let R=this.selectionCtx.extend(u,this.groupSelectsChildren);return p&&this.selectRange(R.discard,!1,a),this.selectRange(R.keep,p,a)}}}n||this.selectionCtx.setRoot(c[0]);let d=0;for(let u=0;u<c.length;u++){let p=c[u];l&&p.group||p.selectThisNode(e,r,a)&&d++,this.groupSelectsChildren&&p.childrenAfterGroup?.length&&(d+=this.selectChildren(p,e,l,a))}return n||(e&&(i||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),d}selectRange(t,e,i){let n=0;return t.forEach(o=>{if(o.group&&this.groupSelectsChildren)return;o.selectThisNode(e,void 0,i)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(t,e,i,n){let o=i?t.childrenAfterAggFilter:t.childrenAfterGroup;return Xe(o)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:o})}getSelectedNodes(){let t=[];return this.selectedNodes.forEach(e=>{e&&t.push(e)}),t}getSelectedRows(){let t=[];return this.selectedNodes.forEach(e=>{e&&e.data&&t.push(e.data)}),t}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(t){let e=new Map;this.selectedNodes.forEach((i,n)=>{i&&t(i)&&e.set(n,i)}),this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;let n=this.rowModel.getRootNode();e||(e=new Ch(!0,n),e.setInactive());let o=!1;return e.forEachChangedNodeDepthFirst(s=>{if(s!==n){let r=s.calculateSelectedFromChildren();o=s.selectThisNode(r===null?!1:r,void 0,t)||o}}),o}clearOtherNodes(t,e){let i=new Map,n=0;return this.selectedNodes.forEach(o=>{if(o&&o.id!==t.id){let s=this.selectedNodes.get(o.id);n+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),this.groupSelectsChildren&&o.parent&&i.set(o.parent.id,o.parent)}}),i.forEach(o=>{let s=o.calculateSelectedFromChildren();o.selectThisNode(s===null?!1:s,void 0,e)}),n}onRowSelected(t){let e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes.set(e.id,e):this.selectedNodes.delete(e.id))}syncInRowNode(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)}syncInOldRowNode(t,e){if(W(e)&&t.id!==e.id&&e){let n=e.id;this.selectedNodes.get(n)==t&&this.selectedNodes.set(e.id,e)}}syncInNewRowNode(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)}reset(t){let e=this.getSelectionCount();this.resetNodes(),e&&this.dispatchSelectionChanged(t)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;let e=this.rowModel.getTopLevelNodes();if(e===null)return;let i=[];function n(o){for(let s=0,r=o.length;s<r;s++){let a=o[s];if(a.isSelected())i.push(a);else{let l=a;l.group&&l.children&&n(l.children)}}}return n(e),i}isEmpty(){let t=0;return this.selectedNodes.forEach(e=>{e&&t++}),t===0}deselectAllRowNodes(t){let e=r=>r.selectThisNode(!1,void 0,n),i=this.rowModel.getType()==="clientSide",{source:n,justFiltered:o,justCurrentPage:s}=t;if(s||o){if(!i){nt("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(o,s).forEach(e)}else this.selectedNodes.forEach(r=>{r&&e(r)}),this.reset(n);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(t,e){let i=0,n=0,o=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?i++:s.selectable&&n++)};return this.getNodesToSelect(t,e).forEach(o),{selectedCount:i,notSelectedCount:n}}getSelectAllState(t,e){let{selectedCount:i,notSelectedCount:n}=this.getSelectedCounts(t,e);return i===0&&n===0?!1:i>0&&n>0?null:i>0}hasNodesToSelect(t=!1,e=!1){return this.getNodesToSelect(t,e).filter(i=>i.selectable).length>0}getNodesToSelect(t=!1,e=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);let i=[];if(e)return this.forEachNodeOnPage(o=>{if(!o.group){i.push(o);return}if(!o.expanded){let s=r=>{i.push(r),r.childrenAfterFilter?.length&&r.childrenAfterFilter.forEach(s)};s(o);return}this.groupSelectsChildren||i.push(o)}),i;let n=this.rowModel;return t?(n.forEachNodeAfterFilter(o=>{i.push(o)}),i):(n.forEachNode(o=>{i.push(o)}),i)}forEachNodeOnPage(t){let e=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let n=e;n<=i;n++){let o=this.rowModel.getRow(n);o&&t(o)}}selectAllRowNodes(t){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);let{source:e,justFiltered:i,justCurrentPage:n}=t,o=this.getNodesToSelect(i,n);o.forEach(s=>s.selectThisNode(!0,void 0,e)),this.selectionCtx.setRoot(o[0]??null),this.selectionCtx.setEndRange(Ze(o)??null),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e),this.dispatchSelectionChanged(e)}getSelectionState(){let t=[];return this.selectedNodes.forEach(e=>{e?.id&&t.push(e.id)}),t.length?t:null}setSelectionState(t,e){if(!Array.isArray(t))return;let i=new Set(t),n=[];this.rowModel.forEachNode(o=>{i.has(o.id)&&n.push(o)}),this.setNodesSelected({newValue:!0,nodes:n,source:e})}dispatchSelectionChanged(t){this.eventService.dispatchEvent({type:"selectionChanged",source:t})}},KH=class extends A{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(t=!1){let e=!!this.gos.get("rowSelection"),i=this.gos.get("isRowSelectable");if(!e||!i)return;let n=this.gos.get("groupSelectsChildren"),o=this.rowModel.getType()==="clientSide"&&n,s=[],r=a=>{if(t&&!a.group)return;if(o&&a.group){let c=a.childrenAfterGroup.some(d=>d.selectable===!0);a.setRowSelectable(c,!0);return}let l=i?i(a):!0;a.setRowSelectable(l,!0),!l&&a.isSelected()&&s.push(a)};if(o){let a=this.rowModel;new Ch(!1,a.getRootNode()).forEachChangedNodeDepthFirst(r,!0,!0)}else this.rowModel.forEachNode(r);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),o&&this.selectionService instanceof jx&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},rR=["asc","desc",null],qH=class extends A{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.showRowGroupColsService=t.showRowGroupColsService}progressSort(t,e,i){let n=this.getNextSortDirection(t);this.setSortForColumn(t,n,e,i)}setSortForColumn(t,e,i,n){e!=="asc"&&e!=="desc"&&(e=null);let o=this.gos.isColumnsSortingCoupledToGroup(),s=[t];if(o&&t.getColDef().showRowGroup){let c=this.funcColsService.getSourceColumnsForGroupColumn(t)?.filter(d=>d.isSortable());c&&(s=[t,...c])}s.forEach(l=>l.setSort(e,n));let r=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!r){let l=this.clearSortBarTheseColumns(s,n);a.push(...l)}this.updateSortIndex(t),a.push(...s),this.dispatchSortChangedEvents(n,a)}updateSortIndex(t){let e=this.gos.isColumnsSortingCoupledToGroup(),i=this.showRowGroupColsService?.getShowRowGroupCol(t.getId()),n=e&&i||t,o=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(a=>a.setSortIndex(null));let s=o.filter(a=>e&&a.getColDef().showRowGroup?!1:a!==n);(n.getSort()?[...s,n]:s).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(t,e){this.dispatchSortChangedEvents(t,e)}isSortActive(){let e=this.columnModel.getAllCols().filter(i=>!!i.getSort());return e&&e.length>0}dispatchSortChangedEvents(t,e){let i={type:"sortChanged",source:t};e&&(i.columns=e),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(t,e){let i=[];return this.columnModel.getAllCols().forEach(n=>{t.includes(n)||(n.getSort()&&i.push(n),n.setSort(void 0,e))}),i}getNextSortDirection(t){let e;if(t.getColDef().sortingOrder?e=t.getColDef().sortingOrder:this.gos.get("sortingOrder")?e=this.gos.get("sortingOrder"):e=rR,!Array.isArray(e)||e.length<=0)return L(`sortingOrder must be an array with at least one element, currently it's ${e}`),null;let i=e.indexOf(t.getSort()),n=i<0,o=i==e.length-1,s;return n||o?s=e[0]:s=e[i+1],rR.indexOf(s)<0?(L("invalid sort type ",s),null):s}getIndexedSortMap(){let t=this.columnModel.getAllCols().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){let s=this.gos.isColumnsSortingCoupledToGroup();t=t.filter(r=>{let a=!!r.getAggFunc(),l=!r.isPrimary(),c=s?this.showRowGroupColsService?.getShowRowGroupCol(r.getId()):r.getColDef().showRowGroup;return a||l||c})}let e=this.funcColsService.getRowGroupColumns().filter(s=>!!s.getSort()),i={};t.forEach((s,r)=>i[s.getId()]=r),t.sort((s,r)=>{let a=s.getSortIndex(),l=r.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){let c=i[s.getId()],d=i[r.getId()];return c>d?1:-1}else return l==null?-1:1});let n=this.gos.isColumnsSortingCoupledToGroup()&&!!e.length;n&&(t=[...new Set(t.map(s=>this.showRowGroupColsService?.getShowRowGroupCol(s.getId())??s))]);let o=new Map;return t.forEach((s,r)=>o.set(s,r)),n&&e.forEach(s=>{let r=this.showRowGroupColsService.getShowRowGroupCol(s.getId());o.set(s,o.get(r))}),o}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([t,e],[i,n])=>e-n).map(([t])=>t)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),colId:t.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),column:t}))}canColumnDisplayMixedSort(t){let e=this.gos.isColumnsSortingCoupledToGroup(),i=!!t.getColDef().showRowGroup;return e&&i}getDisplaySortForColumn(t){let e=this.funcColsService.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!e?.length)return t.getSort();let n=t.getColDef().field!=null||!!t.getColDef().valueGetter?[t,...e]:e,o=n[0].getSort();return n.every(r=>r.getSort()==o)?o:"mixed"}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}},XH=class extends A{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(t){this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.rowModel=t.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",t=>this.setColumnDefs(t))}start(){this.ctrlsService.whenReady(()=>{let t=this.gos.get("columnDefs");t?this.setColumnsAndData(t):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();let t=hi.__isRegistered("@ag-grid-enterprise/core",this.gridId);this.gos.get("debug")&&ln(`initialised successfully, enterprise = ${t}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:"gridReady"})}setColumnDefs(t){let e=this.gos.get("columnDefs");if(e){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(e);return}this.columnModel.setColumnDefs(e,Xr(t.source))}}},YH="paste",QH=class extends A{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(t){this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer}postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(t){t.source!==YH&&this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gos.get("suppressChangeDetection"))return;let i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){let n=this.gos.get("aggregateOnlyChangedColumns"),o=new Ch(n,this.clientSideRowModel.getRootNode());o.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(s=>{i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}},ZH=class extends A{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(t,e){if(typeof t=="string")return this.evaluateExpression(t,e);nt("value should be either a string or a function",t)}evaluateExpression(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.getValue,e.column,e.columnGroup)}catch(i){return ln("Processing of the expression failed"),ln("Expression = ",t),ln("Params = ",e),ln("Exception = ",i),null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];let e=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=i,i}createFunctionBody(t){return t.indexOf("return")>=0?t:"return "+t+";"}},JH=class extends A{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(t,e,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=i)}getValue(t,e){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[e]}},e3=class extends A{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(t){this.expressionService=t.expressionService,this.columnModel=t.columnModel,this.valueCache=t.valueCache,this.dataTypeService=t.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let t=i=>this.callColumnCellValueChangedHandler(i),e=this.gos.useAsyncEvents();this.eventService.addEventListener("cellValueChanged",t,e),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",t,e)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValue(t,e,i=!1,n=!1){if(this.initialised||this.init(),!e)return;let o=t.getColDef(),s=o.field,r=t.getColId(),a=e.data,l,c=e.groupData&&e.groupData[r]!==void 0,d=!n&&e.aggData&&e.aggData[r]!==void 0,u=this.isSsrm&&n&&!!t.getColDef().aggFunc,p=this.isSsrm&&e.footer&&e.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===e.field);if(i&&o.filterValueGetter?l=this.executeFilterValueGetter(o.filterValueGetter,a,t,e):this.isTreeData&&d?l=e.aggData[r]:this.isTreeData&&o.valueGetter?l=this.executeValueGetter(o.valueGetter,a,t,e):this.isTreeData&&s&&a?l=ic(a,s,t.isFieldContainsDots()):c?l=e.groupData[r]:d?l=e.aggData[r]:o.valueGetter?l=this.executeValueGetter(o.valueGetter,a,t,e):p?l=ic(a,e.field,t.isFieldContainsDots()):s&&a&&!u&&(l=ic(a,s,t.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){let m=l.substring(1);l=this.executeValueGetter(m,a,t,e)}if(l==null){let m=this.getOpenedGroup(e,t);if(m!=null)return m}return l}parseValue(t,e,i,n){let o=t.getColDef(),s=this.gos.addGridCommonParams({node:e,data:e?.data,oldValue:n,newValue:i,colDef:o,column:t}),r=o.valueParser;return W(r)?typeof r=="function"?r(s):this.expressionService.evaluate(r,s):i}formatValue(t,e,i,n,o=!0){let s=null,r,a=t.getColDef();if(n?r=n:o&&(r=a.valueFormatter),r){let l=this.gos.addGridCommonParams({value:i,node:e,data:e?e.data:null,colDef:a,column:t});typeof r=="function"?s=r(l):s=this.expressionService.evaluate(r,l)}else if(a.refData)return a.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s}getOpenedGroup(t,e){if(!this.gos.get("showOpenedGroup")||!e.getColDef().showRowGroup)return;let n=e.getColDef().showRowGroup,o=t.parent;for(;o!=null;){if(o.rowGroupColumn&&(n===!0||n===o.rowGroupColumn.getColId()))return o.key;o=o.parent}}setValue(t,e,i,n){let o=this.columnModel.getColDefCol(e);if(!t||!o)return!1;Xe(t.data)&&(t.data={});let{field:s,valueSetter:r}=o.getColDef();if(Xe(s)&&Xe(r))return L("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(o,i))return L("Data type of the new value does not match the cell data type of the column"),!1;let a=this.gos.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(o,t),newValue:i,colDef:o.getColDef(),column:o});a.newValue=i;let l;return W(r)?typeof r=="function"?l=r(a):l=this.expressionService.evaluate(r,a):l=this.setValueUsingField(t.data,s,i,o.isFieldContainsDots()),l===void 0&&(l=!0),l?(t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(o,t),this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:a.column,colDef:a.colDef,data:t.data,node:t,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:n}),!0):!1}callColumnCellValueChangedHandler(t){let e=t.colDef.onCellValueChanged;typeof e=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,context:t.context})})}setValueUsingField(t,e,i,n){if(!e)return!1;let o=!1;if(!n)o=t[e]===i,o||(t[e]=i);else{let s=e.split("."),r=t;for(;s.length>0&&r;){let a=s.shift();s.length===0?(o=r[a]===i,o||(r[a]=i)):r=r[a]}}return!o}executeFilterValueGetter(t,e,i,n){let o=this.gos.addGridCommonParams({data:e,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof t=="function"?t(o):this.expressionService.evaluate(t,o)}executeValueGetter(t,e,i,n){let o=i.getColId(),s=this.valueCache.getValue(n,o);if(s!==void 0)return s;let r=this.gos.addGridCommonParams({data:e,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)}),a;return typeof t=="function"?a=t(r):a=this.expressionService.evaluate(t,r),this.valueCache.setValue(n,o,a),a}getValueCallback(t,e){let i=this.columnModel.getColDefCol(e);return i?this.getValue(i,t):null}getKeyForNode(t,e){let i=this.getValue(t,e),n=t.getColDef().keyCreator,o=i;if(n){let s=this.gos.addGridCommonParams({value:i,colDef:t.getColDef(),column:t,node:e,data:e.data});o=n(s)}return typeof o=="string"||o==null||(o=String(o),o==="[object Object]"&&L("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),o}},aR=(()=>{let t=class{};return t.gridOptions=void 0,t})();function $x(t,e,i){if(!e)return nt("No gridOptions provided to createGrid"),{};let n=new i3().create(t,e,o=>{let s=new MV(t);o.createBean(s)},void 0,i);if(!Object.isFrozen(e)&&!i?.frameworkOverrides){let o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:()=>{nt(`gridOptions.api is no longer supported. See ${o}.`)},configurable:!0})}return n}var t3=1,i3=class{create(t,e,i,n,o){let s={};aR.gridOptions?(an(s,aR.gridOptions,!0,!0),s=D(D({},s),e)):s=e;let r=PH(s),a=r.gridId??String(t3++),l=this.getRegisteredModules(o,a),c=this.createBeansList(r.rowModelType,l,a),d=this.createProvidedBeans(t,r,o);if(!c){nt("Failed to create grid.");return}let u={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:vV,beanDestroyComparator:CV,derivedBeans:[lV]},p=new Q1(u);return this.registerModuleUserComponents(p,l),this.registerControllers(p,l),this.registerModuleApiFunctions(p,l),i(p),p.getBean("syncService").start(),n&&n(p),p.getBean("gridApi")}registerControllers(t,e){let i=t.getBean("ctrlsFactory");e.forEach(n=>{n.controllers&&n.controllers.forEach(o=>i.register(o))})}getRegisteredModules(t,e){let i=t?t.modules:null,n=hi.__getRegisteredModules(e),o=[],s={},r=(a,l,c)=>{(u=>{s[u.moduleName]||(s[u.moduleName]=!0,o.push(u),hi.__register(u,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(u=>r(a,u,c))};return r(!!i?.length||!hi.__isPackageBased(),Hx,void 0),i&&i.forEach(a=>r(!0,a,e)),n&&n.forEach(a=>r(!hi.__isPackageBased(),a,void 0)),o}registerModuleUserComponents(t,e){let i=this.extractModuleEntity(e,o=>o.userComponents?o.userComponents:[]),n=t.getBean("userComponentRegistry");i.forEach(o=>{n.registerDefaultComponent(o.name,o.classImp)})}registerModuleApiFunctions(t,e){let i=t.getBean("apiFunctionService");e.forEach(n=>{let o=n.apiFunctions;o&&Object.keys(o).forEach(r=>{i?.addFunction(r,o[r])})})}createProvidedBeans(t,e,i){let n=i?i.frameworkOverrides:null;Xe(n)&&(n=new XC);let o={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o}createBeansList(t="clientSide",e,i){let n=e.filter(l=>!l.rowModel||l.rowModel===t),o={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!o[t]){nt("Could not find row model for rowModelType = ",t);return}if(!hi.__assertRegistered(o[t],`rowModelType = '${t}'`,i))return;let s=[SV,wV,OH,IH,aV,P1,fV,mV,i2,qR,jH,JB,NH,K2,iN,MO,EV,FH,nV,jx,vO,yL,VH,BH,j2,ZH,gO,ZB,JH,e3,U2,e2,J1,TV,QB,RV,sV,Z2,YB,qH,HH,WH,KH,QH,n2,cV,zH,$H,yV,IV,_V,bV,XH,UH,o2,LH,GH,s2,_O,dV,SO,yO,uV,hV,kO,wO,TO,pV,IO],r=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);s.push(...r);let a=[];return s.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(t,e){return[].concat(...t.map(e))}},Kx=class extends A{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){let t=this.rowModel;switch(t.getType()){case"clientSide":this.clientSideRowModel=t;break;case"infinite":this.infiniteRowModel=t;break;case"serverSide":this.serverSideRowModel=t;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function n3(t){t.expansionService.expandAll(!0)}function o3(t){t.expansionService.expandAll(!1)}function s3(t){let e=t.rowModelHelperService?.getClientSideRowModel(),i=t.rowModelHelperService?.getServerSideRowModel();e?e.onRowHeightChanged():i&&i.onRowHeightChanged()}function r3(t,e,i){let n=t.rowModelHelperService?.getServerSideRowModel();if(n){if(t.funcColsService.isRowGroupEmpty()){n.setRowCount(e,i);return}nt("setRowCount cannot be used while using row grouping.");return}let o=t.rowModelHelperService?.getInfiniteRowModel();if(o){o.setRowCount(e,i);return}}function a3(t){return t.rowNodeBlockLoader?.getBlockState()??{}}var l3={version:Oe,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:n3,collapseAll:o3,onRowHeightChanged:s3}},c3={version:Oe,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:r3,getCacheBlockState:a3}},qx=class{wrap(t,e,i=[],n){let o=this.createWrapper(t,n);return e.forEach(s=>{this.createMethod(o,s,!0)}),i.forEach(s=>{this.createMethod(o,s,!1)}),o}unwrap(t){return t}createMethod(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))}createMethodProxy(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&L("Framework component is missing the method "+e+"()"),null)}}};function d3(t,e){if(!t)return!1;let i=(r,a)=>{let l=e[r.id],c=e[a.id],d=l!==void 0,u=c!==void 0,p=d&&u,m=!d&&!u;return p?l-c:m?r.__objectId-a.__objectId:d?1:-1},n,o,s=!1;for(let r=0;r<t.length-1;r++)if(n=t[r],o=t[r+1],i(n,o)>0){s=!0;break}return s?(t.sort(i),!0):!1}var ra=typeof global>"u"?{}:global;ra.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;ra.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;ra.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;ra.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;ra.Node=typeof Node>"u"?{}:Node;ra.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var u3="ROOT_NODE_ID",iC=0,h3=class{constructor(t,e,i,n,o,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gos=e,this.eventService=i,this.funcColsService=n,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=u3,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return pR(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if(typeof t=="string"){L("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);let e=this.rootNode,i=this.rootNode.sibling;e.childrenAfterFilter=null,e.childrenAfterGroup=null,e.childrenAfterAggFilter=null,e.childrenAfterSort=null,e.childrenMapped=null,e.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?e.allLeafChildren=t.map(n=>this.createNode(n,this.rootNode,iC)):(e.allLeafChildren=[],e.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=e.childrenAfterFilter,i.childrenAfterGroup=e.childrenAfterGroup,i.childrenAfterAggFilter=e.childrenAfterAggFilter,i.childrenAfterSort=e.childrenAfterSort,i.childrenMapped=e.childrenMapped,i.allLeafChildren=e.allLeafChildren)}updateRowData(t,e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);let i={remove:[],update:[],add:[]},n=[];return this.executeRemove(t,i,n),this.executeUpdate(t,i,n),this.executeAdd(t,i),this.updateSelection(n,"rowDataChanged"),e&&d3(this.rootNode.allLeafChildren,e),i}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(t){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:t?.length?t[0]:null})}updateSelection(t,e){let i=t.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:e})}executeAdd(t,e){let{add:i,addIndex:n}=t;if(Ei(i))return;let o=i.map(r=>this.createNode(r,this.rootNode,iC)),s=this.rootNode.allLeafChildren;if(typeof n=="number"&&n>=0){let r=s.length,a=n;if(this.gos.get("treeData")&&n>0&&r>0){for(let u=0;u<r;u++)if(s[u]?.rowIndex==n-1){a=u+1;break}}let c=s.slice(0,a),d=s.slice(a,s.length);this.rootNode.allLeafChildren=[...c,...o,...d]}else this.rootNode.allLeafChildren=[...s,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=s),e.add=o}executeRemove(t,e,i){let{remove:n}=t;if(Ei(n))return;let o={};n.forEach(s=>{let r=this.lookupRowNode(s);r&&(r.isSelected()&&i.push(r),r.clearRowTopAndRowIndex(),o[r.id]=!0,delete this.allNodesMap[r.id],e.remove.push(r))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(s=>!o[s.id])??null,this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,e,i){let{update:n}=t;Ei(n)||n.forEach(o=>{let s=this.lookupRowNode(o);s&&(s.updateData(o),!s.selectable&&s.isSelected()&&i.push(s),this.setMasterForRow(s,o,iC,!1),e.update.push(s))})}lookupRowNode(t){let e=this.gos.getRowIdCallback(),i;if(e){let n=e({data:t,level:0});if(i=this.allNodesMap[n],!i)return nt(`could not find row id=${n}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren?.find(n=>n.data===t),!i)return nt("could not find data item as object was not found",t),nt("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(t,e,i){let n=new no(this.beans);return n.group=!1,this.setMasterForRow(n,t,i,!0),e&&(n.parent=e),n.level=i,n.setDataAndId(t,this.nextId.toString()),this.allNodesMap[n.id]&&L(`duplicate node id '${n.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(t,e,i,n){if(this.gos.get("treeData"))t.setMaster(!1),n&&(t.expanded=!1);else{if(this.gos.get("masterDetail")){let r=this.gos.get("isRowMaster");r?t.setMaster(r(e)):t.setMaster(!0)}else t.setMaster(!1);if(n){let r=this.funcColsService.getRowGroupColumns(),a=r?r.length:0,l=i+a;t.expanded=t.master?this.isExpanded(l):!1}}}isExpanded(t){let e=this.gos.get("groupDefaultExpanded");return e===-1?!0:t<e}},p3=class extends A{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=fi(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(t){this.beans=t,this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.selectionService=t.selectionService,this.valueCache=t.valueCache,this.environment=t.environment,this.filterStage=t.filterStage,this.sortStage=t.sortStage,this.flattenStage=t.flattenStage,this.groupStage=t.groupStage,this.aggregationStage=t.aggregationStage,this.pivotStage=t.pivotStage,this.filterAggregatesStage=t.filterAggregatesStage}postConstruct(){let t=this.refreshModel.bind(this,{step:"group"}),e=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:t,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:t,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new no(this.beans),this.nodeManager=new h3(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){let t=new Set(["treeData","masterDetail"]),e=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),o=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),r=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...t,...e,...i,...n,...n,...o,...s,...r,...a];this.addManagedPropertyListeners(l,c=>{let d=c.changeSet?.properties;if(!d)return;let u=p=>d.some(m=>p.has(m));if(u(t)){this.setRowData(this.rootNode.allLeafChildren.map(p=>p.data));return}if(u(e)){this.refreshModel({step:"group"});return}if(u(i)){this.refreshModel({step:"filter"});return}if(u(n)){this.refreshModel({step:"pivot"});return}if(u(o)){this.refreshModel({step:"aggregate"});return}if(u(s)){this.refreshModel({step:"sort"});return}if(u(r)){this.refreshModel({step:"filter_aggregates"});return}u(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){let t=this.gos.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))}ensureRowHeightsValid(t,e,i,n){let o,s=!1;do{o=!1;let r=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(r,i),c=Math.min(a,n);for(let d=l;d<=c;d++){let u=this.getRow(d);if(u.rowHeightEstimated){let p=this.gos.getRowHeightForNode(u);u.setRowHeight(p.height),o=!0,s=!0}}o&&this.setRowTopAndRowIndex()}while(o);return s}setRowTopAndRowIndex(){let t=this.environment.getDefaultRowHeight(),e=0,i=new Set,n=this.gos.isDomLayout("normal");for(let o=0;o<this.rowsToDisplay.length;o++){let s=this.rowsToDisplay[o];if(s.id!=null&&i.add(s.id),s.rowHeight==null){let r=this.gos.getRowHeightForNode(s,n,t);s.setRowHeight(r.height,r.estimated)}s.setRowTop(e),s.setRowIndex(o),e+=s.rowHeight}return i}clearRowTopAndRowIndex(t,e){let i=t.isActive(),n=s=>{s&&s.id!=null&&!e.has(s.id)&&s.clearRowTopAndRowIndex()},o=s=>{if(n(s),n(s.detailNode),n(s.sibling),s.hasChildren()&&s.childrenAfterGroup){let r=s.level==-1;i&&!r&&!s.expanded||s.childrenAfterGroup.forEach(o)}};o(this.rootNode)}ensureRowsAtPixel(t,e,i=0){let n=this.getRowIndexAtPixel(e),o=this.getRow(n),s=!this.gos.get("suppressAnimationFrame");return o===t[0]?!1:(t.forEach(r=>{pi(this.rootNode.allLeafChildren,r)}),t.forEach((r,a)=>{sh(this.rootNode.allLeafChildren,r,Math.max(n+i,0)+a)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(t,e){let i=e!=null?this.getRowIndexAtPixel(e):null,n=i!=null?this.getRow(i):null;if(!n||!t||n===t||e==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}let o=this.getHighlightPosition(e,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(o),this.lastHighlightedRow=n}getHighlightPosition(t,e){if(!e){let o=this.getRowIndexAtPixel(t);if(e=this.getRow(o||0),!e)return 1}let{rowTop:i,rowHeight:n}=e;return t-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;let e=this.rootNode.sibling?1:0,i=this.rootNode.childrenAfterAggFilter;return(i?i.length:0)+e}getTopLevelRowDisplayedIndex(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;let i=t;if(this.rowsToDisplay[0].footer){if(t===0)return 0;i-=1}let n=this.rowsToDisplay[this.rowsToDisplay.length-1],o=i>=this.rootNode.childrenAfterSort.length;if(n.footer&&o)return n.rowIndex;let s=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(t){if(Xe(this.rowsToDisplay))return null;let e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null}onRowGroupOpened(){let t=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:t})}onFilterChanged(t){if(t.afterDataChange)return;let e=this.gos.isAnimateRows(),n=t.columns.length===0||t.columns.some(o=>o.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:e})}onSortChanged(){let t=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:t,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(t){let e=Ei(t),i=new Ch(!1,this.rootNode);return(e||this.gos.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;let e=t.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return e==null||e.length==0}buildRefreshModelParams(t){let e="group",i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(W(t)&&(e=i[t]),Xe(e)){nt(`invalid step ${t}, available steps are ${Object.keys(i).join(", ")}`);return}let n=!this.gos.get("suppressAnimationFrame");return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(t){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;let e=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(!e||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;let i=this.createChangePath(e.rowNodeTransactions);switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,e.rowNodeOrder,i,!!e.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(e.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}let n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){let t=Xe(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Xe(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return W(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let i=!1,n=!1,o=[],s=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(r=>{if(n)return;if(i&&(r===e||r===t)&&(n=!0,r.group&&s)){o.push(...r.allLeafChildren);return}if(!i){if(r!==e&&r!==t)return;i=!0}if(!r.group||!s){o.push(r);return}}),o}setDatasource(t){nt("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let e=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;if(Ze(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;let o=-1,s=-1;for(;;){let r=Math.floor((e+i)/2),a=this.rowsToDisplay[r];if(this.isRowInPixel(a,t)||(a.rowTop<t?e=r+1:a.rowTop>t&&(i=r-1),o===e&&s===i))return r;o=e,s=i}}isRowInPixel(t,e){let i=t.rowTop,n=t.rowTop+t.rowHeight;return i<=e&&n>e}forEachLeafNode(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((e,i)=>t(e,i))}forEachNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:0,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:1,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:2,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:3,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){let{nodes:e,callback:i,recursionType:n,includeFooterNodes:o}=t,{index:s}=t,r=a=>{let l=e[0]?.parent;if(!l)return;let c=o&&this.gos.getGrandTotalRow(),d=this.gos.getGroupTotalRowCallback(),u=o&&d({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),i(l.sibling,s++));return}u===a&&(l.createFooter(),i(l.sibling,s++))};r("top");for(let a=0;a<e.length;a++){let l=e[a];if(i(l,s++),l.hasChildren()&&!l.footer){let c=null;switch(n){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:n,index:s,includeFooterNodes:o}))}}return r("bottom"),s}doAggregate(t){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(t){let e=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),n=o=>{o&&o.forEach(s=>{let r=()=>{s.expanded=t,n(s.childrenAfterGroup)};if(e){W(s.childrenAfterGroup)&&r();return}if(i){!s.leafGroup&&r();return}s.group&&r()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:t?"expandAll":"collapseAll"})}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,i,n){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:e,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:n}),this.gos.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:t})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(t){if(typeof t=="string"&&t.indexOf(no.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(n=>{n.id===t&&(i=n)}),i}return this.nodeManager.getRowNode(t)}setRowData(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(t,e){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let i=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();let t=[],e=[],i=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(n=>{let o=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);e.push(o),n.callback&&t.push(n.callback.bind(null,o)),typeof n.rowDataTransaction.addIndex=="number"&&(i=!0)}),this.commonUpdateRowData(e,void 0,i),t.length>0&&window.setTimeout(()=>{t.forEach(n=>n())},0),e.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:e}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(t,e){this.valueCache.onDataChanged();let i=this.nodeManager.updateRowData(t,e),n=typeof t.addIndex=="number";return this.commonUpdateRowData([i],e,n),i}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;let e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++){let n=this.rootNode.allLeafChildren[i];e[n.id]=i}return e}commonUpdateRowData(t,e,i){if(!this.hasStarted)return;let n=!this.gos.get("suppressAnimationFrame");i&&(e=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){let t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let t=!1;return this.forEachNode(e=>{e.setRowHeight(e.rowHeight,!0);let i=e.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t=!0}),t}onGridStylesChanges(t){if(t.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};function f3(t){t.expansionService.onGroupExpandedOrCollapsed()}function m3(t,e){t.rowModelHelperService?.getClientSideRowModel()?.refreshModel(e)}function g3(t,e){t.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(e)}function v3(t,e){t.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(e)}function C3(t,e){t.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(e)}function b3(t){if(t.columnModel.isAutoRowHeightActive()){L("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}t.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()}function y3(t,e){return t.frameworkOverrides.wrapIncoming(()=>t.rowModelHelperService?.getClientSideRowModel()?.updateRowData(e))}function w3(t,e,i){t.frameworkOverrides.wrapIncoming(()=>t.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(e,i))}function _3(t){t.frameworkOverrides.wrapIncoming(()=>t.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())}function S3(t){return t.selectionService.getBestCostNodeSelection()}var R3=class extends A{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(t){this.filterManager=t.filterManager}execute(t){let{changedPath:e}=t;this.filter(e)}filter(t){let e=!!this.filterManager?.isChildFilterPresent();this.filterNodes(e,t)}filterNodes(t,e){let i=(n,o)=>{n.hasChildren()&&t&&!o?n.childrenAfterFilter=n.childrenAfterGroup.filter(s=>{let r=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return r||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){let n=(s,r)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){let l=s.childrenAfterGroup[a],c=r||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(s.childrenAfterGroup[a],c):i(l,c)}i(s,r)},o=s=>n(s,!1);e.executeFromRootNode(o)}else{let n=o=>i(o,!1);e.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},x3=class extends A{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(t){this.beans=t,this.columnModel=t.columnModel}execute(t){let e=t.rowNode,i=[],n=this.columnModel.isPivotMode(),o=n&&e.leafGroup,s=o?[e]:e.childrenAfterSort,r=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(r,s,i,n,0);let a=i.length>0;if(!o&&a&&r.grandTotalRow){e.createFooter();let c=r.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(r,e.sibling,i,0,c)}return i}getFlattenDetails(){let t=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!t&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(t,e,i,n,o){if(!Ei(e))for(let s=0;s<e.length;s++){let r=e[s],a=r.hasChildren(),l=n&&!a,c=t.groupRemoveSingleChildren&&a&&r.childrenAfterGroup.length===1,d=t.groupRemoveLowestSingleChildren&&a&&r.leafGroup&&r.childrenAfterGroup.length===1,u=n&&r.leafGroup,p=t.hideOpenParents&&r.expanded&&!r.master&&!u;if(!l&&!p&&!c&&!d&&this.addRowNodeToRowsToDisplay(t,r,i,o),!(n&&r.leafGroup)){if(a){let y=c||d;if(r.expanded||y){let R=t.groupTotalRow({node:r});R||r.destroyFooter();let S=y?o:o+1;R==="top"&&(r.createFooter(),this.addRowNodeToRowsToDisplay(t,r.sibling,i,S)),this.recursivelyAddToRowsToDisplay(t,r.childrenAfterSort,i,n,S),R==="bottom"&&(r.createFooter(),this.addRowNodeToRowsToDisplay(t,r.sibling,i,S))}}else if(r.master&&r.expanded){let y=this.createDetailNode(r);this.addRowNodeToRowsToDisplay(t,y,i,o)}}}}addRowNodeToRowsToDisplay(t,e,i,n,o){o?i.unshift(e):i.push(e),e.setUiLevel(t.isGroupMultiAutoColumn?0:n)}createDetailNode(t){if(W(t.detailNode))return t.detailNode;let e=new no(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,W(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e}},E3=class extends A{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){let t=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:t}setRowData(t){let e=this.createTransactionForRowData(t);if(!e)return;let[i,n]=e;this.clientSideRowModel.updateRowData(i,n)}createTransactionForRowData(t){if(Xe(this.clientSideRowModel)){nt("ImmutableService only works with ClientSideRowModel");return}let e=this.gos.getRowIdCallback();if(e==null){nt("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}let i={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return W(t)&&t.forEach((r,a)=>{let l=e({data:r,level:0}),c=n[l];s&&(s[l]=a),c?(c.data!==r&&i.update.push(r),n[l]=void 0):i.add.push(r)}),rn(n,(r,a)=>{a&&i.remove.push(a.data)}),[i,s]}onRowDataUpdated(){let t=this.gos.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))}},D3=class extends A{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.rowNodeSorter=t.rowNodeSorter,this.showRowGroupColsService=t.showRowGroupColsService}sort(t,e,i,n,o,s){let r=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(p=>p.isRowGroupActive()),l={};i&&n&&(l=this.calculateDirtyNodes(n));let c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows"),u=p=>{this.pullDownGroupDataForHideOpenParents(p.childrenAfterAggFilter,!0);let m=c&&p.leafGroup;if(r&&a&&!p.leafGroup&&!s){let S=this.funcColsService.getRowGroupColumns()?.[p.level+1]?.getSort()===null,k=p.childrenAfterAggFilter.slice(0);if(p.childrenAfterSort&&!S){let P={};p.childrenAfterSort.forEach((B,U)=>{P[B.id]=U}),k.sort((B,U)=>(P[B.id]??0)-(P[U.id]??0))}p.childrenAfterSort=k}else!e||m?p.childrenAfterSort=p.childrenAfterAggFilter.slice(0):i?p.childrenAfterSort=this.doDeltaSort(p,l,o,t):p.childrenAfterSort=this.rowNodeSorter.doFullSort(p.childrenAfterAggFilter,t);if(p.sibling&&(p.sibling.childrenAfterSort=p.childrenAfterSort),this.updateChildIndexes(p),d){let R={nodes:p.childrenAfterSort};d(R)}};o&&o.forEachChangedNodeDepthFirst(u),this.updateGroupDataForHideOpenParents(o)}calculateDirtyNodes(t){let e={},i=n=>{n&&n.forEach(o=>e[o.id]=!0)};return t&&t.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),e}doDeltaSort(t,e,i,n){let o=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(o,n);let r={},a=[];o.forEach(u=>{e[u.id]||!i.canSkip(u)?a.push(u):r[u.id]=!0});let l=s.filter(u=>r[u.id]),c=(u,p)=>({currentPos:p,rowNode:u}),d=a.map(c).sort((u,p)=>this.rowNodeSorter.compareRowNodes(n,u,p));return this.mergeSortedArrays(n,d,l.map(c)).map(({rowNode:u})=>u)}mergeSortedArrays(t,e,i){let n=[],o=0,s=0;for(;o<e.length&&s<i.length;)this.rowNodeSorter.compareRowNodes(t,e[o],i[s])<0?n.push(e[o++]):n.push(i[s++]);for(;o<e.length;)n.push(e[o++]);for(;s<i.length;)n.push(i[s++]);return n}updateChildIndexes(t){if(Xe(t.childrenAfterSort))return;let e=t.childrenAfterSort;for(let i=0;i<e.length;i++){let n=e[i],o=i===0,s=i===t.childrenAfterSort.length-1;n.setFirstChild(o),n.setLastChild(s),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(t){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return L("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;let e=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&e(n)})};t&&t.executeFromRootNode(i=>e(i))}pullDownGroupDataForHideOpenParents(t,e){!this.gos.get("groupHideOpenParents")||Xe(t)||t.forEach(i=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(o=>{let s=o.getColDef().showRowGroup;if(typeof s!="string"){nt("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}let r=s,a=this.columnModel.getColDefCol(r);if(a!==i.rowGroupColumn)if(e)i.setGroupValue(o.getId(),void 0);else{let c=i.getFirstChildOfFirstChild(a);c&&i.setGroupValue(o.getId(),c.key)}})})}},T3=class extends A{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(t){this.sortService=t.sortService,this.sortController=t.sortController}execute(t){let e=this.sortController.getSortOptions(),i=W(e)&&e.length>0,n=i&&W(t.rowNodeTransactions)&&this.gos.get("deltaSort"),o=e.some(s=>this.gos.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(e,i,n,t.rowNodeTransactions,t.changedPath,o)}},YC="32.1.0",Xx={version:YC,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[p3,R3,T3,x3,D3,E3]},I3={version:YC,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[Kx],apiFunctions:{onGroupExpandedOrCollapsed:f3,refreshClientSideRowModel:m3,forEachLeafNode:g3,forEachNodeAfterFilter:v3,forEachNodeAfterFilterAndSort:C3,resetRowHeights:b3,applyTransaction:y3,applyTransactionAsync:w3,flushAsyncTransactions:_3,getBestCostNodeSelection:S3},dependantModules:[Xx,l3]},k3={version:YC,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[Xx,I3]},M3=class extends A{setBeans(t){this.beans=t}getFileName(t){let e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?`${t}.${e}`:t}getData(t){let e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},P3=class{constructor(t){this.groupColumns=[];let{columnModel:e,funcColsService:i,columnNameService:n,valueService:o,gos:s,processCellCallback:r,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=t;this.columnModel=e,this.funcColsService=i,this.columnNameService=n,this.valueService=o,this.gos=s,this.processCellCallback=r,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(t){this.groupColumns=t.filter(e=>!!e.getColDef().showRowGroup)}extractHeaderValue(t){return this.getHeaderName(this.processHeaderCallback,t)??""}extractRowCellValue(t,e,i,n,o){let r=(!this.gos.get("groupHideOpenParents")||o.footer)&&this.shouldRenderGroupSummaryCell(o,t,e)?this.createValueForGroupNode(t,o):this.valueService.getValue(t,o);return this.processCell({accumulatedRowIndex:i,rowNode:o,column:t,value:r,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(t,e,i){if(!(t&&t.group))return!1;if(this.groupColumns.indexOf(e)!==-1){if(t.groupData?.[e.getId()]!=null||this.gos.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&t.level===-1){let r=e.getColDef();return r==null||r.showRowGroup===!0||r.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}let s=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return i===0&&s}getHeaderName(t,e){return t?t(this.gos.addGridCommonParams({column:e})):this.columnNameService.getDisplayNameForColumn(e,"csv",!0)}createValueForGroupNode(t,e){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:t,node:e}));let i=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),o=l=>{if(i||n)return l.key;let c=l.groupData?.[t.getId()];return!c||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?c:this.valueService.formatValue(l.rowGroupColumn,l,c)??c},s=e.footer,r=[o(e)];if(!this.gos.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,r.push(o(e));let a=r.reverse().join(" -> ");return s?`Total ${a}`:a}processCell(t){let{accumulatedRowIndex:e,rowNode:i,column:n,value:o,processCellCallback:s,type:r}=t;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:e,column:n,node:i,value:o,type:r,parseValue:a=>this.valueService.parseValue(n,i,a,this.valueService.getValue(n,i)),formatValue:a=>this.valueService.formatValue(n,i,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:o??"",valueFormatted:this.valueService.formatValue(n,i,o)}:{value:o??""}}},A3=class{static download(t,e){let i=document.defaultView||window;if(!i){L("There is no `window` associated with the current `document`");return}let n=document.createElement("a"),o=i.URL.createObjectURL(e);n.setAttribute("href",o),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(o)},0)}},lR=`\r
`,F3=class extends P3{constructor(t){super(t),this.isFirstLine=!0,this.result="";let{suppressQuotes:e,columnSeparator:i}=t;this.suppressQuotes=e,this.columnSeparator=i}addCustomContent(t){t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,lR),this.result+=t):t.forEach(e=>{this.beginNewLine(),e.forEach((i,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(t,e,i,n){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(n)}appendEmptyCells(t){for(let e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(t,e){e!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(t,e,i){e!=0&&(this.result+=this.columnSeparator);let n=this.extractRowCellValue(t,e,e,"csv",i);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(t){if(this.suppressQuotes)return t;if(t==null)return'""';let e;return typeof t=="string"?e=t:typeof t.toString=="function"?e=t.toString():(L("unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=lR),this.isFirstLine=!1}},O3=class extends M3{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(t){this.columnModel=t.columnModel,this.columnNameService=t.columnNameService,this.funcColsService=t.funcColsService,this.valueService=t.valueService,this.gridSerializer=t.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(t){let e=this.gos.get("defaultCsvExportParams");return Object.assign({},e,t)}export(t){if(this.isExportSuppressed()){L("Export cancelled. Export is not allowed as per your configuration.");return}let e=this.getMergedParams(t),i=this.getData(e),n=new Blob(["\uFEFF",i],{type:"text/plain"}),o=typeof e.fileName=="function"?e.fileName(this.gos.getGridCommonParams()):e.fileName;A3.download(this.getFileName(o),n)}exportDataAsCsv(t){this.export(t)}getDataAsCsv(t,e=!1){let i=e?Object.assign({},t):this.getMergedParams(t);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(t){let{columnModel:e,columnNameService:i,funcColsService:n,valueService:o,gos:s}=this,{processCellCallback:r,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:u}=t;return new F3({columnModel:e,columnNameService:i,funcColsService:n,valueService:o,gos:s,processCellCallback:r||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function N3(t,e){return t.csvCreator?.getDataAsCsv(e)}function L3(t,e){t.csvCreator?.exportDataAsCsv(e)}var B3=class extends A{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(t){this.visibleColsService=t.visibleColsService,this.columnModel=t.columnModel,this.columnNameService=t.columnNameService,this.rowModel=t.rowModel,this.pinnedRowModel=t.pinnedRowModel,this.selectionService=t.selectionService,this.rowNodeSorter=t.rowNodeSorter,this.sortController=t.sortController}serialize(t,e={}){let{allColumns:i,columnKeys:n,skipRowGroups:o}=e,s=this.getColumnsToExport(i,o,n);return fO(this.prepareSession(s),this.prependContent(e),this.exportColumnGroups(e,s),this.exportHeaders(e,s),this.processPinnedTopRows(e,s),this.processRows(e,s),this.processPinnedBottomRows(e,s),this.appendContent(e))(t).parse()}processRow(t,e,i,n){let o=e.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),r=this.gos.get("groupRemoveLowestSingleChildren"),l=e.rowPositions!=null||!!e.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,d=this.columnModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,p=r&&n.leafGroup,m=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&(s||p);if(!d&&!u&&(e.skipRowGroups||m||c)||e.onlySelected&&!n.isSelected()||e.skipPinnedTop&&n.rowPinned==="top"||e.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!d&&!u||o(this.gos.addGridCommonParams({node:n})))return;let S=t.onNewBodyRow(n);if(i.forEach((k,P)=>{S.onColumn(k,P,n)}),e.getCustomContentBelowRow){let k=e.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));k&&t.addCustomContent(k)}}appendContent(t){return e=>{let i=t.appendContent;return i&&e.addCustomContent(i),e}}prependContent(t){return e=>{let i=t.prependContent;return i&&e.addCustomContent(i),e}}prepareSession(t){return e=>(e.prepare(t),e)}exportColumnGroups(t,e){return i=>{if(!t.skipColumnGroupHeaders){let n=new bR,o=this.visibleColsService.createGroups({columns:e,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(o,i,t.processGroupHeaderCallback)}return i}}exportHeaders(t,e){return i=>{if(!t.skipColumnHeaders){let n=i.onNewHeaderRow();e.forEach((o,s)=>{n.onColumn(o,s,void 0)})}return i}}processPinnedTopRows(t,e){return i=>{let n=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(o=>o.rowPinned==="top").sort((o,s)=>o.rowIndex-s.rowIndex).map(o=>this.pinnedRowModel.getPinnedTopRow(o.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),i}}processRows(t,e){return i=>{let n=this.rowModel,o=n.getType(),s=o==="clientSide",r=o==="serverSide",a=!s&&t.onlySelected,l=this.processRow.bind(this,i,t,e),{exportedRows:c="filteredAndSorted"}=t;if(t.rowPositions)t.rowPositions.filter(d=>d.rowPinned==null).sort((d,u)=>d.rowIndex-u.rowIndex).map(d=>n.getRow(d.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())s?n.forEachPivotNode(l,!0):r?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);else if(t.onlySelectedAllPages||a){let d=this.selectionService.getSelectedNodes();this.replicateSortedOrder(d),d.forEach(l)}else c==="all"?n.forEachNode(l):s||r?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);return i}}replicateSortedOrder(t){let e=this.sortController.getSortOptions(),i=(n,o)=>n.rowIndex!=null&&o.rowIndex!=null?n.rowIndex-o.rowIndex:n.level===o.level?n.parent?.id===o.parent?.id?this.rowNodeSorter.compareRowNodes(e,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(n.parent,o.parent):n.level>o.level?i(n.parent,o):i(n,o.parent);t.sort(i)}processPinnedBottomRows(t,e){return i=>{let n=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,s)=>o.rowIndex-s.rowIndex).map(o=>this.pinnedRowModel.getPinnedBottomRow(o.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),i}}getColumnsToExport(t=!1,e=!1,i){let n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);let o=this.gos.get("treeData"),s=[];return t&&!n?s=this.columnModel.getCols():s=this.visibleColsService.getAllCols(),e&&!o&&(s=s.filter(r=>r.getColId()!==hc)),s}recursivelyAddHeaderGroups(t,e,i){let n=[];t.forEach(o=>{let s=o;s.getChildren&&s.getChildren().forEach(r=>n.push(r))}),t.length>0&&At(t[0])&&this.doAddHeaderHeader(e,t,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,e,i)}doAddHeaderHeader(t,e,i){let n=t.onNewHeaderGroupingRow(),o=0;e.forEach(s=>{let r=s,a;i?a=i(this.gos.addGridCommonParams({columnGroup:r})):a=this.columnNameService.getDisplayNameForColumnGroup(r,"header");let l=r.getLeafColumns().reduce((c,d,u,p)=>{let m=Ze(c);return d.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[u],c.push(m)):m&&m[1]==null&&(m[1]=u-1),u===p.length-1&&m&&m[1]==null&&(m[1]=u),c},[]);n.onColumn(r,a||"",o++,r.getLeafColumns().length-1,l)})}},QC="32.1.0",Yx={version:QC,moduleName:"@ag-grid-community/csv-export-core",beans:[O3,B3]},V3={version:QC,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:N3,exportDataAsCsv:L3},dependantModules:[Yx]},G3={version:QC,moduleName:"@ag-grid-community/csv-export",dependantModules:[Yx,V3]};var qJ=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var W3=class extends q2{wireBeans(t){this.beans=t}constructor(t,e,i){super(t),this.parentCache=e,this.params=i,this.startRow=t*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(t,e,i){W(e)?t.setDataAndId(e,i.toString()):t.setDataAndId(void 0,void 0)}loadFromDatasource(){let t=this.createLoadParams();if(Xe(this.params.datasource.getRows)){L("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(t)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(t,e,i){this.rowNodes.forEach((n,o)=>{this.startRow+o<i&&t(n,e.next())})}getLastAccessed(){return this.lastAccessed}getRow(t,e=!1){e||(this.lastAccessed=this.params.lastAccessedSequence.next());let i=t-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let t=0;t<this.params.blockSize;t++){let e=this.startRow+t,i=new no(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(e),i.setRowTop(this.params.rowHeight*e),this.rowNodes.push(i)}}processServerResult(t){this.rowNodes.forEach((i,n)=>{let o=t.rowData?t.rowData[n]:void 0;!i.id&&i.alreadyRendered&&o&&(this.rowNodes[n]=new no(this.beans),this.rowNodes[n].setRowIndex(i.rowIndex),this.rowNodes[n].setRowTop(i.rowTop),this.rowNodes[n].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],o,this.startRow+n)});let e=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,e)}destroy(){this.rowNodes.forEach(t=>{t.clearRowTopAndRowIndex()}),super.destroy()}},H3=2,U3=class extends A{constructor(t){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=t.initialRowCount,this.params=t}wireBeans(t){this.rowRenderer=t.rowRenderer,this.focusService=t.focusService}getRow(t,e=!1){let i=Math.floor(t/this.params.blockSize),n=this.blocks[i];if(!n){if(e)return;n=this.createBlock(i)}return n.getRow(t)}createBlock(t){let e=this.createBean(new W3(t,this,this.params));return this.blocks[e.getId()]=e,this.blockCount++,this.purgeBlocksIfNeeded(e),this.params.rowNodeBlockLoader.addBlock(e),e}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(e=>e.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(t=>this.destroyBlock(t)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,e){this.isAlive()&&(this.gos.get("debug")&&ln(`InfiniteCache - onPageLoaded: page = ${t.getId()}, lastRow = ${e}`),this.checkRowCount(t,e),this.onCacheUpdated())}purgeBlocksIfNeeded(t){let e=this.getBlocksInOrder().filter(r=>r!=t),i=(r,a)=>a.getLastAccessed()-r.getLastAccessed();e.sort(i);let n=this.params.maxBlocksInCache>0,o=n?this.params.maxBlocksInCache-1:null,s=H3-1;e.forEach((r,a)=>{let l=r.getState()==="needsLoading"&&a>=s,c=n?a>=o:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(r)||this.isBlockFocused(r))return;this.removeBlockFromCache(r)}})}isBlockFocused(t){let e=this.focusService.getFocusCellToUseAfterRefresh();if(!e||e.rowPinned!=null)return!1;let i=t.getStartRow(),n=t.getEndRow();return e.rowIndex>=i&&e.rowIndex<n}isBlockCurrentlyDisplayed(t){let e=t.getStartRow(),i=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,i)}removeBlockFromCache(t){t&&this.destroyBlock(t)}checkRowCount(t,e){if(typeof e=="number"&&e>=0)this.rowCount=e,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let n=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(t,e){this.rowCount=t,W(e)&&(this.lastRowIndexKnown=e),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(t){let e=new ia;this.getBlocksInOrder().forEach(i=>i.forEachNode(t,e,this.rowCount))}getBlocksInOrder(){let t=(i,n)=>i.getId()-n.getId();return qo(this.blocks).sort(t)}destroyBlock(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let t=[];this.getBlocksInOrder().forEach(e=>{e.getId()*this.params.blockSize>=this.rowCount&&t.push(e)}),t.length>0&&t.forEach(e=>this.destroyBlock(e))}purgeCache(){this.getBlocksInOrder().forEach(t=>this.removeBlockFromCache(t)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(t,e){let i=[],n=-1,o=!1,s=new ia,r=!1;return this.getBlocksInOrder().forEach(l=>{if(!r){if(o&&n+1!==l.getId()){r=!0;return}n=l.getId(),l.forEachNode(c=>{let d=c===t||c===e;(o||d)&&i.push(c),d&&(o=!o)},s,this.rowCount)}}),r||o?[]:i}},z3=class extends A{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(t){this.filterManager=t.filterManager,this.sortController=t.sortController,this.selectionService=t.selectionService,this.rowRenderer=t.rowRenderer,this.rowNodeBlockLoader=t.rowNodeBlockLoader}getRowBounds(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&L("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()}isSortModelDifferent(){return!ac(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]}reset(){if(!this.datasource)return;this.gos.getRowIdCallback()!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new ia},this.infiniteCache=this.createBean(new U3(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(t=>{t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*t.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)}getRowNode(t){let e;return this.forEachNode(i=>{i.id===t&&(e=i)}),e}forEachNode(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(t){return t}getRowIndexAtPixel(t){if(this.rowHeight!==0){let e=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return e>i?i:e}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(t){return!!this.getRowNode(t.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)}};function j3(t){t.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()}function $3(t){t.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()}function K3(t){return t.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}function q3(t){return t.rowModelHelperService?.getInfiniteRowModel()?.isLastRowIndexKnown()}var ZC="32.1.0",Qx={version:ZC,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[z3],dependantModules:[Y2]},X3={version:ZC,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[Kx],apiFunctions:{refreshInfiniteCache:j3,purgeInfiniteCache:$3,getInfiniteRowCount:K3,isLastRowIndexKnown:q3},dependantModules:[Qx,c3]},Y3={version:ZC,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[Qx,X3]};hi.__registerModules([Hx,k3,Y3,G3],!1,void 0);var Zx=(()=>{let e=class e extends qx{setViewContainerRef(n,o){this.viewContainerRef=n,this.angularFrameworkOverrides=o}createWrapper(n){let o=this.angularFrameworkOverrides,s=this;class r extends JC{init(c){o.runInsideAngular(()=>{super.init(c),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return o.runInsideAngular(()=>s.createComponent(n))}hasMethod(c){return a.getFrameworkComponentInstance()[c]!=null}callMethod(c,d){let u=this.getFrameworkComponentInstance();return o.runInsideAngular(()=>a.getFrameworkComponentInstance()[c].apply(u,d))}addMethod(c,d){a[c]=d}}let a=new r;return a}createComponent(n){return this.viewContainerRef.createComponent(n)}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=jt(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),JC=class{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,cn(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},Jx=(()=>{let e=class e extends XC{constructor(n){super("angular"),this._ngZone=n,this.isRunningWithinTestZone=!1,this.wrapIncoming=(o,s)=>this.runOutside(o,s),this.wrapOutgoing=o=>this.runInsideAngular(o),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(o,s)=>s==="resize-observer"||s==="popupPositioning"?this._ngZone.runOutsideAngular(o):o():this.runOutside=o=>this._ngZone.runOutsideAngular(o):this.runOutside=o=>o()}get shouldWrapOutgoing(){return this._ngZone&&pe.isInAngularZone()}isFrameworkComponent(n){if(!n)return!1;let o=n.prototype;return o&&"agInit"in o}runInsideAngular(n){return this._ngZone?this._ngZone.run(n):n()}runOutsideAngular(n,o){return this.runOutside(n,o)}};e.\u0275fac=function(o){return new(o||e)(F(pe))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),eE=(()=>{let e=class e{constructor(n,o,s,r){this.viewContainerRef=o,this.angularFrameworkOverrides=s,this.frameworkComponentWrapper=r,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(a=>{this._resolveFullyReady=a}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new M,this.toolPanelSizeChanged=new M,this.columnMenuVisibleChanged=new M,this.contextMenuVisibleChanged=new M,this.cutStart=new M,this.cutEnd=new M,this.pasteStart=new M,this.pasteEnd=new M,this.columnVisible=new M,this.columnPinned=new M,this.columnResized=new M,this.columnMoved=new M,this.columnValueChanged=new M,this.columnPivotModeChanged=new M,this.columnPivotChanged=new M,this.columnGroupOpened=new M,this.newColumnsLoaded=new M,this.gridColumnsChanged=new M,this.displayedColumnsChanged=new M,this.virtualColumnsChanged=new M,this.columnEverythingChanged=new M,this.columnHeaderMouseOver=new M,this.columnHeaderMouseLeave=new M,this.columnHeaderClicked=new M,this.columnHeaderContextMenu=new M,this.componentStateChanged=new M,this.cellValueChanged=new M,this.cellEditRequest=new M,this.rowValueChanged=new M,this.cellEditingStarted=new M,this.cellEditingStopped=new M,this.rowEditingStarted=new M,this.rowEditingStopped=new M,this.undoStarted=new M,this.undoEnded=new M,this.redoStarted=new M,this.redoEnded=new M,this.rangeDeleteStart=new M,this.rangeDeleteEnd=new M,this.fillStart=new M,this.fillEnd=new M,this.filterOpened=new M,this.filterChanged=new M,this.filterModified=new M,this.advancedFilterBuilderVisibleChanged=new M,this.chartCreated=new M,this.chartRangeSelectionChanged=new M,this.chartOptionsChanged=new M,this.chartDestroyed=new M,this.cellKeyDown=new M,this.gridReady=new M,this.firstDataRendered=new M,this.gridSizeChanged=new M,this.modelUpdated=new M,this.virtualRowRemoved=new M,this.viewportChanged=new M,this.bodyScroll=new M,this.bodyScrollEnd=new M,this.dragStarted=new M,this.dragStopped=new M,this.stateUpdated=new M,this.paginationChanged=new M,this.rowDragEnter=new M,this.rowDragMove=new M,this.rowDragLeave=new M,this.rowDragEnd=new M,this.columnRowGroupChanged=new M,this.rowGroupOpened=new M,this.expandOrCollapseAll=new M,this.pivotMaxColumnsExceeded=new M,this.pinnedRowDataChanged=new M,this.rowDataUpdated=new M,this.asyncTransactionsFlushed=new M,this.storeRefreshed=new M,this.headerFocused=new M,this.cellClicked=new M,this.cellDoubleClicked=new M,this.cellFocused=new M,this.cellMouseOver=new M,this.cellMouseOut=new M,this.cellMouseDown=new M,this.rowClicked=new M,this.rowDoubleClicked=new M,this.rowSelected=new M,this.selectionChanged=new M,this.cellContextMenu=new M,this.rangeSelectionChanged=new M,this.tooltipShow=new M,this.tooltipHide=new M,this.sortChanged=new M,this._nativeElement=n.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);let n=wR(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};let o=$x(this._nativeElement,n,this.gridParams);o&&(this.api=o),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(n){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{let o={};Object.entries(n).forEach(([s,r])=>{o[s]=r.currentValue}),_R(o,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(n){let s=this[n],r=s?.observed??s?.observers?.length>0,a=`on${n.charAt(0).toUpperCase()}${n.substring(1)}`,l=!!this.gridOptions&&!!this.gridOptions[a];return r||l}globalEventListener(n,o){if(this._destroyed)return;let s=this[n];if(s&&this.isEmitterUsed(n)){let r=()=>this.angularFrameworkOverrides.runInsideAngular(()=>s.emit(o));this._holdEvents?this._fullyReady.then(()=>r()):r()}}};e.\u0275fac=function(o){return new(o||e)(b(re),b(Bt),b(Jx),b(Zx))},e.\u0275cmp=$({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:"applyQuickFilterBeforePivotOrAgg",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:"suppressAdvancedFilterEval",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",loading:"loading",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",suppressServerSideFullWidthLoadingRow:"suppressServerSideFullWidthLoadingRow",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},standalone:!0,features:[$e([Jx,Zx]),Ct,K],decls:0,vars:0,template:function(o,s){},encapsulation:2});let t=e;return t})();var aa=class t{transform(e,i=0,n=4){if(isNaN(e)||isNaN(i))return"";i<0&&(i=0);let o=e-i;return this.toEngineeringNotation(o,n)+"s"}toEngineeringNotation(e,i){return e.toFixed(i)}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Hs({name:"timestampConverter",type:t,pure:!0,standalone:!0})};var la=class t{constructor(e){this.timestampConverterPipe=e}params;transformedValue="";agInit(e){this.params=e;let i=e.value,n=0,o=4;this.transformedValue=this.timestampConverterPipe.transform(i,n,o)}refresh(){return!1}static \u0275fac=function(i){return new(i||t)(b(aa))};static \u0275cmp=$({type:t,selectors:[["app-timestamp-cell-renderer"]],standalone:!0,features:[$e([aa]),K],decls:1,vars:1,template:function(i,n){i&1&&_(0),i&2&&ze(n.transformedValue)},encapsulation:2})};var ca=class t{transform(e,i){return co(100),i[e]}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Hs({name:"enumToString",type:t,pure:!0,standalone:!0})};var Sn=class t{constructor(e){this.enumToStringPipe=e}params;transformedValue="";agInit(e){this.params=e;let i=e.value,n=e.enumType;this.transformedValue=this.enumToStringPipe.transform(i,n)}refresh(){return!1}static \u0275fac=function(i){return new(i||t)(b(ca))};static \u0275cmp=$({type:t,selectors:[["app-enum-to-string-cell-renderer"]],standalone:!0,features:[$e([ca]),K],decls:1,vars:1,template:function(i,n){i&1&&_(0),i&2&&ze(n.transformedValue)},encapsulation:2})};var da=class t{transform(e){if(e==null)return"";if(typeof e=="bigint")return`0x${e.toString(16).toUpperCase()}`;let i=parseInt(e,10);return isNaN(i)||i===-1?"":`0x${i.toString(16).toUpperCase()}`}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Hs({name:"decimalToHex",type:t,pure:!0,standalone:!0})};var bh=class t{constructor(e){this.decimalToHexPipe=e}transformedValue="";agInit(e){let i=e.value;this.transformedValue=this.decimalToHexPipe.transform(i)}refresh(){return!1}static \u0275fac=function(i){return new(i||t)(b(da))};static \u0275cmp=$({type:t,selectors:[["app-decimal-to-hex-cell-renderer"]],standalone:!0,features:[$e([da]),K],decls:1,vars:1,template:function(i,n){i&1&&_(0),i&2&&ze(n.transformedValue)},encapsulation:2})};var yh=class t{constructor(e){this.protoService=e}columnDefs=[{field:"frameIndex",headerName:"S.No",width:80},{field:"protocol",headerName:"Protocol",width:100,cellRenderer:Sn,cellRendererParams:{enumType:ou}},{field:"startTime",headerName:"StartTime",width:100,cellRenderer:la},{field:"stopTime",headerName:"StopTime",width:100,cellRenderer:la},{field:"frameType",headerName:"Message",width:160,cellRenderer:Sn,cellRendererParams:{enumType:Ss}},{field:"errorType",headerName:"Error Type",width:150,cellRenderer:Sn,cellRendererParams:{enumType:kn}}];packetColumnDefs=[{headerName:"Time",width:90,valueGetter:e=>{let i=e.data.packet;switch(i.oneofKind){case"start":return i.start.startInterval.startTime;case"address":return i.address.addressInterval.startTime;case"command":return i.command.commandInterval.startTime;case"data":return i.data.dataInterval.startTime;case"stop":return i.stop.stopInterval.startTime}},cellRenderer:la},{headerName:"PacketType",width:100,valueGetter:e=>{let i=e.data.packet;switch(i.oneofKind){case"start":return i.start?.startType;case"address":return i.address?.packetType;case"command":return i.command?.packetType;case"data":return i.data?.packetType;case"stop":return"Stop";default:return"Unknown"}},cellRendererSelector:e=>e.data.packet.oneofKind==="start"?{component:Sn,params:{enumType:Dl}}:{component:Sn,params:{enumType:Lo}}},{headerName:"Value",width:90,valueGetter:e=>{let i=e.data.packet;switch(i.oneofKind){case"start":return;case"address":return i.address?.addressValue||"N/A";case"command":return i.command?.commandValue||"N/A";case"data":return i.data?.dataValue;case"stop":return;default:return"N/A"}},cellRenderer:bh},{headerName:"Host",width:90,valueGetter:e=>{let i=e.data.packet;switch(i.oneofKind){case"start":return;case"address":return i.address?.hostDevice;case"command":return i.command?.hostDevice;case"data":return i.data?.hostDevice;case"stop":return i.address?.hostDevice;default:return"Unknown"}},cellRenderer:Sn,cellRendererParams:{enumType:Bo}},{headerName:"Frequency",width:100,valueGetter:e=>{let i=e.data.packet;switch(i.oneofKind){case"start":return;case"address":return i.address?.frequency;case"command":return i.command?.frequency;case"data":return i.data?.frequency;case"stop":return;default:return"Unknown"}}},{headerName:"Protocol",width:100,valueGetter:e=>{let i=e.data.packet;switch(i.oneofKind){case"start":return;case"address":return i.address?.protocolMode;case"command":return i.command?.protocolMode;case"data":return i.data?.protocolMode;case"stop":return;default:return"Unknown"}},cellRenderer:Sn,cellRendererParams:{enumType:Vo}},{headerName:"Error",width:150,valueGetter:e=>{let i=e.data.packet;switch(i.oneofKind){case"start":return;case"address":return i.address?.errorType;case"command":return i.command?.errorType;case"data":return i.data?.errorType;case"stop":return;default:return"Unknown"}},cellRenderer:Sn,cellRendererParams:{enumType:kn}}];dataSource;gridApi;totalMessages=0n;selectedFrame=null;selectedPackets=[];ngOnInit(){this.dataSource={rowCount:-1,getRows:e=>{let i=BigInt(e.startRow),n=BigInt(e.endRow);console.log(`getrows: ${i}, ${n}`),this.totalMessages>n?e.failCallback():Zt(this.protoService.requestMessages("I3C__1",i,n-i)).subscribe(o=>{e.successCallback(o,Number(this.totalMessages)),console.log(o)})}},this.protoService.messagesAvailable$.subscribe(e=>{this.totalMessages=e.totalMessages,console.log(`Protocol: ${e.protocolName}, Messages Available: ${this.totalMessages}`),this.gridApi!=null&&(console.log(Number(this.totalMessages)),this.gridApi.setRowCount(Number(this.totalMessages),!1),this.gridApi.refreshInfiniteCache())},e=>{console.error("Error in messages subscription:",e)})}onGridReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit(),console.log("onGridReady()")}onRowSelected(e){e.node&&(this.selectedFrame=e.data,this.selectedPackets=this.selectedFrame?.packets||[],console.log(this.selectedPackets))}static \u0275fac=function(i){return new(i||t)(b(sn))};static \u0275cmp=$({type:t,selectors:[["app-decoded-result"]],standalone:!0,features:[K],decls:11,vars:8,consts:[["cols","2","rowHeight","1:1","gutterSize","10px"],[1,"grid-container"],[1,"grid-header"],["rowSelection","single",1,"ag-theme-alpine",2,"width","100%","height","100%",3,"gridReady","rowSelected","rowModelType","columnDefs","cacheBlockSize","maxBlocksInCache","infiniteInitialRowCount","datasource"],[1,"ag-theme-alpine",2,"width","100%","height","550px",3,"rowData","columnDefs"]],template:function(i,n){i&1&&(f(0,"mat-grid-list",0)(1,"mat-grid-tile")(2,"div",1)(3,"div",2),_(4," Decoded Result "),g(),f(5,"ag-grid-angular",3),Y("gridReady",function(s){return n.onGridReady(s)})("rowSelected",function(s){return n.onRowSelected(s)}),g()()(),f(6,"mat-grid-tile")(7,"div",1)(8,"div",2),_(9," Selected Frame "),g(),ee(10,"ag-grid-angular",4),g()()()),i&2&&(x(5),G("rowModelType","infinite")("columnDefs",n.columnDefs)("cacheBlockSize",100)("maxBlocksInCache",1)("infiniteInitialRowCount",0)("datasource",n.dataSource),x(5),G("rowData",n.selectedPackets)("columnDefs",n.packetColumnDefs))},dependencies:[eE,$u,ju,Yl],styles:[".ag-theme-alpine[_ngcontent-%COMP%]{--ag-header-background-color: #800080;--ag-header-foreground-color: white;--ag-row-hover-color: #e2dfed;--ag-border-color: #000000}.grid-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.grid-header[_ngcontent-%COMP%]{font-size:1.2em;color:#0f0d0f;background-color:#fefefe;text-align:left;padding:10px}"]})};var wh=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["app-body-view"]],standalone:!0,features:[K],decls:17,vars:0,consts:[["label","Default-View"],["cols","3","rowHeight","2:1","gutterSize","10px"],["colspan","1","rowspan","1",1,"setup-view"],["colspan","2","rowspan","1",1,"plot-view"],["colspan","1","rowspan","1",1,"exerciser-view"],["colspan","1","rowspan","1",1,"decoded-result"],["colspan","1","rowspan","1",1,"selected-frame-view"],["label","Setup-View"],["label","Exerciser-view"],[1,"exerciser-view-content"],["label","Plot-View"],["label","Decoded Result"],["label","SelectedFrame View"]],template:function(i,n){i&1&&(f(0,"mat-tab-group")(1,"mat-tab",0)(2,"mat-grid-list",1),ee(3,"mat-grid-tile",2)(4,"mat-grid-tile",3)(5,"mat-grid-tile",4)(6,"mat-grid-tile",5)(7,"mat-grid-tile",6),g()(),ee(8,"mat-tab",7),f(9,"mat-tab",8)(10,"div")(11,"div",9),ee(12,"app-exerciser-view"),g()()(),ee(13,"mat-tab",10),f(14,"mat-tab",11),ee(15,"app-decoded-result"),g(),ee(16,"mat-tab",12),g())},dependencies:[Ro,vs,br,$u,ju,Yl,Ku,yh],styles:[".mat-tab-group[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:5px;box-shadow:0 2px 5px #0000001a}.mat-tab-label[_ngcontent-%COMP%]{color:#555;font-weight:700;font-size:16px;padding:12px}.mat-tab-label.mat-tab-label-active[_ngcontent-%COMP%]{color:#a61f9b;border-bottom:3px solid #a61f9b}.mat-tab-label[_ngcontent-%COMP%]:hover{color:#a61f9b;cursor:pointer}.mat-tab-body-wrapper[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:0 0 5px 5px;box-shadow:0 2px 5px #0000001a}.setup-view[_ngcontent-%COMP%]{background-color:#cde2ea}.plot-view[_ngcontent-%COMP%]{background-color:#b5d4b5}.exerciser-view[_ngcontent-%COMP%]{background-color:#cbeaab}.decoded-result[_ngcontent-%COMP%]{background-color:#b8b855}.selected-frame-view[_ngcontent-%COMP%]{background-color:#d2b5b9}.mat-grid-tile[_ngcontent-%COMP%]{padding:10px}"]})};var _h=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=$({type:t,selectors:[["app-footer-view"]],standalone:!0,features:[K],decls:4,vars:0,consts:[[1,"footer-content"]],template:function(i,n){i&1&&(f(0,"footer")(1,"div",0)(2,"p"),_(3,"Version 1.0.0.0"),g()()())},styles:["footer[_ngcontent-%COMP%]{width:100%;height:50px;background-color:purple;color:#fff;display:flex;align-items:center;justify-content:center;position:relative;bottom:0;box-shadow:0 -4px 8px #0003}.footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:90%;max-width:1200px;font-size:medium}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}"]})};var Sh=class t{constructor(e){this.protoService=e}title="PGY-I3C-EXPD";currentStatus=null;ngOnInit(){this.connectToServer()}username="EXPD";appServerAddress="127.0.0.1:5702";isAnalyzer=!1;connectToServer(){return Ye(this,null,function*(){let e=cm.create();e.userName=this.username,e.appServerAddress=this.appServerAddress,e.isAnalyzer=this.isAnalyzer;var i=yield this.protoService.connect(e);i.isConnected?(this.protoService.startListeningToEvent_statusUpdate(),console.log("Connected:",i)):(console.error("Error connecting."),alert("Not Connected"))})}static \u0275fac=function(i){return new(i||t)(b(sn))};static \u0275cmp=$({type:t,selectors:[["app-root"]],standalone:!0,features:[K],decls:7,vars:0,consts:[[1,"container"]],template:function(i,n){i&1&&(f(0,"div",0)(1,"header"),ee(2,"app-header-view"),g(),f(3,"main"),ee(4,"app-body-view"),g(),f(5,"footer"),ee(6,"app-footer-view"),g()())},dependencies:[li,ku,Hr,nn,Uo,zu,wh,_h],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:hidden}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{color:#fff;text-align:center;flex-shrink:0}main[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;background-color:#fff;padding:10px}"]})};ly(Sh,yS).catch(t=>console.error(t));
